(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(Object(r.g)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.h)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.h)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6nsN":function(t,e,n){"use strict";n.r(e);var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function O(t,e,n){this.code=D+t,this.message=e||k[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new O(e.substring(D.length),t.message,t.serverResponse):null}I(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var A,D="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function j(t){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");j.call(this,n+t[r])}function F(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}A=N("__EID__")?"__EID__":void 0,I(j,Error),j.prototype.name="CustomError",I(R,j),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new M(function(){return new q},function(t){t.reset()});function B(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=H(t,e)}function Q(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Ct&&e||"",this.b=Et}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Et?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Et={},Ct={};function It(){if(void 0===_t){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){a.console&&a.console.error(n.message)}_t=t}else _t=t}return _t}function Tt(t,e){this.a=e===kt?t:""}function Ot(t){return t instanceof Tt&&t.constructor===Tt?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=wt(t);if(!Dt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Tt(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))}))}Tt.prototype.ta=!0,Tt.prototype.sa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,Dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function xt(t,e){this.a=e===Lt?t:""}function Nt(t){return t instanceof xt&&t.constructor===xt?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}xt.prototype.ta=!0,xt.prototype.sa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof xt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Rt.test(t))t=new xt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(jt);t=e&&Pt.test(e[1])?new xt(t,Lt):null}return t}function Mt(t){return t instanceof xt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new xt(t,Lt))}var Lt={},Vt=new xt("about:invalid#zClosurez",Lt);function Ut(t,e,n){this.a=n===Bt?t:""}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function qt(t,e,n,r){return t=t instanceof xt?t:Mt(t),e=e||a,n=n instanceof bt?wt(n):n||"",e.open(Nt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var Kt,Wt,$t=ft("Opera"),Qt=ft("Trident")||ft("MSIE"),Yt=ft("Edge"),Xt=Yt||Qt,Jt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Wt):Yt?/Edge\/([\d\.]+)/.exec(Wt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):$t?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Qt&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Qt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),ye.add(t,e)}var ve=!1,ye=new V;function be(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){ge(e)}L(U,t)}ve=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){je(n,Ee,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}je(n,Ce,t)})}catch(r){je(this,Ce,r)}}var _e=0,Ee=2,Ce=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new M(function(){return new Ie},function(t){t.reset()});function Oe(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof we)return t;var e=new we(h);return je(e,Ee,t),e}function Ae(t){return new we(function(e,n){n(t)})}function De(t,e,n){Re(t,e,n,null)||me(E(e,t))}function ke(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)De(t[o],E(i,o,!0),E(i,o,!1));else e(r)})}function xe(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==_e&&1==r?xe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Le(n,i,Ce,e)))}t.c=null}else je(t,Ce,e)}function Ne(t,e){t.b||t.a!=Ee&&t.a!=Ce||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Oe(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Ne(t,i),i.a}function je(t,e,n){t.a==_e&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Ce||n instanceof Be||function(t,e){t.g=!0,me(function(){t.g&&Ue.call(null,e)})}(t,n)))}function Re(t,e,n,r){if(t instanceof we)return Ne(t,Oe(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,me(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Ue.call(null,i)}L(Te,e)}function Ve(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Oe(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Be(t);me(function(){xe(this,e)},this)}},t.$c=function(t){this.a=_e,je(this,Ee,t)},t.ad=function(t){this.a=_e,je(this,Ce,t)},t.gc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.i);this.h=!1};var Ue=ge;function Be(t){j.call(this,t)}function qe(){0!=He&&(ze[m(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Be,j),Be.prototype.name="cancel";var He=0,ze={};function Ge(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}qe.prototype.ya=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},We=!Qt||9<=Number(se),$e=Qt&&!oe("9"),Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Xe,Ye);var Je=Ke({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[Ze]?En(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=yn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[Ze]?Cn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=wn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Xe(e,this))}function yn(t){return(t=t[an])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function _n(){qe.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function En(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Cn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function On(t){var e=null;return new we(function(n,r){-1==(e=Tn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Dn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Dn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(_n,qe),_n.prototype[Ze]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;vt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Dn.prototype).X=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return xn(this.b,t)?this.b[t]:e},t.set=function(t,e){xn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,jn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Fn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,jn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Rn(this,n[4]),this.f=Bn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function jn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Wn)),t.b=new Qn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Vn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Un(t,e,n,r){var i=new Pn(null,void 0);return t&&jn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,$n)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?jn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,$n=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new Dn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Yn(t),e=nr(t,e),xn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Zn(t,e){return Yn(t),e=nr(t,e),xn(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new Dn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Yn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Yn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Yn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=X(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=Dr();return Qt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Ft(t)||Vt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||Dr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Dr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Or(Dr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:Ft(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof xt?e:Mt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Nt(e),s&&(Xt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Ut(t=(r=It())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new we(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function br(t){return t=t||Dr(),!("file:"!==jr()&&"ionic:"!==jr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Er(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function Cr(){var t=Er();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Tr="Chrome";function Or(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Ir:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Or(i=Dr()):"Worker"===r&&(r=Or(i=Dr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Dr(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=a.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return _r()&&!!a.indexedDB}return!1}function Nr(){return(Pr()||"chrome-extension:"===jr()||br())&&!Cr()&&xr()&&!_r()}function Pr(){return"http:"===jr()||"https:"===jr()}function jr(){return a.location&&a.location.protocol||null}function Rr(t){return!dr(t=t||Dr())&&Or(t)!=Ir}function Fr(t){return void 0===t?null:rr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Or(t=t||Dr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Dr(),e=Er(),this.b=dr(t)||"ReactNative"===e}function Hr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Gr(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}qr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==jr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function $r(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Qr.abcd}catch(Wt){Kr=!1}function Yr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Jr(t){var e={};return Xr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ii]),Yr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Yr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[di],i=t[pi];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[yi]=n||null,e[gi]=r):(e[mi]=r||null,e[yi]=r||null,e[gi]=n||null),e[vi]=t||null,Yr(this,wi,i),Yr(this,bi,Zr(e))}I(si,ti),si.prototype.w=function(){var t=si.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",di="newEmail",pi="requestType",gi="email",mi="fromEmail",vi="multiFactorInfo",yi="previousEmail",bi="data",wi="operation";function _i(t){var e=Ln(t=Vn(t),Ei)||null,n=Ln(t,Ci)||null,r=Ln(t,Oi)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new O("argument-error",Ei+", "+Ci+"and "+Oi+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,Ii)||null,languageCode:Ln(t,Ti)||null,tenantId:Ln(t,Si)||null})}var Ei="apiKey",Ci="oobCode",Ii="continueUrl",Ti="languageCode",Oi="mode",Si="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Di(t){try{return new _i(t)}catch(e){return null}}function ki(t){var e=t[Ri];if(void 0===e)throw new O("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new O("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Li];var r=n[Fi];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new O("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new O("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new O("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new O("missing-android-pkg-name")}}else if(void 0!==n)throw new O("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[ji])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new O("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new O("argument-error",ji+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new O("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new O("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Ni="dynamicLinkDomain",Pi="handleCodeInApp",ji="iOS",Ri="url",Fi="installApp",Mi="minimumVersion",Li="packageName",Vi="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function qi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new qi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ki},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ki},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ki},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Gi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $i(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Qi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Yi])return new Ji(t)}catch(r){}return null}var Yi="idToken",Xi="providerId";function Ji(t){var e=t[Xi];if(!e&&t[Yi]){var n=Hi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Yr(this,"profile",Zr((t=Lr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Ln(e,"link"),r=Ln(Vn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}I(Zi,Ji),I(to,Zi),I(eo,Zi),I(no,Zi),I(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ys]){var n=Hi(t[Ys]);if(!n||e!=n.i)throw new O("user-mismatch");return t}throw new O("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==D+"user-not-found"?new O("user-mismatch"):t})}function lo(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=($i(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function bo(t){vo.call(this,t,Ki),this.a=[]}function wo(){bo.call(this,"facebook.com")}function _o(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function Co(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function Io(){bo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function Oo(){vo.call(this,"twitter.com",Gi)}function So(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function ko(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=No(e)))throw new O("argument-error","Invalid email link!");return new Ao(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Di(t=io(t)))&&t.operation===ci?t:null}function Po(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new O("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function jo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Po(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Fo(t){try{this.a=t||r.a.auth()}catch(e){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new Po({fb:t,eb:e})}function Lo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return _o(n);case"github.com":return Co(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Se(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return va(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ya(t,n)},lo.prototype.c=function(t,e){return co(ba(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return va(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,ya(t,n)},po.prototype.c=function(t,e){return co(ba(t,go(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Jb=gt(t),this},I(yo,vo),I(bo,vo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return J(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},I(wo,bo),Yr(wo,"PROVIDER_ID","facebook.com"),Yr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Eo,bo),Yr(Eo,"PROVIDER_ID","github.com"),Yr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Io,bo),Yr(Io,"PROVIDER_ID","google.com"),Yr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Oo,vo),Yr(Oo,"PROVIDER_ID","twitter.com"),Yr(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Sa,{email:this.a,oobCode:this.f}):tu(t,Qa,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Aa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,Ba,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return co(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(ko,{PROVIDER_ID:"password"}),Xr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.gb(Ro(this))},Po.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,tu(t,Xa,n)},Po.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",co(t=tu(t,Ja,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fo.prototype.gb=function(t,e){var n=this.a.a;return Se(e.verify()).then(function(r){if("string"!=typeof r)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,Ha,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Va,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xr(Fo,{PROVIDER_ID:"phone"}),Xr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,zo=null;function Go(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function Ko(t,e,n){O.call(this,t,n),(t=e||{}).Kb&&Yr(this,"email",t.Kb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.$b&&Yr(this,"tenantId",t.$b)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:Lo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function $o(){}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}I(Go,O),I(Ko,O),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,I(Qo,$o),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Qo,I(Xo,$o),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(F("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function fs(t){this.f=t}function ds(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(fs,$o),fs.prototype.a=function(){return new ds(this.f)},fs.prototype.b=function(t){return function(){return t}}({}),I(ds,_n);var ps=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ys(t){_n.call(this),this.headers=new Dn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=bs,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):vs(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ys,_n);var bs="";ys.prototype.b=ls("goog.net.XhrIo");var ws=/^https?$/i,_s=["POST","PUT"];function Es(t){return"content-type"==t.toLowerCase()}function Cs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Is(t),Os(t)}function Is(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ts(t){if(t.c&&void 0!==s)if(t.C[1]&&4==As(t)&&2==Ds(t))hs(t.b,ks(t,"Local request error detected and ignored"));else if(t.i&&4==As(t))Tn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==As(t)){hs(t.b,ks(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ws.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<As(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ds(t)+"]",Is(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Ss(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ss(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function As(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<As(t)?t.a.status:-1}catch(e){return-1}}function ks(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function xs(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,Fs(t)}function Ps(t){if(t.a){if(!t.v)throw new Ms(t);t.v=!1}}function js(t,e,n,r){t.g.push([e,n,r]),t.a&&Fs(t)}function Rs(t){return W(t.g,function(t){return p(t[1])})}function Fs(t){if(t.h&&t.a&&Rs(t)){var e=t.h,n=Us[e];n&&(a.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Rs(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof xs?(js(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Vs(e),Us[e.a]=e,t.h=e.a)}function Ms(){j.call(this)}function Ls(){j.call(this)}function Vs(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=ys.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,ks(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,ks(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),ys.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Ts(this):this.Jc())},t.Jc=function(){Ts(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ls(this),Ps(this),Ns(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return js(this,r,function(t){t instanceof Ls?o.cancel():i(t)}),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,I(Ms,j),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",I(Ls,j),Ls.prototype.message="Deferred was canceled",Ls.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function Bs(t){var e={},n=e.document||document,r=Ot(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new xs(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Hs(i,!0);var t=new Ks(Gs,"Timeout reached for loading script "+r);Ps(s),Ns(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,e.xd||!1,u),Ps(s),Ns(s,!0,null))},i.onerror=function(){Hs(i,!0,u);var t=new Ks(zs,"Error while loading script "+r);Ps(s),Ns(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zs=0,Gs=1;function Ks(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),j.call(this,n),this.code=t}function Ws(t){this.f=t}function $s(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=gt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=gt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!_r())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=_r()?new fs(self):Cr()?new Ws(n):new Xo,this.b=null}I(Ks,j),I(Ws,$o),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Qs,Ys="idToken",Xs=new qr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new qr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,jn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=Dr();return!((t=Or(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&se&&!(9<se))})()||_r()?t=_(t.u,t):(Qs||(Qs=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){js(t,null,e,void 0)}(Bs(St(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=_(t.s,t)),t(e,n,r,i,o,s)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ys(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}En(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Cn(s,"ready",function(){u&&clearTimeout(u),Ge(this)}),Cn(s,"timeout",function(){u&&clearTimeout(u),Ge(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ho),t.a.onreadystatechange=_(t.Wb,t);try{hs(t.b,ks(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,ks(t,"Error opening Xhr: "+s.message)),void Cs(t,s)}e=r||"";var o=new Dn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)z(t,e,void 0);else for(var n=An(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(_s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ss(t),0<t.g&&(t.u=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,ks(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),hs(t.b,ks(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,ks(t,"Send error: "+s.message)),Cs(t,s)}}(s,t,n,r,i)};var sa=new bt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new O("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,gt(t));throw new O("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Qs.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$s.prototype.Ab=function(){return tu(this,qa,{})},$s.prototype.Cb=function(t,e){return tu(this,Ua,{idToken:t,email:e})},$s.prototype.Db=function(t,e){return tu(this,Ba,{idToken:t,password:e})};var fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Ga,e)}function ya(t,e){return e.returnIdpCredential=!0,tu(t,Wa,e)}function ba(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ka,e)}function wa(t){if(!t.oobCode)throw new O("invalid-action-code")}(t=$s.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(fa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Ua,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,Ra,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Na,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Pa,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,ja,t)},t.gb=function(t){return tu(this,Ya,t)},t.ob=function(t,e){return tu(this,La,{oobCode:t,newPassword:e})},t.Sa=function(t){return tu(this,Ea,{oobCode:t})},t.kb=function(t){return tu(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:wa,Z:"email",B:!0},Ea={endpoint:"resetPassword",A:wa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},B:!0},Ca={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new O("weak-password")},G:la,V:!0,B:!0},Ia={endpoint:"createAuthUri",B:!0},Ta={endpoint:"deleteAccount",O:["idToken"]},Oa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},Sa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ua,G:la,V:!0,B:!0},Aa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ua,G:la,V:!0},Da={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},ka={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},xa={endpoint:"getAccountInfo"},Na={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");ua(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");ua(t)},Z:"email",B:!0},Fa={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ma={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},La={endpoint:"resetPassword",A:wa,Z:"email",B:!0},Va={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ua={endpoint:"setAccountInfo",O:["idToken"],A:ca,V:!0},Ba={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ca(t),!t.password)throw new O("weak-password")},G:la,V:!0},qa={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ha={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Ga={endpoint:"verifyAssertion",A:pa,Za:ga,G:ma,V:!0,B:!0},Ka={endpoint:"verifyAssertion",A:pa,Za:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new O("internal-error")},Za:ga,G:ma,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new O("invalid-custom-token")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new O("wrong-password")},G:la,V:!0,B:!0},Ya={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Xa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new O("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);la(t)}},Ja={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ys]^!!t.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ae(new O("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Se(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Vn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new we(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new O("network-request-failed"))},r,u?void 0:rr(Mr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new O("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new O(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new O(r[i],e);return!e&&t&&(e=Fr(t)),new O("internal-error",e)}function ru(t){this.b=t,this.a=null,this.sb=function(t){return(au||(au=new we(function(t,e){function n(){Br(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:ou.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Se(Bs(r=St(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new we(function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new bt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new qr(3e4,6e4),su=new qr(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fu(t){var e=lr();return function(t){return tu(t,Fa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Go(lr())})}function du(t){return t.m||(t.m=yr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?Ar(t.c,lu(t.b)):null,t.l=new $s(t.g,N(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.zb(l).toString()}function mu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=_(this.c,this)}uu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},cu.prototype.zb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Mn(t,"customParameters",Fr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Jn(t.b,"eid"),(a=lu(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Pb=function(t,e,n){var r=new O("popup-closed-by-user"),i=new O("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return du(t).then(function(){return function(t,e){return t.sb.then(function(){return new we(function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new we(function(e){return function n(){On(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return On(n).then(function(){e(r)})})},t.Yb=function(){var t=Dr();return!Rr(t)&&!Ur(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new O("popup-blocked"));if(s&&!Rr())return this.ma().o(function(e){pr(t),i(e)}),r(),Se();this.a||(this.a=fu(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Vo(n),s||hr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=fu(pu(this)));var i=this;return this.a.then(function(){Vo(e),hr(gu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return du(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new O("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Y(this.h,function(e){return e==t})},(t=mu.prototype).get=function(t){return Se(this.a.getItem(t)).then(function(t){return t&&Lr(t)})},t.set=function(t,e){return Se(this.a.setItem(t,Fr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,bu=[];function wu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Eu(t){this.c=t,this.b=!1,this.a=[]}function Cu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Iu(t,c),e}).o(function(e){throw Iu(t,c),e})}function Iu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function Tu(){if(!Du())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(z(bu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);bu.push(e)}return e}(),wu(this.v,"keyChanged",function(e,n){return ju(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),wu(this.v,"ping",function(){return Se(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Se(null)}().then(function(e){(t.h=e)&&(t.g=new Eu(new _u(e)),Cu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Ou(t){return new we(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Ou(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Su(t){return t.i||(t.i=Ou(t)),t.i}function Au(t,e){var n=0;return new we(function r(i,o){Su(t).then(e).then(i).o(function(e){if(!(3<++n))return Su(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Du(){try{return!!a.indexedDB}catch(Wt){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Pu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Cu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Se()}function ju(t){return Su(t).then(function(t){var e=ku(xu(t,!1));return e.getAll?Nu(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Ru(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then(function(){if(Du()){var t=Vr(),r="__sak"+t;return yu||(yu=new Tu),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function Lu(){if(!function(){var t="Node"==Er();if(!(t=Vu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Vu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=a.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Er();if(!(t=qu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=qu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var t=a.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Ku,t.Node=Wu,t.ReactNative=$u,t.Worker=Qu,this.a=t[Er()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(Se().then(function(){return e(t.origin,t.data.data)}))}),ke(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Eu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(t=Tu.prototype).set=function(t,e){var n=this,r=!1;return Au(this,function(e){return Nu((e=ku(xu(e,!0))).get(t))}).then(function(i){return Au(n,function(o){if(o=ku(xu(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Nu(o.add(s))})}).then(function(){return n.c[t]=e,Pu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Au(this,function(e){return Nu(ku(xu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Au(this,function(r){return n=!0,e.b++,Nu(ku(xu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Pu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Ru(t),function e(){t.f=setTimeout(function(){t.l=ju(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Ru(this)},(t=Fu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=Mu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Lu.prototype).get=function(t){var e=this;return Se().then(function(){return Lr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Se().then(function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Se().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&fn(a.window,"storage",t)},(t=Uu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Se().then(function(){return Lr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Se().then(function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Se().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zu,Gu,Ku={F:Lu,cb:Bu},Wu={F:Lu,cb:Bu},$u={F:mu,cb:Uu},Qu={F:Lu,cb:Uu},Yu={rd:"local",NONE:"none",td:"session"};function Xu(){var t=!(Ur(Dr())||!wr()),e=Rr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Hu),t=zu;try{this.g=!cr()&&Gr()||!a.indexedDB?new t.a.F:new Fu(_r()?new Mu:new t.a.F)}catch(r){this.g=new Mu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Mu}this.v=new Mu,this.f=_(this.Zb,this),this.b={}}function Ju(){return Gu||(Gu=new Xu),Gu}function Zu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Zu(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Ju()}(t=Xu.prototype).get=function(t,e){return Zu(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Zu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zu(this,"local").ca(this.f),this.h||(cr()||!Gr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zu(this,"local").ia(this.f),nc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zu(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Qt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,_(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function sc(){this.a=Ju()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(gc):gc),this.reset()}I(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var fc=X(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){ac.call(this,8,vc)}I(mc,ac);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function bc(t){return new O("invalid-cordova-configuration",t)}function wc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Vn(i),"firebaseError")||null))?S(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}wc(t,i)})}var n=new Uo("unknown",null,null,null,new O("no-auth-event")),r=!1,i=On(500).then(function(){return Ec(t).then(function(){r||wc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new qo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Ec(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return Bo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Cc(t){this.a=t,this.b=Ju()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?yr().then(function(){return new we(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})},t.Pb=function(t,e){return e(new O("operation-not-supported-in-this-environment")),Se()},t.Nb=function(){return Ae(new O("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ae(new O("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Se().then(function(){return Vo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Uo(e,r,null,o,new O("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new O("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(Dr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Dr().toLowerCase().match(/android/))return Ae(new O("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new mc;pc(e,t),t=[];var n=8*e.g;pc(e,fc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new O("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new O("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new O("invalid-cordova-configuration");e=Dr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Hr()&&c()},o.addEventListener("resume",c=function(){s||(s=On(2e3).then(function(){e(new O("redirect-cancelled-by-user"))}))},!1),Dr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Ec(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new O("no-auth-event")),t(e))})},t.Ta=function(t){Y(this.b,function(e){return e==t})};var Ic={name:"pendingRedirect",F:"session"};function Tc(t){return ec(t.b,Ic,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Bc,this.C=new Kc,this.g=new Cc(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Sc(this.D,this.v,this.m,A,this.J)}function Sc(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return br()?new yc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function Ac(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Dc(t){t.a.Yb()&&Ac(t).o(function(e){var n=new Uo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Rc(e)&&t.s(n)}),t.a.Ub()||qc(t.b)}function kc(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ic,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Tc(t.g).then(function(){Ac(t).o(function(e){var n=new Uo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Rc(e)&&t.s(n)})}):Dc(t)}).o(function(){Dc(t)})}function xc(t,e){Y(t.h,function(t){return t==e})}Oc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Sc(this.D,this.v,this.m,null,this.J),this.i={}},Oc.prototype.s=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return qc(this.b),e};var Nc=new qr(2e3,1e4),Pc=new qr(3e4,6e4);function jc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Rc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Ic,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Rc(e))throw new O("operation-not-supported-in-this-environment");return o=e,Tc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new we(function(){}):Tc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Mc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Nc.get())}Oc.prototype.ra=function(){return this.b.ra()};var Lc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Uc(t,e,n,r){var i=Vc(e,n,r);return Lc[i]||(Lc[i]=new Oc(t,e,n,r)),Lc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(t){t.g||(t.g=!0,Gc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Gc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Kc(){}function Wc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function $c(t,e){this.a=e,Yr(this,"verificationId",t)}function Qc(t,e,n,r){return new Fo(t).gb(e,n).then(function(t){return new $c(t,r)})}function Yc(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xc(t,e,n){var r=e&&e[Zc];if(!r)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[Jc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Gc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Gc(t,a,e,null)}).o(function(e){Gc(t,a,null,e)})}(this,t,e):Ae(new O("invalid-auth-event")):(Gc(this,!1,null,null),Se())}else Ae(new O("invalid-auth-event"))},Bc.prototype.ra=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=On(Pc.get()).then(function(){t.b||(t.g=!0,Gc(t,!0,null,e))})}(t))})},Kc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ae(new O("invalid-auth-event"))}else Ae(new O("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Zc="mfaPendingCredential";function tl(t,e,n,r){O.call(this,"multi-factor-auth-required",r,e),this.b=new Xc(t,e,n),Yr(this,"resolver",this.b)}function el(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Yr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Fo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Hr()||!t?Se():new we(function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function fl(t,e){t.b=Hi(e[Ys]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function pl(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null;this.a=new $s(this.l,N(A),i),(this.u=t.emulatorConfig||null)&&na(this.a,this.u),this.h=new ll(this.a),Il(this,e[Ys]),fl(this.h,e),Yr(this,"refreshToken",this.h.a),Sl(this,n||{}),_n.call(this),this.P=!1,this.s&&Nr()&&(this.b=Uc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=_(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){ml(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){bl(o,t.f)},this.ja=null,this.S=new sl(this,n),Yr(this,"multiFactor",this.S)}function ml(t,e){t.u=e,na(t.a,e),t.b&&(e=t.b,t.b=Uc(t.s,t.l,t.m,t.u),t.P&&(xc(e,t),kc(t.b,t)))}function vl(t,e){t.qa&&fn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function yl(t,e){t.$&&fn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function bl(t,e){t.aa=e,ia(t.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,t.aa):null)}function wl(t,e){t.ja&&fn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function _l(t){try{return r.a.app(t.m).auth()}catch(e){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function El(t){t.J||t.D.b||(t.D.start(),fn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function Cl(t){fn(t,"tokenChanged",t.ba),t.D.stop()}function Il(t,e){t.Aa=e,Yr(t,"_lat",e)}function Tl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return ke(e).then(function(){return t})}function Ol(t){t.b&&!t.P&&(t.P=!0,kc(t.b,t))}function Sl(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Al(){}function Dl(t){return Se().then(function(){if(t.J)throw new O("app-deleted")})}function kl(t){return K(t.providerData,function(t){return t.providerId})}function xl(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){Y(t.providerData,function(t){return t.providerId==e})}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function jl(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yr(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),z(e.providerData,function(e){xl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yr(t,"refreshToken",t.h.a),al(t.S,e.S.b))}function Rl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,xa,{idToken:e}).then(_(t.Kc,t))}(t,e).then(function(){return n||Pl(t,"isAnonymous",!1),e})})}function Fl(t,e){e[Ys]&&t.Aa!=e[Ys]&&(fl(t.h,e),t.dispatchEvent(new ol("tokenChanged")),Il(t,e[Ys]),Pl(t,"refreshToken",t.h.a))}function Ml(t,e){return Rl(t).then(function(){if($(kl(t),e))return Tl(t).then(function(){throw new O("provider-already-linked")})})}function Ll(t,e,n){return Jr({user:t,credential:Lo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Vl(t,e){return Fl(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!Nr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ae(t.i);var s=$i(n.providerId),a=Vr(t.uid+":::"),u=null;(!Rr()||wr())&&t.s&&n.isOAuthProvider&&(u=gu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=gr(u,s&&s.va,s&&s.ua);return i=i().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return jc(t.b,c,e,n,a,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.na(e,null,new O("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Mc(t.b,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Jr(t):null}).o(function(t){throw c&&pr(c),t}),Hl(t,i,o)}function Bl(t,e,n,r,i){if(!Nr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ae(t.i);var o=null,s=Vr(t.uid+":::");return r=r().then(function(){if(ql(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Tl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Kl,t.w(),e.a)),e}).then(function(){return Fc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Wl(t.ha);throw o}).then(function(){if(o)throw o}),Hl(t,r,i)}function ql(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new O("internal-error");throw new O("auth-domain-config-required")}}function Hl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ae(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ol("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){Q(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),_l(t),_(t.jc,t))),n||e})}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&xl(i,Jr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Gl(t){this.a=t,this.b=Ju()}Xc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Jc],delete n[Zc],vt(n,t),e.g(n)})},I(tl,O),nl.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Ro(t.a)}),tu(e,Da,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),tu(e,ka,n)})}(this,t,e)},I(rl,nl),I(il,rl),I(ol,Ye),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Fl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=G(e.b,function(t){return t.uid!=n});return al(e,r),Fl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new O("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new O("internal-error")):r(new O("network-request-failed"))},"POST",Xn(e).toString(),t.g,t.m.get()):r(new O("internal-error"))})}(t.f,e).then(function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(gl,_n),gl.prototype.xa=function(t){this.za=t,ea(this.a,t)},gl.prototype.la=function(){return this.za},gl.prototype.Ga=function(){return J(this.aa)},gl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return Hl(this,Dl(this).then(function(){return Rl(t).then(function(){return Tl(t)}).then(Al)}))},t.oc=function(t){return this.I(t).then(function(t){return new Yc(t)})},t.I=function(t){var e=this;return Hl(this,Dl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.Aa&&(Il(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");Sl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)xl(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then(function(t){return Fl(e,t),n=Ll(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Hl(this,Ml(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ll(e,t,"link"),Vl(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Hl(this,Ml(this,"phone").then(function(){return Qc(_l(n),t,e,_(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Hl(this,Se().then(function(){return Qc(_l(n),t,e,_(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Fl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Hl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Fl(e,t),e.reload()}))},t.Db=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Fl(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dl(this);var e=this;return Hl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Fl(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),Tl(e)}).then(Al))},t.cd=function(t){var e=this;return Hl(this,Rl(this).then(function(n){return $(kl(e),t)?function(t,e,n){return tu(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(kl(e),function(t){n[t]||Nl(e,t)}),n[Fo.PROVIDER_ID]||Yr(e,"phoneNumber",null),Tl(e)}):Tl(e).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var t=this;return Hl(this,this.I().then(function(e){return tu(t.a,Ta,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");vl(t,null),yl(t,null),wl(t,null),t.N=[],t.J=!0,Cl(t),Yr(t,"refreshToken",null),t.b&&xc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Mb,this):null},t.Ec=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Ml(e,t.providerId).then(function(){return Tl(e)})},!1)},t.Nc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Se()},!0)},t.Fc=function(t){var e=this;return Bl(this,"linkViaRedirect",t,function(){return Ml(e,t.providerId)},!1)},t.Oc=function(t){return Bl(this,"reauthViaRedirect",t,function(){return Se()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then(function(n){return ya(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ll(i,t,"link"),Vl(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,Se().then(function(){return co(ba(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ll(i,t,"reauthenticate"),Fl(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Hl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Ui(new ki(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Hl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Ui(new ki(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Hl(this,t=co(Se(t),n.uid).then(function(t){return e=Ll(n,t,"reauthenticate"),Fl(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.S.w()),t};var Kl={name:"redirectUser",F:"session"};function Wl(t){return ec(t.b,Kl,t.a)}function $l(t){this.a=t,this.b=Ju(),this.c=null,this.f=function(t){var e=Xl("local"),n=Xl("session"),r=Xl("none");return function(t,e,n){var r=tc(e,n),i=Zu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Lr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Yl,t.a).then(function(t){return t?Xl(t):e})})})}).then(function(e){return t.c=e,Ql(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Xl("local"),this.a,_(this.g,this))}function Ql(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(ec(t.b,Xl(Yu[n]),t.a));return r.push(ec(t.b,Yl,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)De(t[a],E(o,a),s);else e(i)})}(r)}$l.prototype.g=function(){var t=this,e=Xl("local");eh(this,function(){return Se().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Ql(t,"local").then(function(){t.c=e})})})};var Yl={name:"persistence",F:"session"};function Xl(t){return{name:"authUser",F:t}}function Jl(t,e){return eh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Zl(t){return eh(t,function(){return ec(t.b,t.c,t.a)})}function th(t,e,n){return eh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})})})}function eh(t,e){return t.f=t.f.then(e,e),t.f}function nh(t){if(this.l=!1,Yr(this,"settings",new Wc),Yr(this,"app",t),!lh(this).options||!lh(this).options.apiKey)throw new O("invalid-api-key");t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.a=new $s(lh(this).options&&lh(this).options.apiKey,N(A),t),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(_(this.Ac,this)),uh(this,null),this.i=new $l(lh(this).options.apiKey+":"+lh(this).name),this.D=new Gl(lh(this).options.apiKey+":"+lh(this).name),this.$=ph(this,function(t){var e=lh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Kl,t.a).then(function(t){return t&&e&&(t.authDomain=e),zl(t||{})})}(t.D,lh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Wl(t.D)});return ph(t,e)}(t).then(function(){return th(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Jl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Zl(t.i)})):null}).then(function(e){uh(t,e||null)});return ph(t,n)}(this)),this.h=ph(this,function(t){return t.$.then(function(){return ah(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Xl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=lh(t).options.authDomain,n=lh(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Uc(e,n,lh(t).name,t.R),kc(t.b,t),hh(t)&&Ol(hh(t)),t.m){Ol(t.m);var r=t.m;r.xa(t.la()),vl(r,t),bl(r=t.m,t.J),wl(r,t),ml(r=t.m,t.R),yl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function rh(t){Ye.call(this,"languageCodeChanged"),this.h=t}function ih(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function oh(t){Ye.call(this,"frameworkChanged"),this.f=t}function sh(t){return t.Oa||Ae(new O("auth-domain-config-required"))}function ah(t){if(!Nr())return Ae(new O("operation-not-supported-in-this-environment"));var e=sh(t).then(function(){return t.b.ra()}).then(function(t){return t?Jr(t):null});return ph(t,e)}function uh(t,e){hh(t)&&(function(t,e){Y(t.W,function(t){return t==e})}(hh(t),t.Ba),fn(hh(t),"tokenChanged",t.qa),fn(hh(t),"userDeleted",t.za),fn(hh(t),"userInvalidated",t.Aa),Cl(hh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&El(e)),Yr(t,"currentUser",e),e&&(e.xa(t.la()),vl(e,t),bl(e,t.J),wl(e,t),ml(e,t.R),yl(e,t))}function ch(t,e){var n=null,r=null;return ph(t,e.then(function(e){return n=Lo(e),r=Qi(e),function(t,e){var n={};return n.apiKey=lh(t).options.apiKey,n.authDomain=lh(t).options.authDomain,n.appName=lh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&bl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return hh(t)&&e.uid==hh(t).uid?(jl(hh(t),e),t.da(e)):(uh(t,e),Ol(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,_(t.kc,t))),n||e}).then(function(){return Jr({user:hh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function lh(t){return t.app}function hh(t){return t.currentUser}function fh(t){return hh(t)&&hh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](fh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](fh(t))}}function ph(t,e){return t.P.push(e),e.oa(function(){Q(t.P,e)}),e}function gh(){}function mh(){this.a={},this.b=1e12}$l.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Er()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Du()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),eh(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Ql(n,t)}).then(function(){if(n.c=Xl(t),e)return n.b.set(n.c,e,n.a)}):Se()})},I(nh,_n),I(rh,Ye),I(ih,Ye),I(oh,Ye),(t=nh.prototype).yb=function(t){return ph(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new rh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&yr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,na(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new oh(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:lh(this).options.apiKey,authDomain:lh(this).options.authDomain,appName:lh(this).name,currentUser:hh(this)&&hh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,va(i.a,o))})},t.Xc=function(t){if(!Nr())return Ae(new O("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),i=Vr(),o=null;(!Rr()||wr())&&lh(this).options.authDomain&&t.isOAuthProvider&&(o=gu(lh(this).options.authDomain,lh(this).options.apiKey,lh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var s=gr(o,n&&n.va,n&&n.ua);return ph(this,n=sh(this).then(function(n){return jc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new we(function(t,n){e.na("signInViaPopup",null,new O("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Mc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Jr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Nr())return Ae(new O("operation-not-supported-in-this-environment"));var e=this;return ph(this,sh(this).then(function(){return function(t){return eh(t,function(){return t.b.set(Yl,t.c.F,t.a)})}(e.i)}).then(function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return ah(this).then(function(e){return t.b&&Hc(t.b.b),e}).o(function(e){throw t.b&&Hc(t.b.b),e})},t.dd=function(t){if(!t)return Ae(new O("null-user"));if(this.S!=t.tenantId)return Ae(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=lh(this).options.apiKey,n.authDomain=lh(this).options.authDomain,n.appName=lh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&bl(e,r),jl(e,t),e}(t,n,e.D,e.Ga());return ph(this,this.h.then(function(){if(lh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return hh(e)&&t.uid==hh(e).uid?(jl(hh(e),t),e.da(t)):(uh(e,r),Ol(r),e.da(r))}).then(function(){dh(e)}))},t.Bb=function(){var t=this;return ph(this,this.h.then(function(){return t.b&&Hc(t.b.b),hh(t)?(uh(t,null),Zl(t.i).then(function(){dh(t)})):Se()}))},t.Zc=function(){var t=this;return th(this.i,lh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=hh(t)&&e){n=hh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jl(hh(t),e),hh(t).I();(hh(t)||e)&&(uh(t,e),e&&(Ol(e),e.ha=t.D),t.b&&kc(t.b,t),dh(t))}})},t.da=function(t){return Jl(this.i,t)},t.mc=function(){dh(this),this.da(hh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,Se(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(hh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ph(t,t.h.then(function(){!t.l&&$(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(fh(t)))}))}(this,function(){t.next(hh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return ph(this,this.h.then(function(){return hh(e)?hh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,tu(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Qa,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Ca,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=hh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return hh(this)&&hh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&hh(this)&&El(hh(this))},t.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&hh(this)&&Cl(hh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ph(this,this.h.then(function(){e.l||$(e.s,t)&&t(fh(e))}))},t.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Xl("local"),t.a,this.ja),this.b&&(xc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return ph(this,function(t,e){return tu(t,Ia,{identifier:e,continueUri:Pr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!No(t)},t.xb=function(t,e){var n=this;return ph(this,Se().then(function(){var t=new ki(e);if(!t.c)throw new O("argument-error",Pi+" must be true when sending sign in link to email");return Ui(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return ph(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return ph(this,this.a.Sa(t).then(function(t){return new ai(t)}))},t.kb=function(t){return ph(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return ph(this,Se().then(function(){return void 0===e||pt(e)?{}:Ui(new ki(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return ph(this,Qc(this,t,e,_(this.ab,this)))},t.Vc=function(t,e){var n=this;return ph(this,Se().then(function(){var r=e||lr(),i=xo(t,r);if(!(r=No(r)))throw new O("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new O("tenant-id-mismatch");return n.ab(i)}))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var vh=null;function yh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function wh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}function Ch(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new wh(t,e),this.b++},mh.prototype.reset=function(t){var e=yh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=yh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=yh(this,t))&&t.execute()},wh.prototype.getResponse=function(){return _h(this),this.b},wh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},wh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Yr(Eh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return vh||(vh=new mh),Se(vh)},Ch.prototype.c=function(){};var Ih=null;function Th(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new bt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new qr(3e4,6e4);Th.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new O("network-request-failed"))},Sh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new O("internal-error"));delete a[e.a]},Se(Bs(St(Oh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Th.prototype.c=function(){this.b--};var Ah=null;function Dh(t,e,n,r,i,o,s){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Ih||(Ih=new Ch),s=Ih):(Ah||(Ah=new Th),s=Ah),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!a.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(t){if(jh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var l=this.a[xh];this.a[xh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,a);"function"==typeof t&&t()}}}var kh="callback",xh="expired-callback",Nh="sitekey",Ph="size";function jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Rh(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function Fh(t){if(t.J)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,s):null,Dh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,N(A),i)}function Lh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Vh.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=Vh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new O("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Rh(this,Se().then(function(){if(Pr()&&!_r())return yr();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Ma,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Fh(this);var t=this;return Rh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Fh(this);var t=this;return Rh(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Fh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Fh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Mh,Dh);var Vh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Gh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Kh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return g(t)&&"string"==typeof t.uid}function $h(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Qh(t,e){for(var n in e){var r=e[n].name;t[r]=Jh(r,t[n],e[n].j)}}function Yh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E(function(t){return this[t]},n),set:E(function(t,e,n,r){Lh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Xh(t,e,n,r){t[e]=Jh(e,n,r)}function Jh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Qh(nh.prototype,{kb:{name:"applyActionCode",j:[Uh("code")]},Sa:{name:"checkActionCode",j:[Uh("code")]},ob:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Uh("email"),$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Uh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Gh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof gl)}},zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Yh(nh.prototype,{lc:{name:"languageCode",lb:$h(Uh(),zh(),"languageCode")},ti:{name:"tenantId",lb:$h(Uh(),zh(),"tenantId")}}),(nh.Persistence=Yu).LOCAL="local",nh.Persistence.SESSION="session",nh.Persistence.NONE="none",Qh(gl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gh()]},rb:{name:"linkWithCredential",j:[Gh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gh()]},ub:{name:"reauthenticateWithCredential",j:[Gh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Cb:{name:"updateEmail",j:[Uh("email")]},Db:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[Gh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Bh("appVerificationDisabledForTesting")}}),Qh($c.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Xh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Do,jo,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[$h(Uh(),qh(),"json")]),Xh(ko,"credential",function(t,e){return new Ao(t,e)},[Uh("email"),Uh("password")]),Qh(Ao.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(wo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Xh(wo,"credential",_o,[$h(Uh(),qh(),"token")]),Xh(ko,"credentialWithLink",xo,[Uh("email"),Uh("emailLink")]),Qh(Eo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Xh(Eo,"credential",Co,[$h(Uh(),qh(),"token")]),Qh(Io.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Xh(Io,"credential",To,[$h(Uh(),$h(qh(),zh()),"idToken"),$h(Uh(),zh(),"accessToken",!0)]),Qh(Oo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Xh(Oo,"credential",So,[$h(Uh(),qh(),"token"),Uh("secret",!0)]),Qh(bo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[$h(Uh(),$h(qh(),zh()),"optionsOrIdToken"),$h(Uh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(Fo,"credential",Mo,[Uh("verificationId"),Uh("verificationCode")]),Qh(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Kh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Kh(t.session,ao)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?Kh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Qh(Po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(O.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(Ko.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(Go.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Qh(sl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},Uh(),"multiFactorInfoIdentifier")]}}),Qh(Mh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xh(_i,"parseLink",Di,[Uh("link")]),Xh(Eh,"assertion",function(t){return new il(t)},[Gh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:nh,AuthCredential:uo,Error:O};Xh(t,"EmailAuthProvider",ko,[]),Xh(t,"FacebookAuthProvider",wo,[]),Xh(t,"GithubAuthProvider",Eo,[]),Xh(t,"GoogleAuthProvider",Io,[]),Xh(t,"TwitterAuthProvider",Oo,[]),Xh(t,"OAuthProvider",bo,[Uh("providerId")]),Xh(t,"SAMLAuthProvider",yo,[Uh("providerId")]),Xh(t,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof nh)}}]),Xh(t,"RecaptchaVerifier",Mh,[$h(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Xh(t,"ActionCodeURL",_i,[]),Xh(t,"PhoneMultiFactorGenerator",Eh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new nh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.7"),r.a.INTERNAL.extendNamespace({User:gl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.6.8";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Cu}),n.d(e,"c",function(){return yu}),n.d(e,"d",function(){return mu}),n.d(e,"e",function(){return vu}),n.d(e,"f",function(){return mc}),n.d(e,"g",function(){return sc}),n.d(e,"h",function(){return fa}),n.d(e,"i",function(){return ju}),n.d(e,"j",function(){return Fs}),n.d(e,"k",function(){return Ou}),n.d(e,"l",function(){return Us}),n.d(e,"m",function(){return vr}),n.d(e,"n",function(){return Ja}),n.d(e,"o",function(){return Ji}),n.d(e,"p",function(){return In}),n.d(e,"q",function(){return x}),n.d(e,"r",function(){return rn}),n.d(e,"s",function(){return go}),n.d(e,"t",function(){return oa}),n.d(e,"u",function(){return aa}),n.d(e,"v",function(){return Tu}),n.d(e,"w",function(){return Ca}),n.d(e,"x",function(){return uc}),n.d(e,"y",function(){return Ea}),n.d(e,"z",function(){return ec}),n.d(e,"A",function(){return Mu}),n.d(e,"B",function(){return Tn}),n.d(e,"C",function(){return Eu}),n.d(e,"D",function(){return _u}),n.d(e,"E",function(){return Hs}),n.d(e,"F",function(){return qs}),n.d(e,"G",function(){return _r}),n.d(e,"H",function(){return Gs}),n.d(e,"I",function(){return fr}),n.d(e,"J",function(){return On}),n.d(e,"K",function(){return hc}),n.d(e,"L",function(){return ya}),n.d(e,"M",function(){return zu}),n.d(e,"N",function(){return sn}),n.d(e,"O",function(){return Ws}),n.d(e,"P",function(){return Ks}),n.d(e,"Q",function(){return Ta}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return nc}),n.d(e,"T",function(){return Zu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Ju}),n.d(e,"W",function(){return pc}),n.d(e,"X",function(){return Wu}),n.d(e,"Y",function(){return Iu}),n.d(e,"Z",function(){return to}),n.d(e,"ab",function(){return Es}),n.d(e,"bb",function(){return y}),n.d(e,"cb",function(){return lr}),n.d(e,"db",function(){return Wn}),n.d(e,"eb",function(){return Fn}),n.d(e,"fb",function(){return Ln}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Un}),n.d(e,"ib",function(){return Vn}),n.d(e,"jb",function(){return Bn}),n.d(e,"kb",function(){return ys}),n.d(e,"lb",function(){return dc}),n.d(e,"mb",function(){return bs}),n.d(e,"nb",function(){return ws}),n.d(e,"ob",function(){return Mn}),n.d(e,"pb",function(){return q}),n.d(e,"qb",function(){return To}),n.d(e,"rb",function(){return qo}),n.d(e,"sb",function(){return Uo}),n.d(e,"tb",function(){return Bo}),n.d(e,"ub",function(){return vs}),n.d(e,"vb",function(){return St}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return Rn}),n.d(e,"yb",function(){return vo}),n.d(e,"zb",function(){return _t}),n.d(e,"Ab",function(){return Ps}),n.d(e,"Bb",function(){return ii}),n.d(e,"Cb",function(){return ko}),n.d(e,"Db",function(){return ts}),n.d(e,"Eb",function(){return Zo}),n.d(e,"Fb",function(){return hu}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return E}),n.d(e,"Jb",function(){return C}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return Po}),n.d(e,"Nb",function(){return Lo}),n.d(e,"Ob",function(){return Mo}),n.d(e,"Pb",function(){return Fo}),n.d(e,"Qb",function(){return Vo}),n.d(e,"Rb",function(){return Je}),n.d(e,"Sb",function(){return ds}),n.d(e,"Tb",function(){return _n}),n.d(e,"Ub",function(){return tn}),n.d(e,"Vb",function(){return gu}),n.d(e,"Wb",function(){return Ho}),n.d(e,"Xb",function(){return fu}),n.d(e,"Yb",function(){return Ko}),n.d(e,"Zb",function(){return Ga}),n.d(e,"ac",function(){return Ka}),n.d(e,"bc",function(){return Wa}),n.d(e,"cc",function(){return $a}),n.d(e,"dc",function(){return jo}),n.d(e,"ec",function(){return Ua}),n.d(e,"fc",function(){return Ba}),n.d(e,"gc",function(){return lu}),n.d(e,"hc",function(){return No}),n.d(e,"ic",function(){return Kt}),n.d(e,"jc",function(){return dr}),n.d(e,"kc",function(){return ot}),n.d(e,"lc",function(){return xo}),n.d(e,"mc",function(){return pu}),n.d(e,"nc",function(){return ls}),n.d(e,"oc",function(){return hs}),n.d(e,"pc",function(){return fs});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return v(t)?t():t}function v(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class y extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new y("201",`No provider for ${w(t)} found${n}`)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function I(t){return T(t,S)||T(t,D)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const S=l({"\u0275prov":l}),A=l({"\u0275inj":l}),D=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var x=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function P(t){const e=N;return N=t,e}function j(t,e,n){const r=I(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&x.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function R(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,q=L||B||V||U,H={},z=[],G=[],K=l({"\u0275cmp":l}),W=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),X=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let Z=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return Et}function Et(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Ct}function Ct(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new wt(u&&u.currentValue,e,s===H),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}let Ot;function St(t){Ot=t}function At(t){return!!t.listen}_t.ngInherit=!0;const Dt={createRenderer:(t,e)=>void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function xt(t,e){return kt(e[t])}function Nt(t,e){return kt(e[t.index])}function Pt(t,e){return t.data[e]}function jt(t,e){return t[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return qt.bindingsEnabled}function zt(){return qt.lFrame.lView}function Gt(){return qt.lFrame.tView}function Kt(t){qt.lFrame.contextLView=t}function Wt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return qt.lFrame.currentTNode}function Qt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return qt.lFrame.isParent}function Xt(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function Zt(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return qt.lFrame.bindingIndex++}function ee(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ne(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){qt.lFrame.currentDirectiveIndex=t}function ie(){return qt.lFrame.currentQueryIndex}function oe(t){qt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&x.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&x.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ce(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=he;function de(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return qt.lFrame.selectedIndex}function ge(t){qt.lFrame.selectedIndex=t}function me(){const t=qt.lFrame;return Pt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){_e(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Ce=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Se(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Se(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ke(t){return t!==Ce}function xe(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Pe=!0;function je(t){const e=Pe;return Pe=t,e}let Re=0;function Fe(t,e){const n=Le(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Me(r.data,t),Me(e,null),Me(r.blueprint,null));const i=Ve(t,e),o=t.injectorIndex;if(ke(i)){const t=xe(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Me(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Le(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Re++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&x.Optional)return t;_(e,"NodeInjector")}function qe(t,e,n,r){if(n&x.Optional&&void 0===r&&(r=null),0==(n&(x.Self|x.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&x.Optional):j(e,r,n&x.Optional)}finally{P(o)}}return Be(r,e,n)}function He(t,e,n,r=x.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!ae(e,t,r))return r&x.Host?Be(i,n,r):qe(e,n,r,i);try{const t=o();if(null!=t||r&x.Optional)return t;_(n)}finally{fe()}}else if("number"==typeof o){let i=null,s=Le(t,e),a=Ce,u=r&x.Host?e[16][6]:null;for((-1===s||r&x.SkipSelf)&&(a=-1===s?Ve(t,e):e[s+8],a!==Ce&&Ye(r,!1)?(i=e[1],s=xe(a),e=Ne(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=Ke(s,e,n,i,r,u);if(t!==ze)return t}a=e[s+8],a!==Ce&&Ye(r,e[1].data[s+8]===u)&&Qe(o,s,e)?(i=t,s=xe(a),e=Ne(a,e)):s=-1}}}return qe(e,n,r,i)}const ze={};function Ge(){return new Xe(Wt(),zt())}function Ke(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=We(a,s,n,null==r?mt(a)&&Pe:r!=s&&0!=(3&a.type),i&x.Host&&o===a);return null!==u?$e(e,s,u,a):ze}function We(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function $e(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new y("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=je(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?P(s.injectImpl):null;ae(t,r,x.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Et(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&P(u),je(a),s.resolving=!1,fe()}}return i}function Qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ye(t,e){return!(t&x.Self||t&x.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return He(this._tNode,this._lView,t,void 0,e)}}function Je(t){return R(()=>{const e=t.prototype.constructor,n=e[X]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ze(t){return v(t)?()=>{const e=Ze(m(t));return e&&e()}:bt(t)}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const en="__parameters__";function nn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(en)?t[en]:Object.defineProperty(t,en,{value:[]})[en];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new rn("AnalyzeForEntryComponents"),sn=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function un(t,e){t.forEach(t=>Array.isArray(t)?un(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},gn=/\n/gm,mn="__source",vn=l({provide:String,useValue:l});let yn;function bn(t){const e=yn;return yn=t,e}function wn(t,e=x.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?j(t,void 0,e):yn.get(t,e&x.Optional?null:void 0,e)}function _n(t,e=x.Default){return(N||wn)(m(t),e)}function En(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=x.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(_n(t,n))}else e.push(_n(r))}return e}function Cn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=Cn(nn("Inject",t=>({token:t})),-1),Tn=Cn(nn("Optional"),8),On=Cn(nn("SkipSelf"),4);let Sn;function An(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,q.trustedTypes))try{Sn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kn extends Dn{getTypeName(){return"HTML"}}class xn extends Dn{getTypeName(){return"Style"}}class Nn extends Dn{getTypeName(){return"Script"}}class Pn extends Dn{getTypeName(){return"URL"}}class jn extends Dn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof Dn&&t.getTypeName()||null}function Ln(t){return new kn(t)}function Vn(t){return new xn(t)}function Un(t){return new Nn(t)}function Bn(t){return new Pn(t)}function qn(t){return new jn(t)}class Hn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Gn)||t.match(Kn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=$n("area,br,col,hr,img,wbr"),Xn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=$n("rp,rt"),Zn=Qn(Jn,Xn),tr=Qn(Yn,Qn(Xn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(Jn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),er=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=$n("srcset"),rr=Qn(er,nr,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=$n("script,style,template");class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!rr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;er[o]&&(s=Wn(s)),nr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ur(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||function(t){const e=new zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Hn(e):e}(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return An((new or).sanitizeChildren(hr(n)||n))}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(fr.URL,t)||"":Fn(t,"URL")?Rn(t):Wn(b(t))}function pr(t){return t.ngDebugContext}function gr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pr(t)?pr(t):this._findContext(gr(t)):null}_findOriginalError(t){let e=gr(t);for(;e&&gr(e);)e=gr(e);return e}}function yr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function wr(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Er(t,e){return(void 0)(t,e)}function Cr(t){const e=t[3];return pt(e)?e[3]:e}function Ir(t){return Or(t[13])}function Tr(t){return Or(t[4])}function Or(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Sr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?jr(e,n,a):Pr(e,n,a,i||null,!0):1===t&&null!==n?Pr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Fr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Sr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];qr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function kr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Dr(o,r),e>0&&(t[n-1][4]=r[4]);const s=ln(t,ft+e);qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Nr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Nr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Nr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Nr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Pr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function jr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Rr(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):jr(t,e,n)}function Fr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Mr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Nt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Rr(o,i,n[a],s,!1);else Rr(o,i,n,s,!1)}function Lr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Ur(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Lr(t,n);{const n=t[e.index];return pt(n)?Ur(-1,n):kt(n)}}if(32&n)return Er(e,t)()||kt(t[e.index]);{const n=Vr(t,e);return null!==n?Array.isArray(n)?n[0]:Lr(Cr(t[16]),n):Lr(t,e.next)}}return null}function Vr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ur(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Lr(t,r)}return e[7]}function Br(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&yr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Br(t,e,n.child,r,i,o,!1),Sr(e,t,i,a,o);else if(32&u){const s=Er(n,r);let u;for(;u=s();)Sr(e,t,i,u,o);Sr(e,t,i,a,o)}else 16&u?Hr(t,e,r,n,i,o):Sr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function qr(t,e,n,r,i,o){Br(n,r,t.firstChild,e,i,o,!1)}function Hr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Sr(e,t,i,a[u],o);else Br(t,e,a,s[3],i,o,!0)}function zr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Kr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Wr="ng-template";function $r(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&t.value!==Wr}function Yr(t,e,n){return e===(4!==t.type||n?t.value:Wr)}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Yr(t,u,n)||""===u&&1===e.length){if(Jr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!$r(t.attrs,c,n)){if(Jr(r))return!1;s=!0}continue}const l=Zr(8&r?"class":u,i,Qr(t),n);if(-1===l){if(Jr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Kr(e,c,0)||2&r&&c!==t){if(Jr(r))return!1;s=!0}}}}else{if(!s&&!Jr(r)&&!Jr(u))return!1;if(s&&Jr(u))continue;s=!1,r=u|1&r}}return Jr(r)||s}function Jr(t){return 0==(1&t)}function Zr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ei(t,e){return t?":not("+e.trim()+")":e}function ni(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Jr(s)||(e+=ei(o,i),i=""),r=s,o=o||!Jr(r);n++}return""!==i&&(e+=ei(o,i)),e}const ri={};function ii(t){oi(Gt(),zt(),pe()+t,Xt())}function oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}ge(n)}function si(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function ui(t){return 2|t}function ci(t){return(131068&t)>>2}function li(t,e){return-131069&t|e<<2}function hi(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];oe(i),n.contentQueries(2,e[o],o)}}}function di(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function pi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=$t(),s=Yt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function gi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mi(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&Gi(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const o=Xt();try{Ut(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),we(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=Tr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&fi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,o=n[++t],s=n[++t];ne(o,i),s(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Gi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{de()}}function yi(t,e,n,r){const i=e[10],o=!Xt(),s=Mt(e);try{o&&!s&&i.begin&&i.begin(),s&&mi(t,e,r),vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function bi(t,e,n,r,i){const o=pe(),s=2&r;try{ge(-1),s&&e.length>ht&&oi(t,e,ht,Xt()),n(r,i)}finally{ge(o)}}function wi(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),yr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&ji(e,n,r);const u=$e(e,t,a,n);yr(u,e),null!==s&&Ri(0,a-i,u,r,0,s),o&&(Rt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{ge(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Di(r,i)}}finally{ge(-1),re(s)}}(t,e,n))}function _i(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ci(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ci(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Wi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&$i(t).push(r,i.length-1))}function Ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Oi(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Yi(t,n,c,r,i),mt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Se(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Si(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ti(n,s.selectors,!1)&&(i||(i=[]),Ue(Fe(n,e),t,s.type),yt(s)?(ki(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ni(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=gi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Pi(t,n,e,u,c),xi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Qr(e)?null:Fi(n,i);o.push(c),s=Ti(n,u,s),a=Ti(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new y("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Ai(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Di(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ki(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function xi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ie(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Ai(t,e,0,r,gi(t,n,i.hostVars,ri),i)}function ji(t,e,n){const r=Nt(e,t),i=Ei(n),o=t[10],s=Bi(t,di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ri(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Fi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Li(t,e){const n=Rt(e,t);if(Lt(n)){const t=n[1];80&n[2]?vi(t,n,t.template,n[8]):n[5]>0&&Vi(n)}}function Vi(t){for(let n=Ir(t);null!==n;n=Tr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];vi(t,e,t.template,e[8])}else e[5]>0&&Vi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Lt(r)&&r[5]>0&&Vi(r)}}function Ui(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),mi(r,n,n[8])}function Bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qi(t){for(;t;){t[2]|=64;const e=Cr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Hi(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw Qi(e,i),i}finally{r.end&&r.end()}}function zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];yi(i,r,i.template,n)}}(t[8])}function Gi(t,e,n){oe(0),e(t,n)}const Ki=(()=>Promise.resolve(null))();function Wi(t){return t[7]||(t[7]=[])}function $i(t){return t.cleanup||(t.cleanup=[])}function Qi(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function Yi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Xi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ji=new rn("INJECTOR",-1);class Zi{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const to=new rn("Set Injector scope."),eo={},no={},ro=[];let io;function oo(){return void 0===io&&(io=new Zi),io}function so(t,e=null,n=null,r){return new ao(t,n,e||oo(),r)}class ao{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&un(e,n=>this.processProvider(n,t,e)),un([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ji,lo(void 0,this));const o=this.records.get(to);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=x.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&x.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof rn)&&I(t);e=n&&this.injectableDefInScope(n)?lo(uo(t),eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&x.Self?oo():this.parent).get(t,e=n&x.Optional&&e===pn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[mn]&&i.unshift(e[mn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{un(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];un(r,t=>this.processProvider(t,n,r||ro))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,lo(a,eo));const u=r.providers;if(null!=u&&!s){const e=t;un(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=fo(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return ho(t)?lo(void 0,t.useValue):lo(co(t),eo)}(t);if(fo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=lo(void 0,eo,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===eo&&(e.value=no,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function uo(t){const e=I(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof rn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[D]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function co(t,e,n){let r;if(fo(t)){const e=m(t);return bt(e)||uo(e)}if(ho(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||uo(e);r=()=>new e(...En(t.deps))}var i;return r}function lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ho(t){return null!==t&&"object"==typeof t&&vn in t}function fo(t){return"function"==typeof t}const po=function(t,e,n){return function(t,e=null,n=null,r){const i=so(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let go=(()=>{class t{static create(t,e){return Array.isArray(t)?po(t,e,""):po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new Zi,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>_n(Ji)}),t.__NG_ELEMENT_ID__=-1,t})();function mo(t,e){ve(Ft(t)[1],Wt())}function vo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=yo(t.inputs),e.declaredInputs=yo(t.declaredInputs),e.outputs=yo(t.outputs);const n=i.hostBindings;n&&_o(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&bo(t,o),s&&wo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function yo(t){return t===H?{}:t===G?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function _o(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Eo=null;function Co(){if(!Eo){const t=q.Symbol;if(t&&t.iterator)Eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eo=n)}}}return Eo}class Io{constructor(t){this.wrapped=t}static wrap(t){return new Io(t)}static unwrap(t){return Io.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Io}}function To(t){return!!Oo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Co()in t)}function Oo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function So(t,e,n){return t[e]=n}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Do(t,e,n,r){const i=Ao(t,e,n);return Ao(t,e+1,r)||i}function ko(t,e,n,r){const i=zt();return Ao(i,te(),e)&&(Gt(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(me(),i,t,e,n,r)),ko}function xo(t,e,n,r,i,o,s,a){const u=zt(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=pi(e,t,4,s||null,Vt(c,a));Si(e,n,l,Vt(c,u)),ve(e,l);const h=l.tViews=Ci(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");Mr(c,u,f,h),yr(f,u),Bi(u,u[l]=Mi(f,u,f,h)),vt(h)&&wi(c,u,h),null!=s&&_i(u,h,a)}function No(t){return jt(qt.lFrame.contextLView,ht+t)}function Po(t,e=x.Default){const n=zt();return null===n?_n(t,e):He(Wt(),n,m(t),e)}function jo(t,e,n){const r=zt();return Ao(r,te(),e)&&Oi(Gt(),me(),r,t,e,r[11],n,!1),jo}function Ro(t,e,n,r,i){const o=i?"class":"style";Yi(t,n,e.inputs[o],o,r)}function Fo(t,e,n,r){const i=zt(),o=Gt(),s=ht+t,a=i[11],u=i[s]=Ar(a,e,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=pi(e,t,2,i,Vt(a,o));return Si(e,n,u,Vt(a,s)),null!==u.attrs&&Xi(u,u.attrs,!1),null!==u.mergedAttrs&&Xi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Gr(a,u,h);const f=c.styles;null!==f&&zr(a,u,f),64!=(64&c.flags)&&Mr(o,i,u,c),0===qt.lFrame.elementDepthCount&&yr(u,i),qt.lFrame.elementDepthCount++,vt(c)&&(wi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&_i(i,c)}function Mo(){let t=Wt();Yt()?qt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(ve(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ro(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ro(n,e,zt(),e.stylesWithoutHost,!1)}function Lo(t,e,n,r){Fo(t,e,n,r),Mo()}function Vo(){return zt()}function Uo(t){return!!t&&"function"==typeof t.then}function Bo(t){return!!t&&"function"==typeof t.subscribe}const qo=Bo;function Ho(t,e,n=!1,r){const i=zt(),o=Gt(),s=Wt();return function(t,e,n,r,i,o,s=!1,a){const u=vt(r),c=t.firstCreatePass&&$i(t),l=Wi(e);let h=!0;if(3&r.type){const f=Nt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Go(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Go(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Go(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ho}function zo(t,e,n,r){try{return!1!==n(r)}catch(i){return Qi(t,i),!1}}function Go(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&qi(s);let a=zo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=zo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ko(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ai(o):ci(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?hi(n):ui(n)),a=r?ai(n):ci(n)}u&&(t[n+1]=r?ui(o):hi(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const Qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yo(t){return t.substring(Qo.key,Qo.keyEnd)}function Xo(t,e){const n=Qo.textEnd;return n===e?-1:(e=Qo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Qo.key=e,n),Jo(t,e,n))}function Jo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Zo(t,e){return function(t,e,n,r){const i=zt(),o=Gt(),s=ee(2);o.firstUpdatePass&&rs(o,t,s,true),e!==ri&&Ao(i,s,e)&&ss(o,o.data[pe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(Rn(t))),t}(e),true,s)}(t,e),Zo}function ts(t){!function(t,e,n,r){const i=Gt(),o=ee(2);i.firstUpdatePass&&rs(i,null,o,r);const s=zt();if(n!==ri&&Ao(s,o,n)){const a=i.data[pe()];if(cs(a,r)&&!ns(i,o)){let t=a.classesWithoutHost;null!==t&&(n=d(t,n||"")),Ro(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ri&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&ss(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Rn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(hn,es,t,!0)}function es(t,e){for(let n=function(t){return function(t){Qo.key=0,Qo.keyEnd=0,Qo.value=0,Qo.valueEnd=0,Qo.textEnd=t.length}(t),Xo(t,Jo(t,0,Qo.textEnd))}(e);n>=0;n=Xo(e,n))hn(t,Yo(e),!0)}function ns(t,e){return e>=t.expandoStartIndex}function rs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[pe()],s=ns(t,n);cs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=os(n=is(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=is(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ci(r))return t[ai(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=is(null,t,e,n[1],r),n=os(n,e.attrs,r),function(t,e,n,r){t[ai(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=os(r,t[o].hostAttrs,n);return os(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ai(s),u=ci(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ai(t[a+1]);t[r+1]=si(e,a),0!==e&&(t[e+1]=li(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=si(a,0),0!==a&&(t[a+1]=li(t[a+1],r)),a=r;else t[r+1]=si(u,0),0===a?a=r:t[u+1]=li(t[u+1],r),u=r;l&&(t[r+1]=ui(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&dn(o,e)>=0&&(n[r+1]=hi(n[r+1]))}(e,c,t,r,o),s=si(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function is(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=os(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function os(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ss(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];us(1==(1&c)?as(u,e,n,i,ci(c),s):void 0)||(us(o)||2==(2&c)&&(o=as(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=_r.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,xt(pe(),n),i,o))}function as(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ri&&(l=c?z:void 0);let h=c?fn(l,r):u===r?l:void 0;if(o&&!us(h)&&(h=fn(e,r)),us(h)&&(a=h,s))return a;const f=t[i+1];i=s?ai(f):ci(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=fn(t,r))}return a}function us(t){return void 0!==t}function cs(t,e){return 0!=(t.flags&(e?16:32))}function ls(t,e=""){const n=zt(),r=Gt(),i=t+ht,o=r.firstCreatePass?pi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Mr(r,n,s,o),Qt(o,!1)}function hs(t){return fs("",t,""),hs}function fs(t,e,n){const r=zt(),i=function(t,e,n,r){return Ao(t,te(),n)?e+b(n)+r:ri}(r,t,e,n);return i!==ri&&function(t,e,n){const r=xt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,pe(),i),fs}function ds(t,e,n){const r=zt();return Ao(r,te(),e)&&Oi(Gt(),me(),r,t,e,r[11],n,!0),ds}const ps=void 0;var gs=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ms={};function vs(t,e,n){"string"!=typeof e&&(n=e,e=t[Es.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ms[e]=t,n&&(ms[e][Es.ExtraData]=n)}function ys(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=_s(e);if(n)return n;const r=e.split("-")[0];if(n=_s(r),n)return n;if("en"===r)return gs;throw new Error(`Missing locale data for the locale "${t}".`)}function bs(t){return ys(t)[Es.CurrencyCode]||null}function ws(t){return ys(t)[Es.PluralCase]}function _s(t){return t in ms||(ms[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),ms[t]}var Es=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Cs="en-US";let Is=Cs;function Ts(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Is=t.toLowerCase().replace(/_/g,"-"))}function Os(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)Os(t[o],e,n,r,i);else{const o=Gt(),s=zt();let a=fo(t)?t:m(t.provide),u=co(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(fo(t)||!t.multi){const r=new Ie(u,i,Po),d=Ds(a,e,i?l:l+f,h);-1===d?(Ue(Fe(c,s),o,a),Ss(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ds(a,e,l+f,h),p=Ds(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ue(Fe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ie(t,n,Po);return o.multi=[],o.index=e,o.componentProviders=0,As(o,i,r&&!n),o}(i?xs:ks,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ss(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ss(o,t,d>-1?d:p,As(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ss(t,e,n,r){const i=fo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function As(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ds(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ks(t,e,n,r){return Ns(this.multi,[])}function xs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ns(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ns(i,o);return o}function Ns(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ps(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=yt(t);Os(n,r.data,r.blueprint,i,!0),Os(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class js{}class Rs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Fs=(()=>{class t{}return t.NULL=new Rs,t})();function Ms(...t){}function Ls(t,e){return new Us(Nt(t,e))}const Vs=function(){return Ls(Wt(),zt())};let Us=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Vs,t})();function Bs(t){return t instanceof Us?t.nativeElement:t}class qs{}let Hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zs(),t})();const zs=function(){const t=zt(),e=Rt(Wt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Gs=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Ks{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ws=new Ks("11.2.14");class $s{constructor(){}supports(t){return To(t)}create(t){return new Ys(t)}}const Qs=(t,e)=>e;class Ys{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ta(n,r,i)?e:n,s=ta(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!To(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Js{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Zs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Js,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ta(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ea{constructor(){}supports(t){return t instanceof Map||Oo(t)}create(){return new na}}class na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Oo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ra(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ra{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ia(){return new oa([new $s])}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ia()),deps:[[t,new On,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:ia}),t})();function sa(){return new aa([new ea])}let aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||sa()),deps:[[t,new On,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:sa}),t})();function ua(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ua(e[1],e,n,r)}const s=n.type;if(8&s)ua(t,e,n.child,r);else if(32&s){const t=Er(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Vr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Cr(e[16]);ua(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ca{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ua(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(kr(t,n),ln(e,n))}this._attachedToViewContainer=!1}xr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Hi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class la extends ca{constructor(t){super(t),this._view=t}detectChanges(){zi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{zi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const ha=da;let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t.__ChangeDetectorRef__=!0,t})();function da(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Rt(t.index,e);return new ca(n,n)}return 47&t.type?new ca(e[16],e):null}(Wt(),zt(),t)}const pa=[new ea],ga=new oa([new $s]),ma=new aa(pa),va=function(){return _a(Wt(),zt())};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t})();const ba=ya,wa=class extends ba{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),mi(e,n,t),new ca(n)}};function _a(t,e){return 4&t.type?new wa(e,t,Ls(t,e)):null}class Ea{}class Ca{}const Ia=function(){return ka(Wt(),zt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ia,t})();const Oa=Ta,Sa=class extends Oa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ls(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(ke(t)){const e=Ne(t,this._hostLView),n=xe(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Aa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ea,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Sa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],cn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Ur(i,o),a=n[11],u=Fr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,qr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),cn(Da(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Aa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);n&&(ln(Da(this._lContainer),e),xr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);return n&&null!=ln(Da(this._lContainer),e)?new ca(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Aa(t){return t[8]}function Da(t){return t[8]||(t[8]=[])}function ka(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Pr(n,Fr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Mi(r,e,i,t),Bi(e,n)}return new Sa(n,t,e)}const xa={};class Na extends Fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ra(e,this.ngModule)}}function Pa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ja=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class Ra extends js{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ni).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Pa(this.componentDef.inputs)}get outputs(){return Pa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,xa,i);return o!==xa||r===xa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(qs,Dt),s=i.get(Gs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Ki,playerHandler:null,flags:0},f=Ci(0,null,null,1,0,null,null,null,null,null),d=di(null,f,h,l,null,null,o,a,s,i);let p,g;ue(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=pi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Xi(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Gr(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=di(n,Ei(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ue(Fe(a,n),s,e.type),ki(s,a),Ni(a,n.length,1)),Bi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Te(a,c,["ng-version",Ws.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Jr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Gr(a,c,e.join(" "))}if(g=Pt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Pi(t,r,e,gi(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);yr(i,e);const o=Nt(r,e);return o&&yr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Ai(n[1],a,0,a.directiveStart,a.directiveEnd,e),Di(e,s)),s}(t,this.componentDef,d,h,[mo]),mi(f,d,null)}finally{de()}return new Fa(this.componentType,p,Ls(g,d),d,g)}}class Fa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new la(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ma=new Map;class La extends Ea{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Na(this);const n=lt(t),r=t[Y]||null;r&&Ts(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=so(t,e,[{provide:Ea,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=go.THROW_IF_NOT_FOUND,n=x.Default){return t===go||t===Ea||t===Ji?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Va extends Ca{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Ma.get(i),n),Ma.set(i,n));const o=wr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new La(this.moduleType,t)}}function Ua(t,e,n,r){return Ha(zt(),Zt(),t,e,n,r)}function Ba(t,e,n,r,i){return za(zt(),Zt(),t,e,n,r,i)}function qa(t,e){const n=t[e];return n===ri?void 0:n}function Ha(t,e,n,r,i,o){const s=e+n;return Ao(t,s,i)?So(t,s+1,o?r.call(o,i):r(i)):qa(t,s+1)}function za(t,e,n,r,i,o,s){const a=e+n;return Do(t,a,i,o)?So(t,a+2,s?r.call(s,i,o):r(i,o)):qa(t,a+2)}function Ga(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new y("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=P(Po);try{const t=je(!1),e=o();return je(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{P(s)}}function Ka(t,e,n){const r=t+ht,i=zt(),o=jt(i,r);return Ya(i,Qa(i,r)?Ha(i,Zt(),e,o.transform,n,o):o.transform(n))}function Wa(t,e,n,r){const i=t+ht,o=zt(),s=jt(o,i);return Ya(o,Qa(o,i)?za(o,Zt(),e,s.transform,n,r,s):s.transform(n,r))}function $a(t,e,n,r,i){const o=t+ht,s=zt(),a=jt(s,o);return Ya(s,Qa(s,o)?function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=Do(t,e,n,r);return Ao(t,e+2,i)||o}(t,u,i,o,s)?So(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):qa(t,u+3)}(s,Zt(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function Qa(t,e){return t[1].data[e].pure}function Ya(t,e){return Io.isWrapped(e)&&(e=Io.unwrap(e),t[qt.lFrame.bindingIndex]=ri),e}function Xa(t){return e=>{setTimeout(t,void 0,e)}}const Ja=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Xa(u),a&&(a=Xa(a)),c&&(c=Xa(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Za(){return this._results[Co()]()}class tu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Co(),n=tu.prototype;n[e]||(n[e]=Za)}get changes(){return this._changes||(this._changes=new Ja)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=an(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class eu{constructor(t){this.queryList=t,this.matches=null}clone(){return new eu(this.queryList)}setDirty(){this.queryList.setDirty()}}class nu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new nu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==du(t,e).matches&&this.queries[e].setDirty()}}class ru{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class iu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new iu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ou{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ou(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,su(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===ya?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Us||r===Ta||r===ya&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function su(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function au(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ls(t,e):4&t.type?_a(t,e):null}(e,t):-2===n?function(t,e,n){return n===Us?Ls(e,t):n===ya?_a(e,t):n===Ta?ka(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function uu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:au(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function cu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=uu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&cu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];cu(n[1],n,i,r)}}}}}return r}function lu(t){const e=zt(),n=Gt(),r=ie();oe(r+1);const i=du(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?cu(n,e,r,[]):uu(n,e,i,r);t.reset(o,Bs),t.notifyOnChanges()}return!0}return!1}function hu(t,e,n,r){const i=Gt();if(i.firstCreatePass){const o=Wt();(function(t,e,n){null===t.queries&&(t.queries=new iu),t.queries.track(new ou(e,n))})(i,new ru(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new tu(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new nu),e[19].queries.push(new eu(r))}(i,zt(),n)}function fu(){return t=zt(),e=ie(),t[19].queries[e].queryList;var t,e}function du(t,e){return t.queries.getByIndex(e)}function pu(t,e){return _a(t,e)}function gu(t=x.Default){const e=da(!0);if(null!=e||t&x.Optional)return e;_("ChangeDetectorRef")}const mu=new rn("Application Initializer");let vu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ms,this.reject=Ms,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(mu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const yu=new rn("AppId"),bu={provide:yu,useFactory:function(){return`${wu()}${wu()}${wu()}`},deps:[]};function wu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _u=new rn("Platform Initializer"),Eu=new rn("Platform ID"),Cu=new rn("appBootstrapListener");let Iu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Tu=new rn("LocaleId"),Ou=new rn("DefaultCurrencyCode");class Su{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Au=function(t){return new Va(t)},Du=Au,ku=function(t){return Promise.resolve(Au(t))},xu=function(t){const e=Au(t),n=wr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ra(n)),t},[]);return new Su(e,n)},Nu=xu,Pu=function(t){return Promise.resolve(xu(t))};let ju=(()=>{class t{constructor(){this.compileModuleSync=Du,this.compileModuleAsync=ku,this.compileModuleAndAllComponentsSync=Nu,this.compileModuleAndAllComponentsAsync=Pu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ru=(()=>Promise.resolve(0))();function Fu(t){"undefined"==typeof Zone?Ru.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Mu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Uu(t),Vu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Uu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Bu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),qu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Bu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Uu(t),Vu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Lu,Ms,Ms);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Lu={};function Vu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qu(t){t._nesting--,Vu(t)}class Hu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let zu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),Fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(Mu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Gu=(()=>{class t{constructor(){this._applications=new Map,Qu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Qu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Ku{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wu(t){Qu=t}let $u,Qu=new Ku,Yu=!0,Xu=!1;function Ju(){return Xu=!0,Yu}function Zu(){if(Xu)throw new Error("Cannot enable prod mode after platform setup.");Yu=!1}const tc=new rn("AllowMultipleToken");class ec{constructor(t,e){this.name=t,this.token=e}}function nc(t,e,n=[]){const r=`Platform: ${e}`,i=new rn(r);return(e=[])=>{let o=rc();if(!o||o.injector.get(tc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:to,useValue:"platform"});!function(t){if($u&&!$u.destroyed&&!$u.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$u=t.get(ic);const e=t.get(_u,null);e&&e.forEach(t=>t())}(go.create({providers:t,name:r}))}return function(t){const e=rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function rc(){return $u&&!$u.destroyed?$u:null}let ic=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Hu:("zone.js"===t?void 0:t)||new Mu({enableLongStackTrace:Ju(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Mu,useValue:n}];return n.run(()=>{const e=go.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{ac(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(vu);return t.runInitializers(),t.donePromise.then(()=>(Ts(i.injector.get(Tu,Cs)||Cs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=oc({},e);return function(t,e,n){const r=new Va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(go))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function oc(t,e){return Array.isArray(e)?e.reduce(oc,t):Object.assign(Object.assign({},t),e)}let sc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),Fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof js?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ea),i=n.create(go.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(zu,null),a=s&&i.injector.get(Gu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),ac(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ac(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(Mu),_n(go),_n(vr),_n(Fs),_n(vu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uc{}class cc{}const lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>fc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>fc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(ju),_n(cc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function fc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const dc=function(t){return null},pc=nc(null,"core",[{provide:Eu,useValue:"unknown"},{provide:ic,deps:[go]},{provide:Gu,deps:[]},{provide:Iu,deps:[]}]),gc=[{provide:sc,useClass:sc,deps:[Mu,go,vr,Fs,vu]},{provide:ja,deps:[Mu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:vu,useClass:vu,deps:[[new Tn,mu]]},{provide:ju,useClass:ju,deps:[]},bu,{provide:oa,useFactory:function(){return ga},deps:[]},{provide:aa,useFactory:function(){return ma},deps:[]},{provide:Tu,useFactory:function(t){return Ts(t=t||"undefined"!=typeof $localize&&$localize.locale||Cs),t},deps:[[new In(Tu),new Tn,new On]]},{provide:Ou,useValue:"USD"}];let mc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(_n(sc))},t.\u0275mod=it({type:t}),t.\u0275inj=C({providers:gc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return O}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return v});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return c().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[y,u.A,[new u.B,b]]};let O=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.8",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.27",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Tb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Tb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Tb)(s).location;return new b(Object(r.Tb)(a),e&&e.origin||"")}const y=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(m),r.Tb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new _(Object(r.Tb)(m),Object(r.Tb)(a))}function C(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),O=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),S=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function D(t,e){return R(Object(r.kb)(t)[r.ab.DateFormat],e)}function k(t,e){return R(Object(r.kb)(t)[r.ab.TimeFormat],e)}function x(t,e){return R(Object(r.kb)(t)[r.ab.DateTimeFormat],e)}function N(t,e){const n=Object(r.kb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.ab.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.ab.NumberSymbols][A.Group]}return i}const P=r.nb;function j(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function R(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function F(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const M=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,L={},V=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var U=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),B=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),q=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return z(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(M))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=G(n,e)||e;let o,s=[];for(;e;){if(o=V.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=Q(q.Eras,O.Abbreviated);break;case"GGGG":e=Q(q.Eras,O.Wide);break;case"GGGGG":e=Q(q.Eras,O.Narrow);break;case"y":e=$(B.FullYear,1,0,!1,!0);break;case"yy":e=$(B.FullYear,2,0,!0,!0);break;case"yyy":e=$(B.FullYear,3,0,!1,!0);break;case"yyyy":e=$(B.FullYear,4,0,!1,!0);break;case"Y":e=Z(1);break;case"YY":e=Z(2,!0);break;case"YYY":e=Z(3);break;case"YYYY":e=Z(4);break;case"M":case"L":e=$(B.Month,1,1);break;case"MM":case"LL":e=$(B.Month,2,1);break;case"MMM":e=Q(q.Months,O.Abbreviated);break;case"MMMM":e=Q(q.Months,O.Wide);break;case"MMMMM":e=Q(q.Months,O.Narrow);break;case"LLL":e=Q(q.Months,O.Abbreviated,T.Standalone);break;case"LLLL":e=Q(q.Months,O.Wide,T.Standalone);break;case"LLLLL":e=Q(q.Months,O.Narrow,T.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=$(B.Date,1);break;case"dd":e=$(B.Date,2);break;case"E":case"EE":case"EEE":e=Q(q.Days,O.Abbreviated);break;case"EEEE":e=Q(q.Days,O.Wide);break;case"EEEEE":e=Q(q.Days,O.Narrow);break;case"EEEEEE":e=Q(q.Days,O.Short);break;case"a":case"aa":case"aaa":e=Q(q.DayPeriods,O.Abbreviated);break;case"aaaa":e=Q(q.DayPeriods,O.Wide);break;case"aaaaa":e=Q(q.DayPeriods,O.Narrow);break;case"b":case"bb":case"bbb":e=Q(q.DayPeriods,O.Abbreviated,T.Standalone,!0);break;case"bbbb":e=Q(q.DayPeriods,O.Wide,T.Standalone,!0);break;case"bbbbb":e=Q(q.DayPeriods,O.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(q.DayPeriods,O.Abbreviated,T.Format,!0);break;case"BBBB":e=Q(q.DayPeriods,O.Wide,T.Format,!0);break;case"BBBBB":e=Q(q.DayPeriods,O.Narrow,T.Format,!0);break;case"h":e=$(B.Hours,1,-12);break;case"hh":e=$(B.Hours,2,-12);break;case"H":e=$(B.Hours,1);break;case"HH":e=$(B.Hours,2);break;case"m":e=$(B.Minutes,1);break;case"mm":e=$(B.Minutes,2);break;case"s":e=$(B.Seconds,1);break;case"ss":e=$(B.Seconds,2);break;case"S":e=$(B.FractionalSeconds,1);break;case"SS":e=$(B.FractionalSeconds,2);break;case"SSS":e=$(B.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y(U.Short);break;case"ZZZZZ":e=Y(U.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y(U.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y(U.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function z(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function G(t,e){const n=function(t){return Object(r.kb)(t)[r.ab.LocaleId]}(t);if(L[n]=L[n]||{},L[n][e])return L[n][e];let i="";switch(e){case"shortDate":i=D(t,S.Short);break;case"mediumDate":i=D(t,S.Medium);break;case"longDate":i=D(t,S.Long);break;case"fullDate":i=D(t,S.Full);break;case"shortTime":i=k(t,S.Short);break;case"mediumTime":i=k(t,S.Medium);break;case"longTime":i=k(t,S.Long);break;case"fullTime":i=k(t,S.Full);break;case"short":const e=G(t,"shortTime"),n=G(t,"shortDate");i=K(x(t,S.Short),[e,n]);break;case"medium":const r=G(t,"mediumTime"),o=G(t,"mediumDate");i=K(x(t,S.Medium),[r,o]);break;case"long":const s=G(t,"longTime"),a=G(t,"longDate");i=K(x(t,S.Long),[s,a]);break;case"full":const u=G(t,"fullTime"),c=G(t,"fullDate");i=K(x(t,S.Full),[u,c])}return i&&(L[n][e]=i),i}function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function W(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function $(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case B.FullYear:return e.getFullYear();case B.Month:return e.getMonth();case B.Date:return e.getDate();case B.Hours:return e.getHours();case B.Minutes:return e.getMinutes();case B.Seconds:return e.getSeconds();case B.FractionalSeconds:return e.getMilliseconds();case B.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===B.Hours)0===a&&-12===n&&(a=12);else if(t===B.FractionalSeconds)return u=e,W(a,3).substr(0,u);var u;const c=N(s,A.MinusSign);return W(a,e,c,r,i)}}function Q(t,e,n=T.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case q.Months:return function(t,e,n){const i=Object(r.kb)(t),o=R([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return R(o,n)}(e,o,i)[t.getMonth()];case q.Days:return function(t,e,n){const i=Object(r.kb)(t),o=R([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return R(o,n)}(e,o,i)[t.getDay()];case q.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.kb)(t);return j(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?F(t):[F(t[0]),F(t[1])])}(e),n=function(t,e,n){const i=Object(r.kb)(t);j(i);const o=R([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return R(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.kb)(t),o=R([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return R(o,n)}(e,o,i)[a<12?0:1];case q.Eras:return function(t,e){return R(Object(r.kb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function Y(t){return function(e,n,r){const i=-1*r,o=N(n,A.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case U.Short:return(i>=0?"+":"")+W(s,2,o)+W(Math.abs(i%60),2,o);case U.ShortGMT:return"GMT"+(i>=0?"+":"")+W(s,1,o);case U.Long:return"GMT"+(i>=0?"+":"")+W(s,2,o)+":"+W(Math.abs(i%60),2,o);case U.Extended:return 0===r?"Z":(i>=0?"+":"")+W(s,2,o)+":"+W(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function X(t){return z(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=X(n),e=function(t){const e=z(t,0,1).getDay();return z(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return W(i,t,N(r,A.MinusSign))}}function Z(t,e=!1){return function(n,r){return W(X(n).getFullYear(),t,N(r,A.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(P(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ot(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let st=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.wb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class at{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new at(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ct(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ct(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ct{constructor(t,e){this.record=t,this.view=e}}let lt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ht,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ft("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ft("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ht{constructor(){this.$implicit=null,this.ngIf=null}}function ft(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}function dt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}class pt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class gt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const mt=new gt,vt=new pt;let yt=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return mt;if(Object(r.tb)(e))return vt;throw dt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})();const bt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let wt=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw dt(t,e);return e.replace(bt,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"titlecase",type:t,pure:!0}),t})(),_t=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return H(e,n,i||this.locale,r)}catch(o){throw dt(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:rt,useClass:it}]}),t})();function Ct(t){return"server"===t}let It=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new Tt(Object(r.Tb)(s),window)}),t})();class Tt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ot(this.window.history)||Ot(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ot(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class St extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new St,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Dt||(Dt=document.querySelector("base"),Dt)?Dt.getAttribute("href"):null;return null==e?null:(n=e,At||(At=document.createElement("a")),At.setAttribute("href",n),"/"===At.pathname.charAt(0)?At.pathname:"/"+At.pathname);var n}resetBaseElement(){Dt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return ot(document.cookie,t)}}let At,Dt=null;const kt=new r.r("TRANSITION_ID"),xt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[kt,s,r.s],multi:!0}];class Nt{static init(){Object(r.X)(new Nt)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Pt=new r.r("EventManagerPlugins");let jt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Pt),r.Tb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ft=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Mt=(()=>{class t extends Ft{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Lt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Lt))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Lt(t){o().remove(t)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ut=/%COMP%/g;function Bt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Bt(t,i,n):(i=i.replace(Ut,t),n.push(i))}return n}function qt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ht=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new zt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Gt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Bt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(jt),r.Tb(Mt),r.Tb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class zt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Vt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Vt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qt(n)):this.eventManager.addEventListener(t,e,qt(n))}}class Gt extends zt{constructor(t,e,n,r){super(t),this.component=n;const i=Bt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ut,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ut,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Kt extends zt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Bt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wt=(()=>{class t extends Rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const $t=["alt","control","meta","shift"],Qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Jt=(()=>{class t extends Rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if($t.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yt.hasOwnProperty(e)&&(e=Yt[e]))}return Qt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),$t.forEach(r=>{r!=n&&(0,Xt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Zt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){St.makeCurrent(),Nt.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],te=Object(r.S)(r.W,"browser",Zt),ee=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Pt,useClass:Wt,multi:!0,deps:[s,r.A,r.C]},{provide:Pt,useClass:Jt,multi:!0,deps:[s]},[],{provide:Ht,useClass:Ht,deps:[jt,Mt,r.c]},{provide:r.F,useExisting:Ht},{provide:Ft,useExisting:Mt},{provide:Mt,useClass:Mt,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:jt,useClass:jt,deps:[Pt,r.A]},[]];let ne=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:kt,useExisting:r.c},xt]}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:ee,imports:[Et,r.f]}),t})();"undefined"!=typeof window&&window;var re=n("Cfvw"),ie=n("LRne"),oe=n("XNiG"),se=n("9ppp");class ae extends oe.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new se.a;return this._value}next(t){super.next(this._value=t)}}var ue=n("z+Ro"),ce=n("DH7j"),le=n("7o/Q");class he extends le.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class fe extends le.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var de=n("SeVD"),pe=n("HDdC");function ge(t,e,n,r,i=new fe(t,n,r)){if(!i.closed)return e instanceof pe.a?e.subscribe(i):Object(de.a)(e)(i)}var me=n("yCtX");const ve={};class ye{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new be(t,this.resultSelector))}}class be extends he{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ve),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ge(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ve?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const we=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var _e=n("bHdf");function Ee(...t){return Object(_e.a)(1)(Object(ie.a)(...t))}var Ce=n("EY2u");function Ie(t){return new pe.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(re.a)(n):Object(Ce.b)()).subscribe(e)})}var Te=n("EQ5u"),Oe=n("lJxs"),Se=n("zx2A");function Ae(t,e){return"function"==typeof e?n=>n.pipe(Ae((n,r)=>Object(re.a)(t(n,r)).pipe(Object(Oe.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new De(t))}class De{constructor(t){this.project=t}call(t,e){return e.subscribe(new ke(t,this.project))}}class ke extends Se.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Se.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Se.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const xe=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ne(t){return e=>0===t?Object(Ce.b)():e.lift(new Pe(t))}class Pe{constructor(t){if(this.total=t,this.total<0)throw new xe}call(t,e){return e.subscribe(new je(t,this.total))}}class je extends le.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Re(...t){const e=t[t.length-1];return Object(ue.a)(e)?(t.pop(),n=>Ee(t,n,e)):e=>Ee(t,e)}function Fe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Me(t,e,n))}}class Me{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Le(t,this.accumulator,this.seed,this.hasSeed))}}class Le extends le.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ve(t,e){return function(n){return n.lift(new Ue(t,e))}}class Ue{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Be(t,this.predicate,this.thisArg))}}class Be extends le.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function qe(t){return function(e){const n=new He(t),r=e.lift(n);return n.caught=r}}class He{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ze(t,this.selector,this.caught))}}class ze extends Se.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Se.a(this);this.add(r);const i=Object(Se.c)(n,r);i!==r&&this.add(i)}}}var Ge=n("5+tZ");function Ke(t,e){return Object(Ge.a)(t,e,1)}function We(t){return function(e){return 0===t?Object(Ce.b)():e.lift(new $e(t))}}class $e{constructor(t){if(this.total=t,this.total<0)throw new xe}call(t,e){return e.subscribe(new Qe(t,this.total))}}class Qe extends le.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ye(t=Ze){return e=>e.lift(new Xe(t))}class Xe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Je(t,this.errorFactory))}}class Je extends le.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Yb){t=Yb}this.destination.error(t)}}}function Ze(){return new we}function tn(t=null){return e=>e.lift(new en(t))}class en{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new nn(t,this.defaultValue))}}class nn extends le.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var rn=n("SpAZ");function on(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ve((e,n)=>t(e,n,r)):rn.a,Ne(1),n?tn(e):Ye(()=>new we))}var sn=n("vkgz"),an=n("x+ZX"),un=n("quSY");class cn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ln(t,this.callback))}}class ln extends le.a{constructor(t,e){super(t),this.add(new un.a(e))}}class hn{constructor(t,e){this.id=t,this.url=e}}class fn extends hn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dn extends hn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pn extends hn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gn extends hn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn extends hn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class En{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const An="primary";class Dn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kn(t){return new Dn(t)}function xn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Nn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jn(t[i],e[i]))return!1;return!0}function jn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Rn(t){return Array.prototype.concat.apply([],t)}function Fn(t){return t.length>0?t[t.length-1]:null}function Mn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ln(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(re.a)(Promise.resolve(t)):Object(ie.a)(t)}function Vn(t,e,n){return n?function(t,e){return Pn(t,e)}(t.queryParams,e.queryParams)&&Un(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jn(t[n],e[n]))}(t.queryParams,e.queryParams)&&Bn(t.root,e.root)}function Un(t,e){if(!Kn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Un(t.children[n],e.children[n]))return!1}return!0}function Bn(t,e){return qn(t,e,e.segments)}function qn(t,e,n){if(t.segments.length>n.length)return!!Kn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Kn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Bn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Kn(t.segments,r)&&!!t.children.primary&&qn(t.children.primary,e,i)}}class Hn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class zn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yn(this)}}class Gn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kn(this.parameters)),this._parameterMap}toString(){return rr(this)}}function Kn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Wn{}class $n{parse(t){const e=new ur(t);return new Hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Xn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Zn(e)}=${Zn(t)}`).join("&"):`${Zn(e)}=${Zn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Qn=new $n;function Yn(t){return t.segments.map(t=>rr(t)).join("/")}function Xn(t,e){if(!t.hasChildren())return Yn(t);if(e){const e=t.children.primary?Xn(t.children.primary,!1):"",n=[];return Mn(t.children,(t,e)=>{e!==An&&n.push(`${e}:${Xn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Mn(t.children,(t,r)=>{r===An&&(n=n.concat(e(t,r)))}),Mn(t.children,(t,r)=>{r!==An&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===An?[Xn(t.children.primary,!1)]:[`${n}:${Xn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Yn(t)}/${e[0]}`:`${Yn(t)}/(${e.join("//")})`}}function Jn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zn(t){return Jn(t).replace(/%3B/gi,";")}function tr(t){return Jn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function er(t){return decodeURIComponent(t)}function nr(t){return er(t.replace(/\+/g,"%20"))}function rr(t){return`${tr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${tr(t)}=${tr(e[t])}`).join("")}`;var e}const ir=/^[^\/()?;=#]+/;function or(t){const e=t.match(ir);return e?e[0]:""}const sr=/^[^=?&#]+/,ar=/^[^?&#]+/;class ur{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new zn(t,e)),n}parseSegment(){const t=or(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Gn(er(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=or(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=or(this.remaining);t&&(n=t,this.capture(n))}t[er(e)]=er(n)}parseQueryParam(t){const e=function(t){const e=t.match(sr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ar);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=nr(e),i=nr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=or(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=An);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new zn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class cr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=lr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=lr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return hr(t,this._root).map(t=>t.value)}}function lr(t,e){if(t===e.value)return e;for(const n of e.children){const e=lr(t,n);if(e)return e}return null}function hr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=hr(t,n);if(r.length)return r.unshift(e),r}return[]}class fr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function dr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class pr extends cr{constructor(t,e){super(t),this.snapshot=e,wr(this,t)}toString(){return this.snapshot.toString()}}function gr(t,e){const n=function(t,e){const n=new yr([],{},{},"",{},An,e,null,t.root,-1,{});return new br("",new fr(n,[]))}(t,e),r=new ae([new Gn("",{})]),i=new ae({}),o=new ae({}),s=new ae({}),a=new ae(""),u=new mr(r,i,s,a,o,An,e,n.root);return u.snapshot=n.root,new pr(new fr(u,[]),n)}class mr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Oe.a)(t=>kn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Oe.a)(t=>kn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class br extends cr{constructor(t,e){super(e),this.url=t,wr(this,e)}toString(){return _r(this._root)}}function wr(t,e){e.value._routerState=t,e.children.forEach(e=>wr(t,e))}function _r(t){const e=t.children.length>0?` { ${t.children.map(_r).join(", ")} } `:"";return`${t.value}${e}`}function Er(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Cr(t,e){return Pn(t.params,e.params)&&function(t,e){return Kn(t,e)&&t.every((t,n)=>Pn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Cr(t.parent,e.parent))}function Ir(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Ir(t,e,r);return Ir(t,e)})}(t,e,n);return new fr(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Tr(e,t),t}}const n=new mr(new ae((r=e.value).url),new ae(r.params),new ae(r.queryParams),new ae(r.fragment),new ae(r.data),r.outlet,r.component,r),i=e.children.map(e=>Ir(t,e));return new fr(n,i)}var r}function Tr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Tr(t.children[n],e.children[n])}function Or(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Sr(t){return"object"==typeof t&&null!=t&&t.outlets}function Ar(t,e,n,r,i){let o={};return r&&Mn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Hn(n.root===t?e:Dr(n.root,t,e),o,i)}function Dr(t,e,n){const r={};return Mn(t.children,(t,i)=>{r[i]=t===e?n:Dr(t,e,n)}),new zn(t.segments,r)}class kr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Or(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Sr);if(r&&r!==Fn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Nr(t,e,n){if(t||(t=new zn([],{})),0===t.segments.length&&t.hasChildren())return Pr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Sr(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Mr(a,u,e))return o;r+=2}else{if(!Mr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new zn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new zn(t.segments.slice(r.pathIndex),t.children),Pr(e,0,i)}return r.match&&0===i.length?new zn(t.segments,{}):r.match&&!t.hasChildren()?jr(t,e,n):r.match?Pr(t,0,i):jr(t,e,n)}function Pr(t,e,n){if(0===n.length)return new zn(t.segments,{});{const r=function(t){return Sr(t[0])?t[0].outlets:{[An]:t}}(n),i={};return Mn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Nr(t.children[r],e,n))}),Mn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new zn(t.segments,i)}}function jr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Sr(o)){const t=Rr(o.outlets);return new zn(r,t)}if(0===i&&Or(n[0])){r.push(new Gn(t.segments[e].path,Fr(n[0]))),i++;continue}const s=Sr(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Or(a)?(r.push(new Gn(s,Fr(a))),i+=2):(r.push(new Gn(s,{})),i++)}return new zn(r,{})}function Rr(t){const e={};return Mn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=jr(new zn([],{}),0,t))}),e}function Fr(t){const e={};return Mn(t,(t,n)=>e[n]=`${t}`),e}function Mr(t,e,n){return t==n.path&&Pn(e,n.parameters)}class Lr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Er(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=dr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Mn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=dr(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=dr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new On(t.value.snapshot))}),t.children.length&&this.forwardEvent(new In(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Er(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Vr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Vr(t){Er(t.value),t.children.forEach(Vr)}class Ur{constructor(t,e){this.routes=t,this.module=e}}function Br(t){return"function"==typeof t}function qr(t){return t instanceof Hn}const Hr=Symbol("INITIAL_VALUE");function zr(){return Ae(t=>function(...t){let e,n;return Object(ue.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(ce.a)(t[0])&&(t=t[0]),Object(me.a)(t,n).lift(new ye(e))}(t.map(t=>t.pipe(Ne(1),Re(Hr)))).pipe(Fe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Hr)return t;if(r===Hr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||qr(r))return r}return t},t)},Hr),Ve(t=>t!==Hr),Object(Oe.a)(t=>qr(t)?t:!0===t),Ne(1)))}let Gr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Bi]},encapsulation:2}),t})();function Kr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Wr(r,$r(e,r))}}function Wr(t,e){t.children&&Kr(t.children,e)}function $r(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Qr(t){const e=t.children&&t.children.map(Qr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==An&&(n.component=Gr),n}function Yr(t){return t.outlet||An}function Xr(t,e){const n=t.filter(t=>Yr(t)===e);return n.push(...t.filter(t=>Yr(t)!==e)),n}const Jr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Zr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Jr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Nn)(n,t,e);if(!i)return Object.assign({},Jr);const o={};Mn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ti(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ei(t,e,n)&&Yr(n)!==An)}(t,n,r)){const i=new zn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Yr(o)!==An){const n=new zn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Yr(o)]=n}return i}(t,e,r,new zn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ei(t,e,n))}(t,n,r)){const o=new zn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ei(t,n,a)&&!i[Yr(a)]){const n=new zn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Yr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new zn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ei(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ni(t,e,n,r){return!!(Yr(t)===r||r!==An&&ei(e,n,t))&&("**"===t.path||Zr(e,t,n).matched)}function ri(t,e,n){return 0===e.length&&!t.children[n]}class ii{constructor(t){this.segmentGroup=t||null}}class oi{constructor(t){this.urlTree=t}}function si(t){return new pe.a(e=>e.error(new ii(t)))}function ai(t){return new pe.a(e=>e.error(new oi(t)))}function ui(t){return new pe.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ci{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=ti(this.urlTree.root,[],[],this.config).segmentGroup,e=new zn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,An).pipe(Object(Oe.a)(t=>this.createUrlTree(li(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qe(t=>{if(t instanceof oi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ii)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,An).pipe(Object(Oe.a)(e=>this.createUrlTree(li(e),t.queryParams,t.fragment))).pipe(qe(t=>{if(t instanceof ii)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new zn([],{[An]:t}):t;return new Hn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Oe.a)(t=>new zn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(re.a)(r).pipe(Ke(r=>{const i=n.children[r],o=Xr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Oe.a)(t=>({segment:t,outlet:r})))}),Fe((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ve((e,n)=>t(e,n,r)):rn.a,We(1),n?tn(e):Ye(()=>new we))}())}expandSegment(t,e,n,r,i,o){return Object(re.a)(n).pipe(Ke(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(qe(t=>{if(t instanceof ii)return Object(ie.a)(null);throw t}))),on(t=>!!t),qe((t,n)=>{if(t instanceof we||"EmptyError"===t.name){if(ri(e,r,i))return Object(ie.a)(new zn([],{}));throw new ii(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ni(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):si(e):si(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ai(i):this.lineralizeSegments(n,i).pipe(Object(Ge.a)(n=>{const i=new zn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Zr(e,r,i);if(!s)return si(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ai(l):this.lineralizeSegments(r,l).pipe(Object(Ge.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(ie.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Oe.a)(t=>(n._loadedConfig=t,new zn(r,{})))):Object(ie.a)(new zn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Zr(e,n,r);if(!o)return si(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Ge.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ti(e,s,u,o),l=new zn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Oe.a)(t=>new zn(s,t)));if(0===o.length&&0===c.length)return Object(ie.a)(new zn(s,{}));const h=Yr(n)===i;return this.expandSegment(r,l,o,c,h?An:i,!0).pipe(Object(Oe.a)(t=>new zn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ie.a)(new Ur(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ie.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ge.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Oe.a)(t=>(e._loadedConfig=t,t))):function(t){return new pe.a(e=>e.error(xn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ie.a)(new Ur([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ie.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Br(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Br(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ln(o)});return Object(ie.a)(i).pipe(zr(),Object(sn.a)(t=>{if(!qr(t))return;const e=xn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Oe.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ie.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ui(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Mn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Mn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new zn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function li(t){const e={};for(const n of Object.keys(t.children)){const r=li(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new zn(t.segments.concat(e.segments),e.children)}return t}(new zn(t.segments,e))}class hi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fi{constructor(t,e){this.component=t,this.route=e}}function di(t,e,n){const r=t._root;return gi(r,e?e._root:null,n,[r.value])}function pi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function gi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=dr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Kn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kn(t.url,e.url)||!Pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cr(t,e)||!Pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Cr(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),gi(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fi(a.outlet.component,s))}else s&&mi(e,a,i),i.canActivateChecks.push(new hi(r)),gi(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Mn(o,(t,e)=>mi(t,n.getContext(e),i)),i}function mi(t,e,n){const r=dr(t),i=t.value;Mn(r,(t,r)=>{mi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class vi{}function yi(t){return new pe.a(e=>e.error(t))}class bi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ti(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,An);if(null===e)return null;const n=new yr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fr(n,e),i=new br(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=vr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Xr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=_i(n);return r.sort((t,e)=>t.value.outlet===An?-1:e.value.outlet===An?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return ri(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ni(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Fn(n).parameters:{};i=new yr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ii(t),Yr(t),t.component,t,Ei(e),Ci(e)+n.length,Ti(t))}else{const r=Zr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new yr(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ii(t),Yr(t),t.component,t,Ei(e),Ci(e)+o.length,Ti(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ti(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new fr(i,t)]}if(0===a.length&&0===c.length)return[new fr(i,[])];const l=Yr(t)===r,h=this.processSegment(a,u,c,l?An:r);return null===h?null:[new fr(i,h)]}}function wi(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _i(t){const e=[],n=new Set;for(const r of t){if(!wi(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=_i(r.children);e.push(new fr(r.value,t))}return e.filter(t=>!n.has(t))}function Ei(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ci(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ii(t){return t.data||{}}function Ti(t){return t.resolve||{}}function Oi(t){return Ae(e=>{const n=t(e);return n?Object(re.a)(n).pipe(Object(Oe.a)(()=>e)):Object(ie.a)(e)})}class Si extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ai=new r.r("ROUTES");class Di{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Oe.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ur(Rn(i.injector.get(Ai,void 0,r.q.Self|r.q.Optional)).map(Qr),i)}),qe(t=>{throw e._loader$=void 0,t}));return e._loader$=new Te.a(n,()=>new oe.a).pipe(Object(an.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(re.a)(this.loader.load(t)):Ln(t()).pipe(Object(Ge.a)(t=>t instanceof r.w?Object(ie.a)(t):Object(re.a)(this.compiler.compileModuleAsync(t))))}}class ki{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xi,this.attachRef=null}}class xi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ki,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ni{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pi(t){throw t}function ji(t,e,n){return e.parse("/")}function Ri(t,e){return Object(ie.a)(null)}let Fi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new oe.a,this.errorHandler=Pi,this.malformedUriErrorHandler=ji,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ri,afterPreactivation:Ri},this.urlHandlingStrategy=new Ni,this.routeReuseStrategy=new Si,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Hn(new zn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Di(s,a,t=>this.triggerEvent(new _n(t)),t=>this.triggerEvent(new En(t))),this.routerState=gr(this.currentUrlTree,this.rootComponentType),this.transitions=new ae({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ve(t=>0!==t.id),Object(Oe.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ae(t=>{let n=!1,r=!1;return Object(ie.a)(t).pipe(Object(sn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ae(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ie.a)(t).pipe(Ae(t=>{const n=this.transitions.getValue();return e.next(new fn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ce.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Ae(t=>function(t,e,n,r,i){return new ci(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Oe.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(sn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Ge.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new bi(t,e,n,r,i,o).recognize();return null===s?yi(new vi):Object(ie.a)(s)}catch(Yb){return yi(Yb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Oe.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(sn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new mn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new fn(n,this.serializeUrl(r),i,o);e.next(a);const u=gr(r,this.rootComponentType).snapshot;return Object(ie.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ce.a}),Oi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(sn.a)(t=>{const e=new vn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Oe.a)(t=>Object.assign(Object.assign({},t),{guards:di(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Ge.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ie.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(re.a)(t).pipe(Object(Ge.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ie.a)(!0);const s=o.map(o=>{const s=pi(o,e,i);let a;if(function(t){return t&&Br(t.canDeactivate)}(s))a=Ln(s.canDeactivate(t,e,n,r));else{if(!Br(s))throw new Error("Invalid CanDeactivate guard");a=Ln(s(t,e,n,r))}return a.pipe(on())});return Object(ie.a)(s).pipe(zr())}(t.component,t.route,n,e,r)),on(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Ge.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(re.a)(e).pipe(Ke(e=>Ee(function(t,e){return null!==t&&e&&e(new Cn(t)),Object(ie.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Tn(t)),Object(ie.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ie(()=>{const i=e.guards.map(i=>{const o=pi(i,e.node,n);let s;if(function(t){return t&&Br(t.canActivateChild)}(o))s=Ln(o.canActivateChild(r,t));else{if(!Br(o))throw new Error("Invalid CanActivateChild guard");s=Ln(o(r,t))}return s.pipe(on())});return Object(ie.a)(i).pipe(zr())}));return Object(ie.a)(i).pipe(zr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ie.a)(!0);const i=r.map(r=>Ie(()=>{const i=pi(r,e,n);let o;if(function(t){return t&&Br(t.canActivate)}(i))o=Ln(i.canActivate(e,t));else{if(!Br(i))throw new Error("Invalid CanActivate guard");o=Ln(i(e,t))}return o.pipe(on())}));return Object(ie.a)(i).pipe(zr())}(t,e.route,n))),on(t=>!0!==t,!0))}(r,o,t,e):Object(ie.a)(n)),Object(Oe.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(sn.a)(t=>{if(qr(t.guardsResult)){const e=xn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ve(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new pn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Oi(t=>{if(t.guards.canActivateChecks.length)return Object(ie.a)(t).pipe(Object(sn.a)(t=>{const e=new bn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ae(t=>{let n=!1;return Object(ie.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Ge.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ie.a)(t);let o=0;return Object(re.a)(n).pipe(Ke(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ie.a)({});const o={};return Object(re.a)(i).pipe(Object(Ge.a)(i=>function(t,e,n,r){const i=pi(t,e,r);return Ln(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(sn.a)(t=>{o[i]=t}))),We(1),Object(Ge.a)(()=>Object.keys(o).length===i.length?Object(ie.a)(o):Ce.a))}(t._resolve,t,e,r).pipe(Object(Oe.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),vr(t,n).resolve),null)))}(t.route,e,r,i)),Object(sn.a)(()=>o++),We(1),Object(Ge.a)(e=>o===n.length?Object(ie.a)(t):Ce.a))})),Object(sn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new pn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(sn.a)(t=>{const e=new wn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Oi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Oe.a)(t=>{const e=function(t,e,n){const r=Ir(t,e._root,n?n._root:void 0);return new pr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(sn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Oe.a)(t=>(new Lr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(sn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new pn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new cn(i))),qe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=qr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new pn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new gn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(wh){t.reject(wh)}}var i;return Ce.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Kr(t),this.config=t.map(Qr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ar(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new kr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Mn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new kr(n,e,r)}(n);if(o.toRoot())return Ar(e.root,new zn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new xr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new xr(t,t===e.root,0)}const r=Or(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new xr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Pr(s.segmentGroup,s.index,o.commands):Nr(s.segmentGroup,s.index,o.commands);return Ar(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=qr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Yb){e=this.malformedUriErrorHandler(Yb,this.urlSerializer,t)}return e}isActive(t,e){if(qr(t))return Vn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Vn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.N),r.Tb(Wn),r.Tb(xi),r.Tb(_),r.Tb(r.s),r.Tb(r.x),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Mi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new oe.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Vi(this.skipLocationChange),replaceUrl:Vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Fi),r.Mb(mr),r.Ub("tabindex"),r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})(),Li=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new oe.a,this.subscription=t.events.subscribe(t=>{t instanceof dn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Vi(this.skipLocationChange),replaceUrl:Vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Fi),r.Mb(mr),r.Mb(m))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Wb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Sb("href",e.href,r.jc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})();function Vi(t){return""===t||!!t}let Ui=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof dn&&this.update()})}ngAfterContentInit(){Object(ie.a)(this.links.changes,this.linksWithHrefs.changes,Object(ie.a)(null)).pipe(Object(_e.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(re.a)(e).pipe(Object(_e.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Fi),r.Mb(r.l),r.Mb(r.E),r.Mb(r.h),r.Mb(Mi,8),r.Mb(Li,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,Mi,1),r.Fb(n,Li,1)),2&t){let t;r.gc(t=r.Xb())&&(e.links=t),r.gc(t=r.Xb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.zb]}),t})(),Bi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||An,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new qi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(xi),r.Mb(r.Q),r.Mb(r.j),r.Ub("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class qi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===mr?this.route:t===xi?this.childContexts:this.parent.get(t,e)}}class Hi{}class zi{preload(t,e){return Object(ie.a)(null)}}let Gi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Di(e,n,e=>t.triggerEvent(new _n(e)),e=>t.triggerEvent(new En(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ve(t=>t instanceof dn),Ke(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(re.a)(n).pipe(Object(_e.a)(),Object(Oe.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(ie.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Ge.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Fi),r.Tb(r.x),r.Tb(r.i),r.Tb(r.s),r.Tb(Hi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ki=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof dn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Sn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Fi),r.Tb(It),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Wi=new r.r("ROUTER_CONFIGURATION"),$i=new r.r("ROUTER_FORROOT_GUARD"),Qi=[_,{provide:Wn,useClass:$n},{provide:Fi,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Fi(null,t,e,n,r,i,s,Rn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Wn,xi,_,r.s,r.x,r.i,Ai,Wi,[class{},new r.B],[class{},new r.B]]},xi,{provide:mr,useFactory:function(t){return t.routerState.root},deps:[Fi]},{provide:r.x,useClass:r.K},Gi,zi,class{preload(t,e){return e().pipe(qe(()=>Object(ie.a)(null)))}},{provide:Wi,useValue:{enableTracing:!1}}];function Yi(){return new r.z("Router",Fi)}let Xi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Qi,eo(e),{provide:$i,useFactory:to,deps:[[Fi,new r.B,new r.J]]},{provide:Wi,useValue:n||{}},{provide:m,useFactory:Zi,deps:[a,[new r.p(y),new r.B],Wi]},{provide:Ki,useFactory:Ji,deps:[Fi,It,Wi]},{provide:Hi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:zi},{provide:r.z,multi:!0,useFactory:Yi},[no,{provide:r.d,multi:!0,useFactory:ro,deps:[no]},{provide:oo,useFactory:io,deps:[no]},{provide:r.b,multi:!0,useExisting:oo}]]}}static forChild(e){return{ngModule:t,providers:[eo(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($i,8),r.Tb(Fi,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function Ji(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ki(t,e,n)}function Zi(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function to(t){return"guarded"}function eo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ai,multi:!0,useValue:t}]}let no=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new oe.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Fi),r=this.injector.get(Wi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ie.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Wi),n=this.injector.get(Gi),i=this.injector.get(Ki),o=this.injector.get(Fi),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ro(t){return t.appInitializer.bind(t)}function io(t){return t.bootstrapListener.bind(t)}const oo=new r.r("Router Initializer");let so=(()=>{class t{constructor(){this._contacts=[{id:"5eccd84b63798ecee4f530f7",name:"Guadalupe Stuart",email:"guadalupestuart@ontagene.com",birthday:new Date("2020-02-25T06:36:12"),phones:["+1 (855) 417-3827"]},{id:"5eccd84bb074b3d8c2b1ed05",name:"Burke Dillon",email:"burkedillon@ontagene.com",birthday:new Date("2016-04-19T01:42:16"),phones:["+1 (931) 490-2325","+1 (835) 560-3711"]},{id:"5eccd84b1d85b009d7649afd",name:"Lucinda Keith",email:"lucindakeith@ontagene.com",birthday:new Date("2017-09-22T08:13:04"),phones:["+1 (982) 463-2539"]},{id:"5eccd84bf8343e2c936872da",name:"Duffy Hatfield",email:"duffyhatfield@ontagene.com",birthday:new Date("2014-08-10T05:39:22"),phones:["+1 (810) 512-2750","+1 (816) 541-3648","+1 (897) 445-3800"]},{id:"5eccd84ba82601a8fd09c0e1",name:"Peterson Hunt",email:"petersonhunt@ontagene.com",birthday:new Date("2016-02-08T08:43:57"),phones:["+1 (803) 403-2929","+1 (885) 496-3950"]},{id:"5eccd84b8720e25fda396317",name:"Fanny Hughes",email:"fannyhughes@ontagene.com",birthday:new Date("2016-06-10T04:41:17"),phones:["+1 (844) 408-3338"]},{id:"5eccd84b195e403248341ade",name:"Alexandria Decker",email:"alexandriadecker@ontagene.com",birthday:new Date("2017-09-15T05:06:15"),phones:["+1 (912) 480-3008","+1 (837) 443-3835","+1 (996) 553-3609"]},{id:"5eccd84bfa98dd26fdc1ad5f",name:"Edwards Hendricks",email:"edwardshendricks@ontagene.com",birthday:new Date("2016-10-02T05:12:59"),phones:[]},{id:"5eccd84b9346cb8d4d358e8a",name:"Georgina Hogan",email:"georginahogan@ontagene.com",birthday:new Date("2017-03-14T01:46:01"),phones:["+1 (870) 495-2044","+1 (974) 599-2052","+1 (802) 443-3622"]},{id:"5eccd84bb47204c4f2a3352a",name:"Rebecca Ramirez",email:"rebeccaramirez@ontagene.com",birthday:new Date("2014-11-18T03:05:23"),phones:["+1 (867) 575-2067"]}]}getAll(){return this._contacts}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ao=(()=>{class t{transform(t){const e=t.trim(),n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),r=n.charAt(n.length-1);return n+("."===r?"":".")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"paragraphCapital",type:t,pure:!0}),t})(),uo=(()=>{class t{constructor(){this.title="",this.icon="",this.description=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-page-header"]],inputs:{title:"title",icon:"icon",description:"description"},decls:10,vars:7,consts:[[1,"row","mt-3"],[1,"col-12"],[1,"p-3","bg-light","border","rounded-3"],[3,"ngClass"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"h3"),r.Nb(4,"i",3),r.nc(5),r.Zb(6,"titlecase"),r.Ob(),r.Pb(7,"p"),r.nc(8),r.Zb(9,"paragraphCapital"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Bb(4),r.dc("ngClass",e.icon),r.Bb(1),r.pc(" ",r.ac(6,3,e.title),""),r.Bb(3),r.oc(r.ac(9,5,e.description)))},directives:[st],pipes:[wt,ao],styles:[""]}),t})();function co(t,e){if(1&t&&(r.Pb(0,"li"),r.nc(1),r.Ob()),2&t){const t=e.$implicit;r.Bb(1),r.oc(t)}}function lo(t,e){if(1&t&&(r.Pb(0,"ul"),r.lc(1,co,2,1,"li",5),r.Ob()),2&t){const t=r.Yb().$implicit;r.Bb(1),r.dc("ngForOf",t.phones)}}function ho(t,e){1&t&&(r.Pb(0,"p"),r.Pb(1,"i"),r.nc(2,"No phones..."),r.Ob(),r.Ob())}function fo(t,e){if(1&t&&(r.Pb(0,"tr"),r.Pb(1,"td",6),r.nc(2),r.Ob(),r.Pb(3,"td"),r.nc(4),r.Ob(),r.Pb(5,"td"),r.nc(6),r.Ob(),r.Pb(7,"td"),r.nc(8),r.Zb(9,"date"),r.Ob(),r.Pb(10,"td"),r.lc(11,lo,2,1,"ul",7),r.lc(12,ho,3,0,"ng-template",null,8,r.mc),r.Ob(),r.Ob()),2&t){const t=e.$implicit,n=e.index,i=r.hc(13);r.Bb(2),r.pc("",n+1,"."),r.Bb(2),r.oc(t.name),r.Bb(2),r.oc(t.email),r.Bb(2),r.oc(r.bc(9,6,t.birthday,"dd/MM/yyyy")),r.Bb(3),r.dc("ngIf",t.phones.length)("ngIfElse",i)}}function po(t,e){if(1&t&&(r.Pb(0,"table",4),r.Pb(1,"thead"),r.Pb(2,"tr"),r.Pb(3,"th"),r.nc(4,"No."),r.Ob(),r.Pb(5,"th"),r.nc(6,"Name"),r.Ob(),r.Pb(7,"th"),r.nc(8,"Email"),r.Ob(),r.Pb(9,"th"),r.nc(10,"Birthday"),r.Ob(),r.Pb(11,"th"),r.nc(12,"Phones"),r.Ob(),r.Ob(),r.Ob(),r.Pb(13,"tbody"),r.lc(14,fo,14,9,"tr",5),r.Ob(),r.Ob()),2&t){const t=r.Yb();r.Bb(14),r.dc("ngForOf",t.contacts)}}function go(t,e){1&t&&(r.Pb(0,"p"),r.Pb(1,"i"),r.nc(2,"No contacts..."),r.Ob(),r.Ob())}let mo=(()=>{class t{constructor(t){this.contacts=[],this.contacts=t.getAll()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(so))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-contacts"]],decls:8,vars:2,consts:[["title","contacts","description","company employees details","icon","bi bi-people-fill"],[1,"row","mt-4"],["class","table table-bordered align-middle mt-3",4,"ngIf","ngIfElse"],["noContacts",""],[1,"table","table-bordered","align-middle","mt-3"],[4,"ngFor","ngForOf"],[1,"text-center","fw-bold"],[4,"ngIf","ngIfElse"],["noPhones",""]],template:function(t,e){if(1&t&&(r.Nb(0,"app-page-header",0),r.Pb(1,"div",1),r.Pb(2,"div"),r.Pb(3,"h4"),r.nc(4,"Company employees contacts table"),r.Ob(),r.lc(5,po,15,1,"table",2),r.lc(6,go,3,0,"ng-template",null,3,r.mc),r.Ob(),r.Ob()),2&t){const t=r.hc(7);r.Bb(5),r.dc("ngIf",e.contacts.length)("ngIfElse",t)}},directives:[uo,lt,ut],pipes:[_t],styles:[""]}),t})();var vo=n("mrSG"),yo=n("qgXg"),bo=n("pxpQ"),wo=n("Ylt2");class _o extends oe.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Eo(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new se.a;if(this.isStopped||this.hasError?o=un.a.EMPTY:(this.observers.push(t),o=new wo.a(this,t)),r&&t.add(t=new bo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||yo.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Eo{constructor(t,e){this.time=t,this.value=e}}function Co(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new _o(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}var Io=n("D0XW");function To(){return t=>t.lift(new Oo)}class Oo{call(t,e){return e.subscribe(new So(t))}}class So extends le.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ao{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Do(t,this.compare,this.keySelector))}}class Do extends le.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ko=n("spgP"),xo=n("Jgta"),No=n("zIRd"),Po=n("qOnz"),jo=n("q/0M"),Ro=function(t,e){return(Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Fo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Mo,Lo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Vo=Vo||{},Uo=Lo||self;function Bo(){}function qo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ho(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var zo="closure_uid_"+(1e9*Math.random()>>>0),Go=0;function Ko(t,e,n){return t.call.apply(t.bind,arguments)}function Wo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function $o(t,e,n){return($o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ko:Wo).apply(null,arguments)}function Qo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Yo(){return Date.now()}function Xo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Jo(){this.j=this.j,this.i=this.i}Jo.prototype.j=!1,Jo.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,zo)&&t[zo]||(t[zo]=++Go)}(this)},Jo.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Zo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ts=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function es(t){return Array.prototype.concat.apply([],arguments)}function ns(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function rs(t){return/^[\s\xa0]*$/.test(t)}var is,os=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ss(t,e){return-1!=t.indexOf(e)}function as(t,e){return t<e?-1:t>e?1:0}t:{var us=Uo.navigator;if(us){var cs=us.userAgent;if(cs){is=cs;break t}}is=""}function ls(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function hs(t){var e={};for(var n in t)e[n]=t[n];return e}var fs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ds(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<fs.length;o++)n=fs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ps(t){return ps[" "](t),t}ps[" "]=Bo;var gs,ms,vs=ss(is,"Opera"),ys=ss(is,"Trident")||ss(is,"MSIE"),bs=ss(is,"Edge"),ws=bs||ys,_s=ss(is,"Gecko")&&!(ss(is.toLowerCase(),"webkit")&&!ss(is,"Edge"))&&!(ss(is,"Trident")||ss(is,"MSIE"))&&!ss(is,"Edge"),Es=ss(is.toLowerCase(),"webkit")&&!ss(is,"Edge");function Cs(){var t=Uo.document;return t?t.documentMode:void 0}t:{var Is="",Ts=(ms=is,_s?/rv:([^\);]+)(\)|;)/.exec(ms):bs?/Edge\/([\d\.]+)/.exec(ms):ys?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ms):Es?/WebKit\/(\S+)/.exec(ms):vs?/(?:Version)[ \/]?(\S+)/.exec(ms):void 0);if(Ts&&(Is=Ts?Ts[1]:""),ys){var Os=Cs();if(null!=Os&&Os>parseFloat(Is)){gs=String(Os);break t}}gs=Is}var Ss={};function As(t){return function(t,e){var n=Ss;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=os(String(gs)).split("."),r=os(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=as(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||as(0==s[2].length,0==a[2].length)||as(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ds=Uo.document&&ys&&(Cs()||parseInt(gs,10))||void 0,ks=!ys||9<=Number(Ds),xs=ys&&!As("9"),Ns=function(){if(!Uo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Uo.addEventListener("test",Bo,e),Uo.removeEventListener("test",Bo,e)}catch(n){}return t}();function Ps(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function js(t,e){if(Ps.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(_s){t:{try{ps(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Rs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ps.prototype.b=function(){this.defaultPrevented=!0},Xo(js,Ps);var Rs={2:"touch",3:"pen",4:"mouse"};js.prototype.b=function(){js.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,xs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Fs="closure_listenable_"+(1e6*Math.random()|0),Ms=0;function Ls(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Ms,this.Y=this.Z=!1}function Vs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Us(t){this.src=t,this.a={},this.b=0}function Bs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Zo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Vs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function qs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Us.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=qs(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ls(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Hs="closure_lm_"+(1e6*Math.random()|0),zs={};function Gs(t,e,n,r,i){if(r&&r.once)return Ws(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Gs(t,e[o],n,r,i);return null}return n=ea(n),t&&t[Fs]?t.wa(e,n,Ho(r)?!!r.capture:!!r,i):Ks(t,e,n,!1,r,i)}function Ks(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ho(i)?!!i.capture:!!i;if(s&&!ks)return null;var a=Zs(t);if(a||(t[Hs]=a=new Us(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Js,e=ks?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ns||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ys(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ws(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ws(t,e[o],n,r,i);return null}return n=ea(n),t&&t[Fs]?t.xa(e,n,Ho(r)?!!r.capture:!!r,i):Ks(t,e,n,!0,r,i)}function $s(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$s(t,e[o],n,r,i);else r=Ho(r)?!!r.capture:!!r,n=ea(n),t&&t[Fs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=qs(o=t.a[e],n,r,i))&&(Vs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Zs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=qs(e,n,r,i)),(n=-1<t?e[t]:null)&&Qs(n))}function Qs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Fs])Bs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ys(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zs(e))?(Bs(n,t),0==n.b&&(n.src=null,e[Hs]=null)):Vs(t)}}}function Ys(t){return t in zs?zs[t]:zs[t]="on"+t}function Xs(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Qs(t),n.call(r,e)}function Js(t,e){if(t.Y)return!0;if(!ks){if(!e)t:{e=["window","event"];for(var n=Uo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Xs(t,e=new js(e,this))}return Xs(t,new js(e,this))}function Zs(t){return(t=t[Hs])instanceof Us?t:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(t){return"function"==typeof t?t:(t[ta]||(t[ta]=function(e){return t.handleEvent(e)}),t[ta])}function na(){Jo.call(this),this.c=new Us(this),this.J=this,this.D=null}function ra(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ps(e,t);else if(e instanceof Ps)e.target=e.target||t;else{var i=e;ds(e=new Ps(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ia(s,r,!0,e)&&i}if(i=ia(s=e.a=t,r,!0,e)&&i,i=ia(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ia(s=e.a=n[o],r,!1,e)&&i}function ia(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&Bs(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Xo(na,Jo),na.prototype[Fs]=!0,(Mo=na.prototype).addEventListener=function(t,e,n,r){Gs(this,t,e,n,r)},Mo.removeEventListener=function(t,e,n,r){$s(this,t,e,n,r)},Mo.H=function(){if(na.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Vs(n[r]);delete e.a[t],e.b--}}this.D=null},Mo.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Mo.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var oa=Uo.JSON.stringify;function sa(){this.b=this.a=null}var aa,ua=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new la},function(t){t.reset()});function ca(){var t=pa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function la(){this.next=this.b=this.a=null}function ha(t){Uo.setTimeout(function(){throw t},0)}function fa(t,e){aa||function(){var t=Uo.Promise.resolve(void 0);aa=function(){t.then(ga)}}(),da||(aa(),da=!0),pa.add(t,e)}sa.prototype.add=function(t,e){var n=ua.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},la.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},la.prototype.reset=function(){this.next=this.b=this.a=null};var da=!1,pa=new sa;function ga(){for(var t;t=ca();){try{t.a.call(t.b)}catch(n){ha(n)}var e=ua;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}da=!1}function ma(t,e){na.call(this),this.b=t||1,this.a=e||Uo,this.f=$o(this.eb,this),this.g=Yo()}function va(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ya(t,e,n){if("function"==typeof t)n&&(t=$o(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=$o(t.handleEvent,t)}return 2147483647<Number(e)?-1:Uo.setTimeout(t,e||0)}function ba(t){t.a=ya(function(){t.a=null,t.c&&(t.c=!1,ba(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Xo(ma,na),(Mo=ma.prototype).aa=!1,Mo.M=null,Mo.eb=function(){if(this.aa){var t=Yo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ra(this,"tick"),this.aa&&(va(this),this.start()))}},Mo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Yo())},Mo.H=function(){ma.X.H.call(this),va(this),delete this.a};var wa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ro(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ba(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Uo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Jo);function _a(t){Jo.call(this),this.b=t,this.a={}}Xo(_a,Jo);var Ea=[];function Ca(t,e,n,r){Array.isArray(n)||(n&&(Ea[0]=n.toString()),n=Ea);for(var i=0;i<n.length;i++){var o=Gs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ia(t){ls(t.a,function(t,e){this.a.hasOwnProperty(e)&&Qs(t)},t),t.a={}}function Ta(){this.a=!0}function Oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return oa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}_a.prototype.H=function(){_a.X.H.call(this),Ia(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ta.prototype.info=function(){};var Sa={},Aa=null;function Da(){return Aa=Aa||new na}function ka(t){Ps.call(this,Sa.Ga,t)}function xa(t){var e=Da();ra(e,new ka(e,t))}function Na(t,e){Ps.call(this,Sa.STAT_EVENT,t),this.stat=e}function Pa(t){var e=Da();ra(e,new Na(e,t))}function ja(t){Ps.call(this,Sa.Ha,t)}function Ra(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Uo.setTimeout(function(){t()},e)}Sa.Ga="serverreachability",Xo(ka,Ps),Sa.STAT_EVENT="statevent",Xo(Na,Ps),Sa.Ha="timingevent",Xo(ja,Ps);var Fa={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},Ma={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function La(){}function Va(){}La.prototype.b=null;var Ua,Ba={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function qa(){Ps.call(this,"d")}function Ha(){Ps.call(this,"c")}function za(){}function Ga(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new _a(this),this.P=Ka,this.R=new ma(t=ws?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Xo(qa,Ps),Xo(Ha,Ps),Xo(za,La),za.prototype.a=function(){return new XMLHttpRequest},za.prototype.c=function(){return{}},Ua=new za;var Ka=45e3,Wa={},$a={};function Qa(t,e,n){t.G=1,t.i=vu(hu(e)),t.j=n,t.I=!0,Ya(t,null)}function Ya(t,e){t.u=Yo(),Za(t),t.l=hu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ku(n.b,"t",r),t.D=0,t.a=Ic(t.g,t.g.C?e:null),0<t.O&&(t.F=new wa($o(t.Da,t,t.a),t.O)),Ca(t.J,t.a,"readystatechange",t.bb),e=t.B?hs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),xa(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Xa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ja(t,n);if(i==$a){4==e&&(t.h=4,Pa(14),r=!1),Oa(t.c,t.f,null,"[Incomplete Response]");break}if(i==Wa){t.h=4,Pa(15),Oa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Oa(t.c,t.f,i,null),iu(t,i)}4==e&&0==n.length&&(t.h=1,Pa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),mc(e),e.F=!0,Pa(11))):(Oa(t.c,t.f,n,"[Invalid Chunked Response]"),ru(t),nu(t))}function Ja(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?$a:(n=Number(e.substring(n,r)),isNaN(n)?Wa:(r+=1)+n>e.length?$a:(e=e.substr(r,n),t.D=r+n,e))}function Za(t){t.T=Yo()+t.P,tu(t,t.P)}function tu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ra($o(t.$a,t),e)}function eu(t){t.o&&(Uo.clearTimeout(t.o),t.o=null)}function nu(t){0==t.g.v||t.A||bc(t.g,t)}function ru(t){eu(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,va(t.R),Ia(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function iu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Mu(n.b,t)))if(n.I=t.N,!t.C&&Mu(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Ob){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;yc(n),ac(n)}gc(n),Pa(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Ra($o(n.Xa,n),6e3));if(1>=Fu(n.b)&&n.fa){try{n.fa()}catch(Ob){}n.fa=void 0}}else _c(n,11)}else if((t.C||n.a==t)&&yc(n),!rs(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ss(l,"spdy")||ss(l,"quic")||ss(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Lu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,mu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=Yo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=Cc(u,u.C?u.ha:null,u.ga),d.C){Vu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(eu(p),Za(p)),u.a=d}else pc(u);0<n.g.length&&lc(n)}else"stop"!=i[0]&&"close"!=i[0]||_c(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?_c(n,7):sc(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);xa(4)}catch(Ob){}}function ou(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(qo(t)||"string"==typeof t)ts(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(qo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(qo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function su(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof su)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function au(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];uu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)uu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function uu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Mo=Ga.prototype).setTimeout=function(t){this.P=t},Mo.bb=function(t){t=t.target;var e=this.F;e&&3==nc(t)?e.f():this.Da(t)},Mo.Da=function(t){try{if(t==this.a)t:{var e=nc(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!ws&&!this.a.$())){this.A||4!=e||7==n||xa(8==n||0>=r?3:2),eu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Pa(12),ru(this),nu(this);break t}Oa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,iu(this,u)}this.I?(Xa(this,e,o),ws&&this.b&&3==e&&(Ca(this.J,this.R,"tick",this.ab),this.R.start())):(Oa(this.c,this.f,o,null),iu(this,o)),4==e&&ru(this),this.b&&!this.A&&(4==e?bc(this.g,this):(this.b=!1,Za(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Pa(12)):(this.h=0,Pa(13)),ru(this),nu(this)}}}catch(c){}},Mo.ab=function(){if(this.a){var t=nc(this.a),e=this.a.$();this.D<e.length&&(eu(this),Xa(this,t,e),this.b&&4!=t&&Za(this))}},Mo.cancel=function(){this.A=!0,ru(this)},Mo.$a=function(){this.o=null;var t=Yo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(xa(3),Pa(17)),ru(this),this.h=2,nu(this)):tu(this,this.T-t)},(Mo=su.prototype).K=function(){au(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Mo.L=function(){return au(this),this.a.concat()},Mo.get=function(t,e){return uu(this.b,t)?this.b[t]:e},Mo.set=function(t,e){uu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Mo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var cu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof lu){this.a=void 0!==e?e:t.a,fu(this,t.f),this.j=t.j,du(this,t.c),pu(this,t.h),this.g=t.g,e=t.b;var n=new Ou;n.c=e.c,e.a&&(n.a=new su(e.a),n.b=e.b),gu(this,n),this.i=t.i}else t&&(n=String(t).match(cu))?(this.a=!!e,fu(this,n[1]||"",!0),this.j=yu(n[2]||""),du(this,n[3]||"",!0),pu(this,n[4]),this.g=yu(n[5]||"",!0),gu(this,n[6]||"",!0),this.i=yu(n[7]||"")):(this.a=!!e,this.b=new Ou(null,this.a))}function hu(t){return new lu(t)}function fu(t,e,n){t.f=n?yu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function du(t,e,n){t.c=n?yu(e,!0):e}function pu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function gu(t,e,n){e instanceof Ou?(t.b=e,function(t,e){e&&!t.f&&(Su(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Au(this,e),ku(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=bu(e,Iu)),t.b=new Ou(e,t.a))}function mu(t,e,n){t.b.set(e,n)}function vu(t){return mu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Yo()).toString(36)),t}function yu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}lu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(bu(e,_u,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(bu(e,_u,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(bu(n,"/"==n.charAt(0)?Cu:Eu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",bu(n,Tu)),t.join("")};var _u=/[#\/\?@]/g,Eu=/[#\?:]/g,Cu=/[#\?]/g,Iu=/[#\?@]/g,Tu=/#/g;function Ou(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Su(t){t.a||(t.a=new su,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Au(t,e){Su(t),e=xu(t,e),uu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,uu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&au(t)))}function Du(t,e){return Su(t),e=xu(t,e),uu(t.a.b,e)}function ku(t,e,n){Au(t,e),0<n.length&&(t.c=null,t.a.set(xu(t,e),ns(n)),t.b+=n.length)}function xu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Mo=Ou.prototype).add=function(t,e){Su(this),this.c=null,t=xu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Mo.forEach=function(t,e){Su(this),this.a.forEach(function(n,r){ts(n,function(n){t.call(e,n,r,this)},this)},this)},Mo.L=function(){Su(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Mo.K=function(t){Su(this);var e=[];if("string"==typeof t)Du(this,t)&&(e=es(e,this.a.get(xu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=es(e,t[n])}return e},Mo.set=function(t,e){return Su(this),this.c=null,Du(this,t=xu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Mo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Mo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Nu=function(){return function(t,e){this.b=t,this.a=e}}();function Pu(t){this.g=t||ju,t=Uo.PerformanceNavigationTiming?0<(t=Uo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Uo.ja&&Uo.ja.za&&Uo.ja.za()&&Uo.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ju=10;function Ru(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Fu(t){return t.b?1:t.a?t.a.size:0}function Mu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Lu(t,e){t.a?t.a.add(e):t.b=e}function Vu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Uu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Fo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ns(t.c)}function Bu(){}function qu(){this.a=new Bu}function Hu(t,e,n){var r=n||"";try{ou(t,function(t,n){var i=t;Ho(t)&&(i=oa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Yb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Yb}}function zu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Pu.prototype.cancel=function(){var t,e;if(this.c=Uu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Fo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Bu.prototype.stringify=function(t){return Uo.JSON.stringify(t,void 0)},Bu.prototype.parse=function(t){return Uo.JSON.parse(t,void 0)};var Gu=Uo.JSON.parse;function Ku(t){na.call(this),this.headers=new su,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Wu,this.F=this.G=!1}Xo(Ku,na);var Wu="",$u=/^https?$/i,Qu=["POST","PUT"];function Yu(t){return"content-type"==t.toLowerCase()}function Xu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ju(t),tc(t)}function Ju(t){t.A||(t.A=!0,ra(t,"complete"),ra(t,"error"))}function Zu(t){if(t.b&&void 0!==Vo&&(!t.u[1]||4!=nc(t)||2!=t.W()))if(t.m&&4==nc(t))ya(t.Aa,0,t);else if(ra(t,"readystatechange"),4==nc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(cu)[1]||null;if(!o&&Uo.self&&Uo.self.location){var s=Uo.self.location.protocol;o=s.substr(0,s.length-1)}i=!$u.test(o?o.toLowerCase():"")}e=i}if(e)ra(t,"complete"),ra(t,"success");else{t.h=6;try{var a=2<nc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ju(t)}}finally{tc(t)}}}function tc(t,e){if(t.a){ec(t);var n=t.a,r=t.u[0]?Bo:null;t.a=null,t.u=null,e||ra(t,"ready");try{n.onreadystatechange=r}catch(Yb){}}}function ec(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Uo.clearTimeout(t.o),t.o=null)}function nc(t){return t.a?t.a.readyState:0}function rc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ls(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mu(t,e,n))}function ic(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oc(t){this.qa=0,this.g=[],this.c=new Ta,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=ic("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=ic("baseRetryDelayMs",5e3,t),this.Sa=ic("retryDelaySeedMs",1e4,t),this.Na=ic("forwardChannelMaxRetries",2,t),this.na=ic("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Pu(t&&t.concurrentRequestLimit),this.la=new qu,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function sc(t){if(uc(t),3==t.v){var e=t.R++,n=hu(t.B);mu(n,"SID",t.J),mu(n,"RID",e),mu(n,"TYPE","terminate"),fc(t,n),(e=new Ga(t,t.c,e,void 0)).G=2,e.i=vu(hu(n)),n=!1,Uo.navigator&&Uo.navigator.sendBeacon&&(n=Uo.navigator.sendBeacon(e.i.toString(),"")),!n&&Uo.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ic(e.g,null),e.a.ba(e.i)),e.u=Yo(),Za(e)}Ec(t)}function ac(t){t.a&&(mc(t),t.a.cancel(),t.a=null)}function uc(t){ac(t),t.j&&(Uo.clearTimeout(t.j),t.j=null),yc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Uo.clearTimeout(t.h),t.h=null)}function cc(t,e){t.g.push(new Nu(t.Pa++,e)),3==t.v&&lc(t)}function lc(t){Ru(t.b)||t.h||(t.h=!0,fa(t.Ca,t),t.u=0)}function hc(t,e){var n;n=e?e.f:t.R++;var r=hu(t.B);mu(r,"SID",t.J),mu(r,"RID",n),mu(r,"AID",t.P),fc(t,r),t.i&&t.l&&rc(r,t.i,t.l),n=new Ga(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=dc(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Lu(t.b,n),Qa(n,r,e)}function fc(t,e){t.f&&ou({},function(t,n){mu(e,n,t)})}function dc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?$o(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Hu(l,s,"req"+c+"_")}catch(sl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function pc(t){t.a||t.j||(t.T=1,fa(t.Ba,t),t.o=0)}function gc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ra($o(t.Ba,t),wc(t,t.o)),t.o++,0))}function mc(t){null!=t.s&&(Uo.clearTimeout(t.s),t.s=null)}function vc(t){t.a=new Ga(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=hu(t.ma);mu(e,"RID","rpc"),mu(e,"SID",t.J),mu(e,"CI",t.G?"0":"1"),mu(e,"AID",t.P),fc(t,e),mu(e,"TYPE","xmlhttp"),t.i&&t.l&&rc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=vu(hu(e)),n.j=null,n.I=!0,Ya(n,t)}function yc(t){null!=t.m&&(Uo.clearTimeout(t.m),t.m=null)}function bc(t,e){var n=null;if(t.a==e){yc(t),mc(t),t.a=null;var r=2}else{if(!Mu(t.b,e))return;n=e.s,Vu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Yo()-e.u;var i=t.u;ra(r=Da(),new ja(r,n,e,i)),lc(t)}else pc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Fu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Ra($o(t.Ca,t,e),wc(t,t.u)),t.u++,0)))}(t,e)||2==r&&gc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:_c(t,5);break;case 4:_c(t,10);break;case 3:_c(t,6);break;default:_c(t,2)}}function wc(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function _c(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=$o(t.cb,t);n||(n=new lu("//www.google.com/images/cleardot.gif"),Uo.location&&"http"==Uo.location.protocol||fu(n,"https"),vu(n)),function(t,e){var n=new Ta;if(Uo.Image){var r=new Image;r.onload=Qo(zu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qo(zu,n,r,"TestLoadImage: error",!1,e),r.onabort=Qo(zu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qo(zu,n,r,"TestLoadImage: timeout",!1,e),Uo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Pa(2);t.v=0,t.f&&t.f.sa(e),Ec(t),uc(t)}function Ec(t){t.v=0,t.I=-1,t.f&&(0==Uu(t.b).length&&0==t.g.length||(t.b.c.length=0,ns(t.g),t.g.length=0),t.f.ra())}function Cc(t,e,n){var r=function(t){return t instanceof lu?hu(t):new lu(t,void 0)}(n);if(""!=r.c)e&&du(r,e+"."+r.c),pu(r,r.h);else{var i=Uo.location;r=function(t,e,n,r){var i=new lu(null,void 0);return t&&fu(i,t),e&&du(i,e),n&&pu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ls(t.V,function(t,e){mu(r,e,t)}),n=t.oa,(e=t.A)&&n&&mu(r,e,n),mu(r,"VER",t.ia),fc(t,r),r}function Ic(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ku(t.Oa)).G=t.C,e}function Tc(){}function Oc(){if(ys&&!(10<=Number(Ds)))throw Error("Environmental error: no available transport.")}function Sc(t,e){na.call(this),this.a=new oc(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!rs(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new kc(this)}function Ac(t){qa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Dc(){Ha.call(this),this.status=1}function kc(t){this.a=t}function xc(t){this.f=t}function Nc(t){na.call(this),this.u=t,this.h=void 0,this.readyState=Pc,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(Mo=Ku.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Ua.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Ua),this.a.onreadystatechange=$o(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void Xu(this,o)}t=n||"";var i=new su(this.headers);r&&ou(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Yu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Uo.FormData&&t instanceof Uo.FormData,!(0<=Zo(Qu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{ec(this),0<this.s&&((this.F=function(t){return ys&&As(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=$o(this.ya,this)):this.o=ya(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){Xu(this,o)}},Mo.ya=function(){void 0!==Vo&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,ra(this,"timeout"),this.abort(8))},Mo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ra(this,"complete"),ra(this,"abort"),tc(this))},Mo.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),tc(this,!0)),Ku.X.H.call(this)},Mo.Aa=function(){this.j||(this.B||this.m||this.g?Zu(this):this.Za())},Mo.Za=function(){Zu(this)},Mo.W=function(){try{return 2<nc(this)?this.a.status:-1}catch(ms){return-1}},Mo.$=function(){try{return this.a?this.a.responseText:""}catch(ms){return""}},Mo.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Gu(e)}},Mo.va=function(){return this.h},Mo.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(Mo=oc.prototype).ia=8,Mo.v=1,Mo.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ga(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ds(r=hs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=dc(this,n,e),mu(i=hu(this.B),"RID",t),mu(i,"CVER",22),this.A&&mu(i,"X-HTTP-Session-Id",this.A),fc(this,i),this.i&&r&&rc(i,this.i,r),Lu(this.b,n),this.Ja&&mu(i,"TYPE","init"),this.ea?(mu(i,"$req",e),mu(i,"SID","null"),n.U=!0,Qa(n,i,null)):Qa(n,i,e),this.v=2}}else 3==this.v&&(t?hc(this,t):0==this.g.length||Ru(this.b)||hc(this))},Mo.Ba=function(){if(this.j=null,vc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ra($o(this.Ya,this),t)}},Mo.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Pa(10),ac(this),vc(this))},Mo.Xa=function(){null!=this.m&&(this.m=null,ac(this),gc(this),Pa(19))},Mo.cb=function(t){t?(this.c.info("Successfully pinged google.com"),Pa(2)):(this.c.info("Failed to ping google.com"),Pa(1))},(Mo=Tc.prototype).ua=function(){},Mo.ta=function(){},Mo.sa=function(){},Mo.ra=function(){},Mo.Ka=function(){},Oc.prototype.a=function(t,e){return new Sc(t,e)},Xo(Sc,na),Sc.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;Pa(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Cc(t,null,t.ga),lc(t)},Sc.prototype.close=function(){sc(this.a)},Sc.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,cc(this.a,e)}else this.m?((e={}).__data__=oa(t),cc(this.a,e)):cc(this.a,t)},Sc.prototype.H=function(){this.a.f=null,delete this.f,sc(this.a),delete this.a,Sc.X.H.call(this)},Xo(Ac,qa),Xo(Dc,Ha),Xo(kc,Tc),kc.prototype.ua=function(){ra(this.a,"a")},kc.prototype.ta=function(t){ra(this.a,new Ac(t))},kc.prototype.sa=function(t){ra(this.a,new Dc(t))},kc.prototype.ra=function(){ra(this.a,"b")},Xo(xc,La),xc.prototype.a=function(){return new Nc(this.f)},xc.prototype.c=function(t){return function(){return t}}({}),Xo(Nc,na);var Pc=0;function jc(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Rc(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Fc(t)}function Fc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Mo=Nc.prototype).open=function(t,e){if(this.readyState!=Pc)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Fc(this)},Mo.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},Mo.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Rc(this)),this.readyState=Pc},Mo.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Fc(this)),this.a&&(this.readyState=3,Fc(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Uo.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,jc(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},Mo.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Rc(this):Fc(this),3==this.readyState&&jc(this)}},Mo.Va=function(t){this.a&&(this.responseText=t,Rc(this))},Mo.Ua=function(){this.a&&Rc(this)},Mo.ca=function(){this.a&&Rc(this)},Mo.setRequestHeader=function(t,e){this.l.append(t,e)},Mo.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},Mo.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),Oc.prototype.createWebChannel=Oc.prototype.a,Sc.prototype.send=Sc.prototype.l,Sc.prototype.open=Sc.prototype.h,Sc.prototype.close=Sc.prototype.close,Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Ma.COMPLETE="complete",Va.EventType=Ba,Ba.OPEN="a",Ba.CLOSE="b",Ba.ERROR="c",Ba.MESSAGE="d",na.prototype.listen=na.prototype.wa,Ku.prototype.listenOnce=Ku.prototype.xa,Ku.prototype.getLastError=Ku.prototype.Ra,Ku.prototype.getLastErrorCode=Ku.prototype.va,Ku.prototype.getStatus=Ku.prototype.W,Ku.prototype.getResponseJson=Ku.prototype.Qa,Ku.prototype.getResponseText=Ku.prototype.$,Ku.prototype.send=Ku.prototype.ba;var Mc=Fa,Lc=Ma,Vc=Sa,Uc=xc,Bc=Va,qc=Ku,Hc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Hc.o=-1;var zc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(vo.c)(e,t),e}(Error),Kc=new jo.b("@firebase/firestore");function Wc(){return Kc.logLevel}function $c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kc.logLevel<=jo.a.DEBUG){var r=e.map(Xc);Kc.debug.apply(Kc,Object(vo.g)(["Firestore (8.6.8): "+t],r))}}function Qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kc.logLevel<=jo.a.ERROR){var r=e.map(Xc);Kc.error.apply(Kc,Object(vo.g)(["Firestore (8.6.8): "+t],r))}}function Yc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kc.logLevel<=jo.a.WARN){var r=e.map(Xc);Kc.warn.apply(Kc,Object(vo.g)(["Firestore (8.6.8): "+t],r))}}function Xc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Yb){return t}}function Jc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.8) INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function Zc(t,e){t||Jc()}function tl(t,e){return t}function el(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=el(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rl(t,e){return t<e?-1:t>e?1:0}function il(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ol(t){return t+"\0"}var sl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gc(zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gc(zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gc(zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gc(zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?rl(this.nanoseconds,t.nanoseconds):rl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),al=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new sl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ul(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ll(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var hl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Jc(),void 0===n?n=t.length-e:n>t.length-e&&Jc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Gc(zc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(hl),dl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return dl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Gc(zc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Gc(zc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gc(zc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Gc(zc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(hl),gl=function(){function t(t){this.fields=t,t.sort(pl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return il(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ml=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return rl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ml.EMPTY_BYTE_STRING=new ml("");var vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yl(t){if(Zc(!!t),"string"==typeof t){var e=0,n=vl.exec(t);if(Zc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bl(t.seconds),nanos:bl(t.nanos)}}function bl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wl(t){return"string"==typeof t?ml.fromBase64String(t):ml.fromUint8Array(t)}function _l(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function El(t){var e=t.mapValue.fields.__previous_value__;return _l(e)?El(e):e}function Cl(t){var e=yl(t.mapValue.fields.__local_write_time__.timestampValue);return new sl(e.seconds,e.nanos)}function Il(t){return null==t}function Tl(t){return 0===t&&1/t==-1/0}function Ol(t){return"number"==typeof t&&Number.isInteger(t)&&!Tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Sl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(fl.fromString(e))},t.fromName=function(e){return new t(fl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===fl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return fl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new fl(e.slice()))},t}();function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_l(t)?4:10:Jc()}function Dl(t,e){var n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=yl(t.timestampValue),r=yl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return wl(t.bytesValue).isEqual(wl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return bl(t.geoPointValue.latitude)===bl(e.geoPointValue.latitude)&&bl(t.geoPointValue.longitude)===bl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return bl(t.integerValue)===bl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=bl(t.doubleValue),r=bl(e.doubleValue);return n===r?Tl(n)===Tl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ul(n)!==ul(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dl(n[i],r[i])))return!1;return!0}(t,e);default:return Jc()}}function kl(t,e){return void 0!==(t.values||[]).find(function(t){return Dl(t,e)})}function xl(t,e){var n=Al(t),r=Al(e);if(n!==r)return rl(n,r);switch(n){case 0:return 0;case 1:return rl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=bl(t.integerValue||t.doubleValue),r=bl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Nl(t.timestampValue,e.timestampValue);case 4:return Nl(Cl(t),Cl(e));case 5:return rl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=wl(t),r=wl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rl(n[i],r[i]);if(0!==o)return o}return rl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=rl(bl(t.latitude),bl(e.latitude));return 0!==n?n:rl(bl(t.longitude),bl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=xl(n[i],r[i]);if(o)return o}return rl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=rl(r[s],o[s]);if(0!==a)return a;var u=xl(n[r[s]],i[o[s]]);if(0!==u)return u}return rl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Jc()}}function Nl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rl(t,e);var n=yl(t),r=yl(e),i=rl(n.seconds,r.seconds);return 0!==i?i:rl(n.nanos,r.nanos)}function Pl(t){return jl(t)}function jl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=yl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wl(t.bytesValue).toBase64():"referenceValue"in t?Sl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jl(t.fields[o])}return e+"}"}(t.mapValue):Jc();var e}function Rl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Fl(t){return!!t&&"integerValue"in t}function Ml(t){return!!t&&"arrayValue"in t}function Ll(t){return!!t&&"nullValue"in t}function Vl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ul(t){return!!t&&"mapValue"in t}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},yl(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return cl(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Bl(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bl(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ql=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ul(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(e)},t.prototype.setAll=function(t){var e=this,n=pl.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Bl(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ul(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Dl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ul(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){cl(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Bl(this.value))},t}();function Hl(t){var e=[];return cl(t.fields,function(t,n){var r=new pl([t]);if(Ul(n)){var i=Hl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new gl(e)}var zl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,al.min(),ql.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ql.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ql.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ql.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ql.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Gl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Kl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Gl(t,e,n,r,i,o,s)}function Wl(t){var e=tl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Pl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Il(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sh(e.startAt)),e.endAt&&(n+="|ub:",n+=sh(e.endAt)),e.h=n}return e.h}function $l(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!uh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Dl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lh(t.startAt,e.startAt)&&lh(t.endAt,e.endAt)}function Ql(t){return Sl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(vo.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Xl(t,n,r):"array-contains"===n?new eh(t,r):"in"===n?new nh(t,r):"not-in"===n?new rh(t,r):"array-contains-any"===n?new ih(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Jl(t,n):new Zl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(xl(e,this.value)):null!==e&&Al(this.value)===Al(e)&&this.m(xl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Xl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Sl.fromName(r.referenceValue),i}return Object(vo.c)(e,t),e.prototype.matches=function(t){var e=Sl.comparator(t.key,this.key);return this.m(e)},e}(Yl),Jl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=th(0,n),r}return Object(vo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yl),Zl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=th(0,n),r}return Object(vo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yl);function th(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Sl.fromName(t.referenceValue)})}var eh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(vo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ml(e)&&kl(e.arrayValue,this.value)},e}(Yl),nh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(vo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&kl(this.value.arrayValue,e)},e}(Yl),rh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(vo.c)(e,t),e.prototype.matches=function(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!kl(this.value.arrayValue,e)},e}(Yl),ih=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(vo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ml(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return kl(e.value.arrayValue,t)})},e}(Yl),oh=function(t,e){this.position=t,this.before=e};function sh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Pl(t)}).join(",")}var ah=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function uh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ch(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Sl.comparator(Sl.fromName(s.referenceValue),n.key):xl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function lh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dl(t.position[n],e.position[n]))return!1;return!0}var hh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function fh(t,e,n,r,i,o,s,a){return new hh(t,e,n,r,i,o,s,a)}function dh(t){return new hh(t)}function ph(t){return!Il(t.limit)&&"F"===t.limitType}function gh(t){return!Il(t.limit)&&"L"===t.limitType}function mh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function yh(t){return null!==t.collectionGroup}function bh(t){var e=tl(t);if(null===e.p){e.p=[];var n=vh(e),r=mh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ah(n)),e.p.push(new ah(pl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ah(pl.keyField(),u))}}}return e.p}function wh(t){var e=tl(t);if(!e.T)if("F"===e.limitType)e.T=Kl(e.path,e.collectionGroup,bh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=bh(e);r<i.length;r++){var o=i[r];n.push(new ah(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new oh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new oh(e.startAt.position,!e.startAt.before):null;e.T=Kl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function _h(t,e,n){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return $l(wh(t),wh(e))&&t.limitType===e.limitType}function Ch(t){return Wl(wh(t))+"|lt:"+t.limitType}function Ih(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Pl(e.value);var e}).join(", ")+"]"),Il(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sh(t.startAt)),t.endAt&&(e+=", endAt: "+sh(t.endAt)),"Target("+e+")"}(wh(t))+"; limitType="+t.limitType+")"}function Th(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Sl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ch(t.startAt,bh(t),e)||t.endAt&&ch(t.endAt,bh(t),e))}(t,e)}function Oh(t){return function(e,n){for(var r=!1,i=0,o=bh(t);i<o.length;i++){var s=o[i],a=Sh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Sh(t,e,n){var r=t.field.isKeyField()?Sl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?xl(r,i):Jc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Jc()}}function Ah(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(e)?"-0":e}}function Dh(t){return{integerValue:""+t}}function kh(t,e){return Ol(e)?Dh(e):Ah(t,e)}var xh=function(){this._=void 0};function Nh(t,e,n){return t instanceof Rh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Fh?Mh(t,e):t instanceof Lh?Vh(t,e):function(t,e){var n=jh(t,e),r=Bh(n)+Bh(t.A);return Fl(n)&&Fl(t.A)?Dh(r):Ah(t.R,r)}(t,e)}function Ph(t,e,n){return t instanceof Fh?Mh(t,e):t instanceof Lh?Vh(t,e):n}function jh(t,e){return t instanceof Uh?Fl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e}(xh),Fh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(vo.c)(e,t),e}(xh);function Mh(t,e){for(var n=qh(e),r=function(t){n.some(function(e){return Dl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(vo.c)(e,t),e}(xh);function Vh(t,e){for(var n=qh(e),r=function(t){n=n.filter(function(e){return!Dl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Uh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(vo.c)(e,t),e}(xh);function Bh(t){return bl(t.integerValue||t.doubleValue)}function qh(t){return Ml(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Hh=function(t,e){this.field=t,this.transform=e},zh=function(t,e){this.version=t,this.transformResults=e},Gh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Kh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Wh=function(){};function $h(t,e,n){t instanceof Zh?function(t,e,n){var r=t.value.clone(),i=nf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof tf?function(t,e,n){if(Kh(t.precondition,e)){var r=nf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ef(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Qh(t,e,n){t instanceof Zh?function(t,e,n){if(Kh(t.precondition,e)){var r=t.value.clone(),i=rf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Jh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof tf?function(t,e,n){if(Kh(t.precondition,e)){var r=rf(t.fieldTransforms,n,e),i=e.data;i.setAll(ef(t)),i.setAll(r),e.convertToFoundDocument(Jh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Kh(t.precondition,e)&&e.convertToNoDocument(al.min())}(t,e)}function Yh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=jh(o.transform,s||null);null!=a&&(null==n&&(n=ql.empty()),n.set(o.field,a))}return n||null}function Xh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&il(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Fh&&e instanceof Fh||t instanceof Lh&&e instanceof Lh?il(t.elements,e.elements,Dl):t instanceof Uh&&e instanceof Uh?Dl(t.A,e.A):t instanceof Rh&&e instanceof Rh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Jh(t){return t.isFoundDocument()?t.version:al.min()}var Zh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(vo.c)(e,t),e}(Wh),tf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(vo.c)(e,t),e}(Wh);function ef(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function nf(t,e,n){var r=new Map;Zc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ph(s,a,n[i]))}return r}function rf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Nh(a,u,e))}return r}var of,sf,af=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(vo.c)(e,t),e}(Wh),uf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(vo.c)(e,t),e}(Wh),cf=function(t){this.count=t};function lf(t){switch(t){case zc.OK:return Jc();case zc.CANCELLED:case zc.UNKNOWN:case zc.DEADLINE_EXCEEDED:case zc.RESOURCE_EXHAUSTED:case zc.INTERNAL:case zc.UNAVAILABLE:case zc.UNAUTHENTICATED:return!1;case zc.INVALID_ARGUMENT:case zc.NOT_FOUND:case zc.ALREADY_EXISTS:case zc.PERMISSION_DENIED:case zc.FAILED_PRECONDITION:case zc.ABORTED:case zc.OUT_OF_RANGE:case zc.UNIMPLEMENTED:case zc.DATA_LOSS:return!0;default:return Jc()}}function hf(t){if(void 0===t)return Qc("GRPC error has no .code"),zc.UNKNOWN;switch(t){case of.OK:return zc.OK;case of.CANCELLED:return zc.CANCELLED;case of.UNKNOWN:return zc.UNKNOWN;case of.DEADLINE_EXCEEDED:return zc.DEADLINE_EXCEEDED;case of.RESOURCE_EXHAUSTED:return zc.RESOURCE_EXHAUSTED;case of.INTERNAL:return zc.INTERNAL;case of.UNAVAILABLE:return zc.UNAVAILABLE;case of.UNAUTHENTICATED:return zc.UNAUTHENTICATED;case of.INVALID_ARGUMENT:return zc.INVALID_ARGUMENT;case of.NOT_FOUND:return zc.NOT_FOUND;case of.ALREADY_EXISTS:return zc.ALREADY_EXISTS;case of.PERMISSION_DENIED:return zc.PERMISSION_DENIED;case of.FAILED_PRECONDITION:return zc.FAILED_PRECONDITION;case of.ABORTED:return zc.ABORTED;case of.OUT_OF_RANGE:return zc.OUT_OF_RANGE;case of.UNIMPLEMENTED:return zc.UNIMPLEMENTED;case of.DATA_LOSS:return zc.DATA_LOSS;default:return Jc()}}(sf=of||(of={}))[sf.OK=0]="OK",sf[sf.CANCELLED=1]="CANCELLED",sf[sf.UNKNOWN=2]="UNKNOWN",sf[sf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sf[sf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sf[sf.NOT_FOUND=5]="NOT_FOUND",sf[sf.ALREADY_EXISTS=6]="ALREADY_EXISTS",sf[sf.PERMISSION_DENIED=7]="PERMISSION_DENIED",sf[sf.UNAUTHENTICATED=16]="UNAUTHENTICATED",sf[sf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sf[sf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sf[sf.ABORTED=10]="ABORTED",sf[sf.OUT_OF_RANGE=11]="OUT_OF_RANGE",sf[sf.UNIMPLEMENTED=12]="UNIMPLEMENTED",sf[sf.INTERNAL=13]="INTERNAL",sf[sf.UNAVAILABLE=14]="UNAVAILABLE",sf[sf.DATA_LOSS=15]="DATA_LOSS";var ff=function(){function t(t,e){this.comparator=t,this.root=e||pf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new df(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new df(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new df(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new df(this.root,t,this.comparator,!0)},t}(),df=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Jc();if(this.right.isRed())throw Jc();var t=this.left.check();if(t!==this.right.check())throw Jc();return t+(this.isRed()?0:1)},t}();pf.EMPTY=null,pf.RED=!0,pf.BLACK=!1,pf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var gf=function(){function t(t){this.comparator=t,this.data=new ff(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new mf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new mf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),mf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),vf=new ff(Sl.comparator);function yf(){return vf}var bf=new ff(Sl.comparator);function wf(){return bf}var _f=new ff(Sl.comparator);function Ef(){return _f}var Cf=new gf(Sl.comparator);function If(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Cf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Tf=new gf(rl);function Of(){return Tf}var Sf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(al.min(),r,Of(),yf(),If())},t}(),Af=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ml.EMPTY_BYTE_STRING,n,If(),If(),If())},t}(),Df=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},kf=function(t,e){this.targetId=t,this.V=e},xf=function(t,e,n,r){void 0===n&&(n=ml.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Nf=function(){function t(){this.S=0,this.D=Rf(),this.C=ml.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=If(),e=If(),n=If();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Jc()}}),new Af(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Rf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Pf=function(){function t(t){this.W=t,this.G=new Map,this.H=yf(),this.J=jf(),this.Y=new gf(rl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Jc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ql(i))if(0===n){var o=new Sl(i.path);this.tt(e,o,zl.newNoDocument(o,al.min()))}else Zc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Ql(o.target)){var s=new Sl(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,zl.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=If();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Sf(t,n,this.Y,this.H,r);return this.H=yf(),this.J=jf(),this.Y=new gf(rl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Nf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new gf(rl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||$c("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Nf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function jf(){return new ff(Sl.comparator)}function Rf(){return new ff(Sl.comparator)}var Ff={asc:"ASCENDING",desc:"DESCENDING"},Mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lf=function(t,e){this.databaseId=t,this.I=e};function Vf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Bf(t,e){return Vf(t,e.toTimestamp())}function qf(t){return Zc(!!t),al.fromTimestamp(function(t){var e=yl(t);return new sl(e.seconds,e.nanos)}(t))}function Hf(t,e){return function(t){return new fl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function zf(t){var e=fl.fromString(t);return Zc(pd(e)),e}function Gf(t,e){return Hf(t.databaseId,e.path)}function Kf(t,e){var n=zf(e);if(n.get(1)!==t.databaseId.projectId)throw new Gc(zc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Gc(zc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Sl(Yf(n))}function Wf(t,e){return Hf(t.databaseId,e)}function $f(t){var e=zf(t);return 4===e.length?fl.emptyPath():Yf(e)}function Qf(t){return new fl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yf(t){return Zc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Xf(t,e,n){return{name:Gf(t,e),fields:n.value.mapValue.fields}}function Jf(t,e,n){var r=Kf(t,e.name),i=qf(e.updateTime),o=new ql({mapValue:{fields:e.fields}}),s=zl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Zf(t,e){var n;if(e instanceof Zh)n={update:Xf(t,e.key,e.value)};else if(e instanceof af)n={delete:Gf(t,e.key)};else if(e instanceof tf)n={update:Xf(t,e.key,e.data),updateMask:dd(e.fieldMask)};else{if(!(e instanceof uf))return Jc();n={verify:Gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Rh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Jc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Jc()}(t,e.precondition)),n}function td(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gh.updateTime(qf(t.updateTime)):void 0!==t.exists?Gh.exists(t.exists):Gh.none()}(e.currentDocument):Gh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Zc("REQUEST_TIME"===e.setToServerValue),n=new Rh):"appendMissingElements"in e?n=new Fh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Lh(e.removeAllFromArray.values||[]):"increment"in e?n=new Uh(t,e.increment):Jc();var r=pl.fromServerFormat(e.fieldPath);return new Hh(r,n)}(t,e)}):[];if(e.update){var i=Kf(t,e.update.name),o=new ql({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new gl((t.fieldPaths||[]).map(function(t){return pl.fromServerFormat(t)}))}(e.updateMask);return new tf(i,o,s,n,r)}return new Zh(i,o,n,r)}if(e.delete){var a=Kf(t,e.delete);return new af(a,n)}if(e.verify){var u=Kf(t,e.verify);return new uf(u,n)}return Jc()}function ed(t,e){return{documents:[Wf(t,e.path)]}}function nd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Wf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Vl(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NAN"}};if(Ll(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vl(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NOT_NAN"}};if(Ll(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(t.field),op:ud(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:cd(t.field),direction:ad(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Il(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=od(e.startAt)),e.endAt&&(n.structuredQuery.endAt=od(e.endAt)),n}function rd(t){var e=$f(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=id(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ah(ld(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Il(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=sd(n.startAt));var l=null;return n.endAt&&(l=sd(n.endAt)),fh(e,i,a,s,u,"F",c,l)}function id(t){return t?void 0!==t.unaryFilter?[fd(t)]:void 0!==t.fieldFilter?[hd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return id(t)}).reduce(function(t,e){return t.concat(e)}):Jc():[]}function od(t){return{before:t.before,values:t.position}}function sd(t){return new oh(t.values||[],!!t.before)}function ad(t){return Ff[t]}function ud(t){return Mf[t]}function cd(t){return{fieldPath:t.canonicalString()}}function ld(t){return pl.fromServerFormat(t.fieldPath)}function hd(t){return Yl.create(ld(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Jc()}}(t.fieldFilter.op),t.fieldFilter.value)}function fd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ld(t.unaryFilter.field);return Yl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ld(t.unaryFilter.field);return Yl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ld(t.unaryFilter.field);return Yl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ld(t.unaryFilter.field);return Yl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Jc()}}function dd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function pd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function gd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=vd(e)),e=md(t.get(n),e);return vd(e)}function md(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function vd(t){return t+"\x01\x01"}function yd(t){var e=t.length;if(Zc(e>=2),2===e)return Zc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),fl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Jc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Jc()}o=s+2}return new fl(r)}var bd=function(t,e){this.seconds=t,this.nanoseconds=e},wd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};wd.store="owner",wd.key="owner";var _d=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};_d.store="mutationQueues",_d.keyPath="userId";var Ed=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ed.store="mutations",Ed.keyPath="batchId",Ed.userMutationsIndex="userMutationsIndex",Ed.userMutationsKeyPath=["userId","batchId"];var Cd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,gd(e)]},t.key=function(t,e,n){return[t,gd(e),n]},t}();Cd.store="documentMutations",Cd.PLACEHOLDER=new Cd;var Id=function(t,e){this.path=t,this.readTime=e},Td=function(t,e){this.path=t,this.version=e},Od=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Od.store="remoteDocuments",Od.readTimeIndex="readTimeIndex",Od.readTimeIndexPath="readTime",Od.collectionReadTimeIndex="collectionReadTimeIndex",Od.collectionReadTimeIndexPath=["parentPath","readTime"];var Sd=function(t){this.byteSize=t};Sd.store="remoteDocumentGlobal",Sd.key="remoteDocumentGlobalKey";var Ad=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ad.store="targets",Ad.keyPath="targetId",Ad.queryTargetsIndexName="queryTargetsIndex",Ad.queryTargetsKeyPath=["canonicalId","targetId"];var Dd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Dd.store="targetDocuments",Dd.keyPath=["targetId","path"],Dd.documentTargetsIndex="documentTargetsIndex",Dd.documentTargetsKeyPath=["path","targetId"];var kd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kd.key="targetGlobalKey",kd.store="targetGlobal";var xd=function(t,e){this.collectionId=t,this.parent=e};xd.store="collectionParents",xd.keyPath=["collectionId","parent"];var Nd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Nd.store="clientMetadata",Nd.keyPath="clientId";var Pd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Pd.store="bundles",Pd.keyPath="bundleId";var jd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jd.store="namedQueries",jd.keyPath="name";var Rd=Object(vo.g)(Object(vo.g)([],Object(vo.g)(Object(vo.g)([],Object(vo.g)(Object(vo.g)([],Object(vo.g)(Object(vo.g)([],[_d.store,Ed.store,Cd.store,Od.store,Ad.store,wd.store,kd.store,Dd.store]),[Nd.store])),[Sd.store])),[xd.store])),[Pd.store,jd.store]),Fd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Md=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ld=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Vd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Jc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ud=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ld,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Hd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=$d(e.target.error);n.ft.reject(new Hd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Hd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||($c("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Gd(e)},t}(),Bd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Po.i)())&&Qc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return $c("SimpleDb","Removing database:",t),Kd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Po.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n=this;return Object(vo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:($c("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Hd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Gc(zc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Hd(t,n))},i.onupgradeneeded=function(t){$c("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){$c("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(vo.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(vo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(vo.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ud.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Vd.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return $c("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Kd(this.Pt.delete())},t}(),Hd=function(t){function e(e,n){var r=this;return(r=t.call(this,zc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(vo.c)(e,t),e}(Gc);function zd(t){return"IndexedDbTransactionError"===t.name}var Gd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?($c("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):($c("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Kd(n)},t.prototype.add=function(t){return $c("SimpleDb","ADD",this.store.name,t,t),Kd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Kd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),$c("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return $c("SimpleDb","DELETE",this.store.name,t),Kd(this.store.delete(t))},t.prototype.count=function(){return $c("SimpleDb","COUNT",this.store.name),Kd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){$c("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Vd(function(n,r){e.onerror=function(t){var e=$d(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Vd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new qd(i),s=e(i.primaryKey,i.value,o);if(s instanceof Vd){var a=s.catch(function(t){return o.done(),Vd.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Vd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Kd(t){return new Vd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=$d(t.target.error);n(e)}})}var Wd=!1;function $d(t){var e=Bd._t(Object(Po.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wd||(Wd=!0,setTimeout(function(){throw r},0)),r}}return t}var Qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(vo.c)(e,t),e}(Md);function Yd(t,e){var n=tl(t);return Bd.It(n.Mt,e)}var Xd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&$h(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Qh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Qh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(al.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},If())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,function(t,e){return Xh(t,e)})&&il(this.baseMutations,t.baseMutations,function(t,e){return Xh(t,e)})},t}(),Jd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Zc(e.mutations.length===r.length);for(var i=Ef(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Zd=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=al.min()),void 0===o&&(o=al.min()),void 0===s&&(s=ml.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),tp=function(t){this.Lt=t};function ep(t,e){if(e.document)return Jf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Sl.fromSegments(e.noDocument.path),r=sp(e.noDocument.readTime),i=zl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Sl.fromSegments(e.unknownDocument.path);return r=sp(e.unknownDocument.version),zl.newUnknownDocument(o,r)}return Jc()}function np(t,e,n){var r=rp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Gf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Vf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Od(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=op(e.version);return s=e.hasCommittedMutations,new Od(null,new Id(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=op(e.version);return new Od(new Td(c,l),null,null,!0,r,i)}return Jc()}function rp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ip(t){var e=new sl(t[0],t[1]);return al.fromTimestamp(e)}function op(t){var e=t.toTimestamp();return new bd(e.seconds,e.nanoseconds)}function sp(t){var e=new sl(t.seconds,t.nanoseconds);return al.fromTimestamp(e)}function ap(t,e){for(var n=(e.baseMutations||[]).map(function(e){return td(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return td(t.Lt,e)}),o=sl.fromMillis(e.localWriteTimeMs);return new Xd(e.batchId,o,n,i)}function up(t){var e,n,r=sp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sp(t.lastLimboFreeSnapshotVersion):al.min();return void 0!==t.query.documents?(Zc(1===(n=t.query).documents.length),e=wh(dh($f(n.documents[0])))):e=function(t){return wh(rd(t))}(t.query),new Zd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ml.fromBase64String(t.resumeToken))}function cp(t,e){var n,r=op(e.snapshotVersion),i=op(e.lastLimboFreeSnapshotVersion);n=Ql(e.target)?ed(t.Lt,e.target):nd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Ad(e.targetId,Wl(e.target),r,o,e.sequenceNumber,i,n)}function lp(t){var e=rd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_h(e,e.limit,"L"):e}var hp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return fp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:sp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return fp(t).put({bundleId:(n=e).id,createTime:op(qf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return dp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:lp(e.bundledQuery),readTime:sp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return dp(t).put(function(t){return{name:t.name,readTime:op(qf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function fp(t){return Yd(t,Pd.store)}function dp(t){return Yd(t,jd.store)}var pp=function(){function t(){this.Bt=new gp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Vd.resolve()},t.prototype.getCollectionParents=function(t,e){return Vd.resolve(this.Bt.getEntries(e))},t}(),gp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new gf(fl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new gf(fl.comparator)).toArray()},t}(),mp=function(){function t(){this.qt=new gp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:gd(i)};return vp(t).put(o)}return Vd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ol(e),""],!1,!0);return vp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(yd(o.parent))}return n})},t}();function vp(t){return Yd(t,xd.store)}var yp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function wp(t,e,n){var r=t.store(Ed.store),i=t.store(Cd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Zc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Cd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Vd.waitFor(o).next(function(){return c})}function _p(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Jc();e=t.noDocument}return JSON.stringify(e).length}bp.DEFAULT_COLLECTION_PERCENTILE=10,bp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bp.DEFAULT=new bp(41943040,bp.DEFAULT_COLLECTION_PERCENTILE,bp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bp.DISABLED=new bp(-1,0,0);var Ep=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Zc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ip(t).$t({index:Ed.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Tp(t),s=Ip(t);return s.add({}).next(function(a){Zc("number"==typeof a);for(var u=new Xd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Zf(t.Lt,e)}),i=n.mutations.map(function(e){return Zf(t.Lt,e)});return new Ed(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new gf(function(t,e){return rl(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Cd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Cd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Vd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Ip(t).get(e).next(function(t){return t?(Zc(t.userId===n.userId),ap(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Vd.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ip(t).$t({index:Ed.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Zc(e.batchId>=r),o=ap(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ip(t).$t({index:Ed.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ip(t).Nt(Ed.userMutationsIndex,n).next(function(t){return t.map(function(t){return ap(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Cd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Tp(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=yd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ip(t).get(u).next(function(t){if(!t)throw Jc();Zc(t.userId===n.userId),o.push(ap(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new gf(rl),i=[];return e.forEach(function(e){var o=Cd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Tp(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=yd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Vd.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Cd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new gf(rl);return Tp(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=yd(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ip(t).get(e).next(function(t){if(null===t)throw Jc();Zc(t.userId===n.userId),r.push(ap(n.R,t))}))}),Vd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return wp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Vd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Vd.resolve();var r=IDBKeyRange.lowerBound(Cd.prefixForUser(e.userId)),i=[];return Tp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=yd(t[1]);i.push(o)}else r.done()}).next(function(){Zc(0===i.length)})})},t.prototype.containsKey=function(t,e){return Cp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Op(t).get(this.userId).next(function(t){return t||new _d(e.userId,-1,"")})},t}();function Cp(t,e,n){var r=Cd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Tp(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ip(t){return Yd(t,Ed.store)}function Tp(t){return Yd(t,Cd.store)}function Op(t){return Yd(t,_d.store)}var Sp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Ap=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Sp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return al.fromTimestamp(new sl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Dp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Zc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Dp(t).$t(function(s,a){var u=up(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Vd.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Dp(t).$t(function(t,n){var r=up(n);e(r)})},t.prototype.Xt=function(t){return kp(t).get(kd.key).next(function(t){return Zc(null!==t),t})},t.prototype.Zt=function(t,e){return kp(t).put(kd.key,e)},t.prototype.te=function(t,e){return Dp(t).put(cp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Wl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Dp(t).$t({range:r,index:Ad.queryTargetsIndexName},function(t,n,r){var o=up(n);$l(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=xp(t);return e.forEach(function(e){var s=gd(e.path);i.push(o.put(new Dd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Vd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=xp(t);return Vd.forEach(e,function(e){var o=gd(e.path);return Vd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=xp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xp(t),i=If();return r.$t({range:n,kt:!0},function(t,e,n){var r=yd(t[1]),o=new Sl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=gd(e.path),r=IDBKeyRange.bound([n],[ol(n)],!1,!0),i=0;return xp(t).$t({index:Dd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Dp(t).get(e).next(function(t){return t?up(t):null})},t}();function Dp(t){return Yd(t,Ad.store)}function kp(t){return Yd(t,kd.store)}function xp(t){return Yd(t,Dd.store)}function Np(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){if(t.code!==zc.FAILED_PRECONDITION||t.message!==Fd)throw t;return $c("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Pp(t,e){var n=t[1],r=e[1],i=rl(t[0],e[0]);return 0===i?rl(n,r):i}var jp=function(){function t(t){this.ne=t,this.buffer=new gf(Pp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Rp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;$c("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(vo.b)(e,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return zd(e=n.sent())?($c("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Np(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Fp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Vd.resolve(Hc.o);var r=new jp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($c("LruGarbageCollector","Garbage collection skipped; disabled"),Vd.resolve(yp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?($c("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),yp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?($c("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Wc()<=jo.a.DEBUG&&$c("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Vd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Mp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Fp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Lp(t,n)},t.prototype.removeReference=function(t,e,n){return Lp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Lp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Op(t).Ot(function(r){return Cp(t,r,e).next(function(t){return t&&(n=!0),Vd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),xp(t).delete([0,gd(s.path)])})});i.push(u)}}).next(function(){return Vd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Lp(t,e)},t.prototype.we=function(t,e){var n,r=xp(t),i=Hc.o;return r.$t({index:Dd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Hc.o&&e(new Sl(yd(n)),i),i=s,n=o):i=Hc.o}).next(function(){i!==Hc.o&&e(new Sl(yd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Lp(t,e){return xp(t).put(function(t,e){return new Dd(0,gd(t.path),e)}(e,t.currentSequenceNumber))}var Vp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){cl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return ll(this.inner)},t}(),Up=function(){function t(){this.changes=new Vp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:al.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:zl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Vd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Bp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return zp(t).put(Gp(e),n)},t.prototype.removeEntry=function(t,e){var n=zp(t),r=Gp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return zp(t).get(Gp(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return zp(t).get(Gp(e)).next(function(t){return{document:n.ye(e,t),size:_p(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=yf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=yf(),i=new ff(Sl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,_p(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Vd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return zp(t).$t({range:r},function(t,e,r){for(var s=Sl.fromSegments(t);o&&Sl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=yf(),o=e.path.length+1,s={};if(n.isEqual(al.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=rp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Od.collectionReadTimeIndex}return zp(t).$t(s,function(t,n,s){if(t.length===o){var a=ep(r.R,n);e.path.isPrefixOf(a.key.path)?Th(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new qp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Hp(t).get(Sd.key).next(function(t){return Zc(!!t),t})},t.prototype.me=function(t,e){return Hp(t).put(Sd.key,e)},t.prototype.ye=function(t,e){if(e){var n=ep(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(al.min()))return n}return zl.newInvalidDocument(t)},t}(),qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Vp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(vo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new gf(function(t,e){return rl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=np(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=_p(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=np(e.Ie.R,zl.newNoDocument(o,al.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Vd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Up);function Hp(t){return Yd(t,Sd.store)}function zp(t){return Yd(t,Od.store)}function Gp(t){return t.path.toArray()}var Kp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Zc(n<r&&n>=0&&r<=11);var o=new Ud("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(wd.store)}(t),function(t){t.createObjectStore(_d.store,{keyPath:_d.keyPath}),t.createObjectStore(Ed.store,{keyPath:Ed.keyPath,autoIncrement:!0}).createIndex(Ed.userMutationsIndex,Ed.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cd.store)}(t),Wp(t),function(t){t.createObjectStore(Od.store)}(t));var s=Vd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Dd.store),t.deleteObjectStore(Ad.store),t.deleteObjectStore(kd.store)}(t),Wp(t)),s=s.next(function(){return function(t){var e=t.store(kd.store),n=new kd(0,0,al.min().toTimestamp(),0);return e.put(kd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Ed.store).Nt().next(function(n){t.deleteObjectStore(Ed.store),t.createObjectStore(Ed.store,{keyPath:Ed.keyPath,autoIncrement:!0}).createIndex(Ed.userMutationsIndex,Ed.userMutationsKeyPath,{unique:!0});var r=e.store(Ed.store),i=n.map(function(t){return r.put(t)});return Vd.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Nd.store,{keyPath:Nd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Sd.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Od.store);e.createIndex(Od.readTimeIndex,Od.readTimeIndexPath,{unique:!1}),e.createIndex(Od.collectionReadTimeIndex,Od.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Pd.store,{keyPath:Pd.keyPath})}(t),function(t){t.createObjectStore(jd.store,{keyPath:jd.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Od.store).$t(function(t,n){e+=_p(n)}).next(function(){var n=new Sd(e);return t.store(Sd.store).put(Sd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(_d.store),r=t.store(Ed.store);return n.Nt().next(function(n){return Vd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ed.userMutationsIndex,i).next(function(r){return Vd.forEach(r,function(r){Zc(r.userId===n.userId);var i=ap(e.R,r);return wp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Dd.store),n=t.store(Od.store);return t.store(kd.store).get(kd.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new fl(n),s=function(t){return[0,gd(t)]}(o);r.push(e.get(s).next(function(n){return n?Vd.resolve():function(n){return e.put(new Dd(0,gd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Vd.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(xd.store,{keyPath:xd.keyPath});var n=e.store(xd.store),r=new gp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:gd(i)})}};return e.store(Od.store).$t({kt:!0},function(t,e){var n=new fl(t);return i(n.popLast())}).next(function(){return e.store(Cd.store).$t({kt:!0},function(t,e){var n=yd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Ad.store);return n.$t(function(t,r){var i=up(r),o=cp(e.R,i);return n.put(o)})},t}();function Wp(t){t.createObjectStore(Dd.store,{keyPath:Dd.keyPath}).createIndex(Dd.documentTargetsIndex,Dd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ad.store,{keyPath:Ad.keyPath}).createIndex(Ad.queryTargetsIndexName,Ad.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(kd.store)}var $p="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Gc(zc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mp(this,i),this.Le=n+"main",this.R=new tp(u),this.Be=new Bd(this.Le,11,new Kp(this.R)),this.qe=new Ap(this.referenceDelegate,this.R),this.Ut=new mp,this.Ue=function(t,e){return new Bp(t,e)}(this.R,this.Ut),this.Qe=new hp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Qc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gc(zc.FAILED_PRECONDITION,$p);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Hc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(vo.b)(e,void 0,void 0,function(){return Object(vo.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(vo.b)(e,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(vo.b)(e,void 0,void 0,function(){return Object(vo.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Xp(e).put(new Nd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(zd(e))return $c("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return $c("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Yp(t).get(wd.key).next(function(t){return Vd.resolve(e.tn(t))})},t.prototype.en=function(t){return Xp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(vo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Yd(t,Nd.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Vd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Vd.resolve(!0):Yp(t).get(wd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Gc(zc.FAILED_PRECONDITION,$p);return!1}}return!(!e.networkEnabled||!e.inForeground)||Xp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&$c("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(vo.b)(this,void 0,void 0,function(){var t=this;return Object(vo.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[wd.store,Nd.store],function(e){var n=new Qd(e,Hc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Xp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ep.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return $c("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Rd,function(o){return r=new Qd(o,i.Ne?i.Ne.next():Hc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Qc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Gc(zc.FAILED_PRECONDITION,Fd);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Yp(t).get(wd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gc(zc.FAILED_PRECONDITION,$p)})},t.prototype.Ze=function(t){var e=new wd(this.clientId,this.allowTabSynchronization,Date.now());return Yp(t).put(wd.key,e)},t.yt=function(){return Bd.yt()},t.prototype.Xe=function(t){var e=this,n=Yp(t);return n.get(wd.key).next(function(t){return e.tn(t)?($c("IndexedDbPersistence","Releasing primary lease."),n.delete(wd.key)):Vd.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Qc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return $c("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Qc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Qc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Yp(t){return Yd(t,wd.store)}function Xp(t){return Yd(t,Nd.store)}function Jp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Zp=function(t,e){this.progress=t,this.wn=e},tg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Sl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):yh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Sl(e)).next(function(t){var e=wf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=wf();return this.Ut.getCollectionParents(t,i).next(function(s){return Vd.forEach(s,function(s){var a=function(t,e){return new hh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=zl.newInvalidDocument(c),r=r.insert(c,l)),Qh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Th(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=If(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof tf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),eg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=If(),i=If(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ng=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(al.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(ph(e)||gh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Wc()<=jo.a.DEBUG&&$c("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ih(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new gf(Oh(t));return e.forEach(function(e,r){Th(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Wc()<=jo.a.DEBUG&&$c("QueryEngine","Using full collection scan to execute query:",Ih(e)),this.Sn.getDocumentsMatchingQuery(t,e,al.min())},t}(),rg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ff(rl),this.kn=new Vp(function(t){return Wl(t)},$l),this.$n=al.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new tg(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function ig(t,e,n,r){return new rg(t,e,n,r)}function og(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(vo.d)(this,function(s){switch(s.label){case 0:return n=tl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new tg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=If(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function sg(t,e){var n=tl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Vd.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Zc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function ag(t){var e=tl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function ug(t,e){var n=tl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Zc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=yf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(cg(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(al.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Vd.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function cg(t,e,n,r,i){var o=If();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=yf();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(al.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):$c("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function lg(t,e){var n=tl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function hg(t,e){var n=tl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Vd.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Zd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function fg(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:r=tl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!zd(s=a.sent()))throw s;return $c("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function dg(t,e,n){var r=tl(t),i=al.min(),o=If();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=tl(t),i=r.kn.get(n);return void 0!==i?Vd.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,wh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:al.min(),n?o:If())}).next(function(t){return{documents:t,Bn:o}})})}function pg(t,e){var n=tl(t),r=tl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function gg(t){var e=tl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=tl(t),i=yf(),o=rp(n),s=zp(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Od.readTimeIndex,range:a},function(t,e){var n=ep(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:ip(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function mg(t){return Object(vo.b)(this,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){return[2,(e=tl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=zp(t),n=al.min();return e.$t({index:Od.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ip(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function vg(t,e,n,r){return Object(vo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(vo.d)(this,function(p){switch(p.label){case 0:for(i=tl(t),o=If(),s=yf(),a=Ef(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,hg(i,function(t){return wh(dh(fl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return cg(t,f,s,al.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function yg(t,e,n){return void 0===n&&(n=If()),Object(vo.b)(this,void 0,void 0,function(){var r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return[4,hg(t,wh(lp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=tl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=qf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(ml.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var bg=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Vd.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:qf(n.createTime)}),Vd.resolve()},t.prototype.getNamedQuery=function(t,e){return Vd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:lp(t.bundledQuery),readTime:qf(t.readTime)}}(e)),Vd.resolve()},t}(),wg=function(){function t(){this.Wn=new gf(_g.Gn),this.zn=new gf(_g.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new _g(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new _g(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Sl(new fl([])),r=new _g(n,t),i=new _g(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Sl(new fl([])),n=new _g(e,t),r=new _g(e,t+1),i=If();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new _g(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),_g=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Sl.comparator(t.key,e.key)||rl(t.ns,e.ns)},t.Hn=function(t,e){return rl(t.ns,e.ns)||Sl.comparator(t.key,e.key)},t}(),Eg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new gf(_g.Gn)}return t.prototype.checkEmpty=function(t){return Vd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Xd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new _g(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Vd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Vd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Vd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Vd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Vd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new _g(e,0),i=new _g(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Vd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new gf(rl);return e.forEach(function(t){var e=new _g(t,0),i=new _g(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Vd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Sl.isDocumentKey(i)||(i=i.child(""));var o=new _g(new Sl(i),0),s=new gf(rl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Vd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Zc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Vd.forEach(e.mutations,function(i){var o=new _g(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new _g(e,0),r=this.rs.firstAfterOrEqual(n);return Vd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Vd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Cg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ff(Sl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Vd.resolve(n?n.document.clone():zl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=yf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():zl.newInvalidDocument(t))}),Vd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=yf(),i=new Sl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Th(e,u)&&(r=r.insert(u.key,u.clone()))}return Vd.resolve(r)},t.prototype.fs=function(t,e){return Vd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ig(this)},t.prototype.getSize=function(t){return Vd.resolve(this.size)},t}(),Ig=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(vo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Vd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Up),Tg=function(){function t(t){this.persistence=t,this.ds=new Vp(function(t){return Wl(t)},$l),this.lastRemoteSnapshotVersion=al.min(),this.highestTargetId=0,this.ws=0,this._s=new wg,this.targetCount=0,this.ys=Sp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Vd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Vd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Vd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Vd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Vd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Sp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Vd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Vd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Vd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Vd.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Vd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Vd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Vd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Vd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Vd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Vd.resolve(n)},t.prototype.containsKey=function(t,e){return Vd.resolve(this._s.containsKey(e))},t}(),Og=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Hc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Tg(this),this.Ut=new pp,this.Ue=function(t,e){return new Cg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new tp(e),this.Qe=new bg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Eg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;$c("MemoryPersistence","Starting transaction:",t);var i=new Sg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Vd.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Sg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(vo.c)(e,t),e}(Md),Ag=function(){function t(t){this.persistence=t,this.As=new wg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Jc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Vd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Vd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Vd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vd.forEach(this.vs,function(r){var i=Sl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Vd.or([function(){return Vd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Dg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function kg(t,e){return"firestore_clients_"+t+"_"+e}function xg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ng(t,e){return"firestore_targets_"+t+"_"+e}Dg.UNAUTHENTICATED=new Dg(null),Dg.GOOGLE_CREDENTIALS=new Dg("google-credentials-uid"),Dg.FIRST_PARTY=new Dg("first-party-uid");var Pg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Gc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Qc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Qc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Of(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ol(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Qc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Qc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mg=function(){function t(){this.activeTargetIds=Of()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Lg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ff(rl),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=kg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Mg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(vo.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(kg(this.persistenceKey,r)))&&(o=Rg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ng(this.persistenceKey,t));if(n){var r=jg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ng(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return $c("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){$c("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){$c("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if($c("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Qc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(vo.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(vo.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Hc.o;if(null!=t)try{var n=JSON.parse(t);Zc("number"==typeof n),e=n}catch(t){Qc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Hc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Pg(this.currentUser,t,e,n),i=xg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=xg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Ng(this.persistenceKey,t),i=new jg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Rg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Pg.Vs(new Dg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return jg.Vs(r,e)},t.prototype.js=function(t){return Fg.Vs(t)},t.prototype.ii=function(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:($c("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Of();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Vg=function(){function t(){this.li=new Mg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Mg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ug=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Bg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){$c("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){$c("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),qg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),zg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(vo.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new qc;s.listenOnce(Lc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Mc.NO_ERROR:var e=s.getResponseJson();$c("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Mc.TIMEOUT:$c("Connection",'RPC "'+t+'" timed out'),o(new Gc(zc.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:var n=s.getStatus();if($c("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(zc).indexOf(e)>=0?e:zc.UNKNOWN}(r.status);o(new Gc(a,r.message))}else o(new Gc(zc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gc(zc.UNAVAILABLE,"Connection failed."));break;default:Jc()}}finally{$c("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Oc,i=Da(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Uc({})),this.Fi(o.initMessageHeaders,e),Object(Po.n)()||Object(Po.p)()||Object(Po.l)()||Object(Po.m)()||Object(Po.q)()||Object(Po.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");$c("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Hg({Ei:function(t){c?$c("Connection","Not sending because WebChannel is closed:",t):(u||($c("Connection","Opening WebChannel transport."),a.open(),u=!0),$c("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Bc.EventType.OPEN,function(){c||$c("Connection","WebChannel transport opened.")}),h(a,Bc.EventType.CLOSE,function(){c||(c=!0,$c("Connection","WebChannel transport closed"),l.Vi())}),h(a,Bc.EventType.ERROR,function(t){c||(c=!0,Yc("Connection","WebChannel transport errored:",t),l.Vi(new Gc(zc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Bc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Zc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){$c("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=of[t];if(void 0!==e)return hf(e)}(i),s=r.message;void 0===o&&(o=zc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Gc(o,s)),a.close()}else $c("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Vc.STAT_EVENT,function(t){10===t.stat?$c("Connection","Detected buffering proxy"):11===t.stat&&$c("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);$c("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return $c("RestConnection","Received: ",t),t},function(e){throw Yc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.8",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+qg[t]},t}());function Gg(){return"undefined"!=typeof window?window:null}function Kg(){return"undefined"!=typeof document?document:null}function Wg(t){return new Lf(t,!0)}var $g=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&$c("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Qg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new $g(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===zc.RESOURCE_EXHAUSTED?(Qc(e.toString()),Qc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===zc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Gc(zc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(vo.b)(t,void 0,void 0,function(){return Object(vo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return $c("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():($c("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Yg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(vo.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Jc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Zc(void 0===e||"string"==typeof e),ml.fromBase64String(e||"")):(Zc(void 0===e||e instanceof Uint8Array),ml.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?zc.UNKNOWN:hf(t.code);return new Gc(e,t.message||"")}(a);n=new xf(r,i,o,s||null)}else if("documentChange"in e){i=Kf(t,(r=e.documentChange).document.name),o=qf(r.document.updateTime);var a=new ql({mapValue:{fields:r.document.fields}}),u=(s=zl.newFoundDocument(i,o,a),r.targetIds||[]);n=new Df(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Kf(t,(r=e.documentDelete).document),o=r.readTime?qf(r.readTime):al.min(),a=zl.newNoDocument(i,o),n=new Df([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Kf(t,(r=e.documentRemove).document),n=new Df([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Jc();var c=e.filter;i=new cf(r=c.count||0),n=new kf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return al.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?al.min():e.readTime?qf(e.readTime):al.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Qf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ql(r)?{documents:ed(t,r)}:{query:nd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Uf(t,e.resumeToken):e.snapshotVersion.compareTo(al.min())>0&&(n.readTime=Vf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Qf(this.R),e.removeTarget=t,this.cr(e)},e}(Qg),Xg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(vo.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Zc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Zc(void 0!==e),t.map(function(t){return function(t,e){var n=qf(t.updateTime?t.updateTime:e);return n.isEqual(al.min())&&(n=qf(e)),new zh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=qf(t.commitTime);return this.listener.Tr(n,e)}return Zc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Qf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Zf(e.R,t)})};this.cr(n)},e}(Qg),Jg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(vo.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Gc(zc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===zc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Gc(zc.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===zc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Gc(zc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Zg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Qc(e),this.Vr=!1):$c("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),tm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(vo.b)(o,void 0,void 0,function(){return Object(vo.d)(this,function(t){switch(t.label){case 0:return cm(this)?($c("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(vo.b)(this,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return(e=tl(t)).Or.add(4),[4,nm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,em(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Zg(n,r)};function em(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n;return Object(vo.d)(this,function(r){switch(r.label){case 0:if(!cm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nm(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n;return Object(vo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rm(t,e){var n=tl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),um(n)?am(n):Im(n).er()&&om(n,e))}function im(t,e){var n=tl(t),r=Im(n);n.$r.delete(e),r.er()&&sm(n,e),0===n.$r.size&&(r.er()?r.ir():cm(n)&&n.Br.set("Unknown"))}function om(t,e){t.qr.U(e.targetId),Im(t).mr(e)}function sm(t,e){t.qr.U(e),Im(t).yr(e)}function am(t){t.qr=new Pf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Im(t).start(),t.Br.Sr()}function um(t){return cm(t)&&!Im(t).tr()&&t.$r.size>0}function cm(t){return 0===tl(t).Or.size}function lm(t){t.qr=void 0}function hm(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){return t.$r.forEach(function(e,n){om(t,e)}),[2]})})}function fm(t,e){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(n){return lm(t),um(t)?(t.Br.Nr(e),am(t)):t.Br.set("Unknown"),[2]})})}function dm(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o;return Object(vo.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof xf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(vo.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),$c("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Df?t.qr.X(e):e instanceof kf?t.qr.rt(e):t.qr.et(e),n.isEqual(al.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ag(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ml.EMPTY_BYTE_STRING,n.snapshotVersion)),sm(t,e);var r=new Zd(n.target,e,1,n.sequenceNumber);om(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return $c("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,pm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function pm(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r=this;return Object(vo.d)(this,function(i){switch(i.label){case 0:if(!zd(e))throw e;return t.Or.add(1),[4,nm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ag(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(vo.b)(r,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return $c("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,em(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function gm(t,e){return e().catch(function(n){return pm(t,n,e)})}function mm(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(vo.d)(this,function(s){switch(s.label){case 0:e=tl(t),n=Tm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return cm(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,lg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Tm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,pm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return vm(e)&&ym(e),[2]}})})}function vm(t){return cm(t)&&!Tm(t).tr()&&t.kr.length>0}function ym(t){Tm(t).start()}function bm(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){return Tm(t).Ar(),[2]})})}function wm(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n,r;return Object(vo.d)(this,function(i){for(e=Tm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function _m(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Jd.from(r,e,n),[4,gm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,mm(t)];case 2:return o.sent(),[2]}})})}function Em(t,e){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(n){switch(n.label){case 0:return e&&Tm(t).pr?[4,function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r;return Object(vo.d)(this,function(i){switch(i.label){case 0:return lf(r=e.code)&&r!==zc.ABORTED?(n=t.kr.shift(),Tm(t).sr(),[4,gm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,mm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return vm(t)&&ym(t),[2]}})})}function Cm(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n;return Object(vo.d)(this,function(r){switch(r.label){case 0:return n=tl(t),e?(n.Or.delete(2),[4,em(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,nm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Im(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=tl(t);return r.br(),new Yg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:hm.bind(null,t),Ri:fm.bind(null,t),_r:dm.bind(null,t)}),t.Mr.push(function(n){return Object(vo.b)(e,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),um(t)?am(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),lm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Tm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=tl(t);return r.br(),new Xg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:bm.bind(null,t),Ri:Em.bind(null,t),Ir:wm.bind(null,t),Tr:_m.bind(null,t)}),t.Mr.push(function(n){return Object(vo.b)(e,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,mm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&($c("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Om=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ld,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gc(zc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Sm(t,e){if(Qc("AsyncQueue",e+": "+t),zd(t))return new Gc(zc.UNAVAILABLE,e+": "+t);throw t}var Am=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Sl.comparator(e.key,n.key)}:function(t,e){return Sl.comparator(t.key,e.key)},this.keyedMap=wf(),this.sortedSet=new ff(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Dm=function(){function t(){this.Kr=new ff(Sl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Jc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),km=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Am.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xm=function(){this.Wr=void 0,this.listeners=[]},Nm=function(){this.queries=new Vp(function(t){return Ch(t)},Eh),this.onlineState="Unknown",this.Gr=new Set};function Pm(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(vo.d)(this,function(c){switch(c.label){case 0:if(n=tl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new xm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Sm(a,"Initialization of query '"+Ih(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Mm(n),[2]}})})}function jm(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(vo.d)(this,function(a){return n=tl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Rm(t,e){for(var n=tl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Mm(n)}function Fm(t,e,n){var r=tl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Mm(t){t.Gr.forEach(function(t){t.next()})}var Lm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new km(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=km.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Vm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Um=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Kf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Jf(this.R,t.document,!1):zl.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return qf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Um(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||If()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return[4,vg(this.localStore,new Um(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,yg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Zp(Object.assign({},this.progress),t))]}})})}}();var Bm=function(t){this.key=t},qm=function(t){this.key=t},Hm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=If(),this.mutatedKeys=If(),this.lo=Oh(t),this.fo=new Am(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Dm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ph(this.query)&&i.size===this.query.limit?i.last():null,c=gh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Th(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ph(this.query)||gh(this.query))for(;s.size>this.query.limit;){var l=ph(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new km(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=If(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new qm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Bm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=If();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return km.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),zm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Gm=function(t){this.key=t,this.bo=!1},Km=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Vp(function(t){return Ch(t)},Eh),this.Vo=new Map,this.So=new Set,this.Do=new ff(Sl.comparator),this.Co=new Map,this.No=new wg,this.xo={},this.Fo=new Map,this.ko=Sp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Wm(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:return n=Ev(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,hg(n.localStore,wh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,$m(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&rm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function $m(t,e,n,r){return Object(vo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(vo.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(vo.b)(this,void 0,void 0,function(){var i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,dg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(av(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,dg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Hm(e,i.Bn),s=o._o(i.documents),a=Af.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),av(t,n,u.To),c=new zm(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Qm(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return n=tl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Eh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,fg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),im(n.remoteStore,r.targetId),ov(n,r.targetId)}).catch(Np)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ov(n,r.targetId),[4,fg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ym(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:r=Cv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=tl(t),i=sl.now(),o=e.reduce(function(t,e){return t.add(e.key)},If());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Yh(c,n.get(c.key));null!=l&&s.push(new tf(c.key,l,Hl(l.value.mapValue),Gh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ff(rl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,lv(r,i.changes)];case 3:return a.sent(),[4,mm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Sm(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Xm(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r;return Object(vo.d)(this,function(i){switch(i.label){case 0:n=tl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ug(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Zc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Zc(r.bo):t.removedDocuments.size>0&&(Zc(r.bo),r.bo=!1))}),[4,lv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Np(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Jm(t,e,n){var r=tl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=tl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Mm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zm(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(vo.d)(this,function(c){switch(c.label){case 0:return(r=tl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ff(Sl.comparator)).insert(o,zl.newNoDocument(o,al.min())),a=If().add(o),u=new Sf(al.min(),new Map,new gf(rl),s,a),[4,Xm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),cv(r),[3,4];case 2:return[4,fg(r.localStore,e,!1).then(function(){return ov(r,e,n)}).catch(Np)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function tv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:n=tl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,sg(n.localStore,e)];case 2:return i=o.sent(),iv(n,r,null),rv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,lv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Np(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ev(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:r=tl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=tl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Zc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),iv(r,e,n),rv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,lv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Np(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function nv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:cm((n=tl(t)).remoteStore)||$c("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=tl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Sm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function rv(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function iv(t,e,n){var r=tl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ov(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||sv(t,e)})}function sv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(im(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),cv(t))}function av(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Bm?(t.No.addReference(o.key,e),uv(t,o)):o instanceof qm?($c("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||sv(t,o.key)):Jc()}}function uv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||($c("SyncEngine","New document in limbo: "+n),t.So.add(r),cv(t))}function cv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Sl(fl.fromString(e)),r=t.ko.next();t.Co.set(r,new Gm(n)),t.Do=t.Do.insert(n,r),rm(t.remoteStore,new Zd(wh(dh(n.path)),r,2,Hc.o))}}function lv(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:return r=tl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=eg.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(vo.d)(this,function(l){switch(l.label){case 0:n=tl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Vd.forEach(e,function(e){return Vd.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Vd.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!zd(r=l.sent()))throw r;return $c("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function hv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r;return Object(vo.d)(this,function(i){switch(i.label){case 0:return(n=tl(t)).currentUser.isEqual(e)?[3,3]:($c("SyncEngine","User change. New user:",e.toKey()),[4,og(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Gc(zc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,lv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function fv(t,e){var n=tl(t),r=n.Co.get(e);if(r&&r.bo)return If().add(r.key);var i=If(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function dv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return[4,dg((n=tl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&av(n,e.targetId,i.To),i)]}})})}function pv(t){return Object(vo.b)(this,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){return[2,gg((e=tl(t)).localStore).then(function(t){return lv(e,t)})]})})}function gv(t,e,n,r){return Object(vo.b)(this,void 0,void 0,function(){var i,o;return Object(vo.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=tl(t),r=tl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Vd.resolve(null)})})}((i=tl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,mm(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(iv(i,e,r||null),rv(i,e),function(t,e){tl(tl(t)._n).Gt(e)}(i.localStore,e)):Jc(),s.label=4;case 4:return[4,lv(i,o)];case 5:return s.sent(),[3,7];case 6:$c("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function mv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(vo.d)(this,function(c){switch(c.label){case 0:return Ev(n=tl(t)),Cv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vv(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Cm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)rm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return ov(n,e),fg(n.localStore,e,!0)}),im(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,vv(n,a)];case 5:return c.sent(),function(t){var e=tl(t);e.Co.forEach(function(t,n){im(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ff(Sl.comparator)}(n),n.$o=!1,[4,Cm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function vv(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(vo.d)(this,function(g){switch(g.label){case 0:n=tl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,hg(n.localStore,wh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,dv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,pg(n.localStore,a)];case 8:return p=g.sent(),[4,hg(n.localStore,p)];case 9:return u=g.sent(),[4,$m(n,yv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function yv(t){return fh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bv(t){var e=tl(t);return tl(tl(e.localStore).persistence).fn()}function wv(t,e,n,r){return Object(vo.b)(this,void 0,void 0,function(){var i,o,s;return Object(vo.d)(this,function(a){switch(a.label){case 0:return(i=tl(t)).$o?($c("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,gg(i.localStore)];case 3:return o=a.sent(),s=Sf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,lv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,fg(i.localStore,e,!0)];case 6:return a.sent(),ov(i,e,r),[3,8];case 7:Jc(),a.label=8;case 8:return[2]}})})}function _v(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(vo.d)(this,function(f){switch(f.label){case 0:if(!(r=Ev(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?($c("SyncEngine","Adding an already active target "+s),[3,5]):[4,pg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,hg(r.localStore,a)];case 3:return u=f.sent(),[4,$m(r,yv(a),u.targetId,!1)];case 4:f.sent(),rm(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(vo.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,fg(r.localStore,t,!1).then(function(){im(r.remoteStore,t),ov(r,t)}).catch(Np)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ev(t){var e=tl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zm.bind(null,e),e.vo._r=Rm.bind(null,e.eventManager),e.vo.Mo=Fm.bind(null,e.eventManager),e}function Cv(t){var e=tl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ev.bind(null,e),e}var Iv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return this.R=Wg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return ig(this.persistence,new ng,t.initialUser,this.R)},t.prototype.qo=function(t){return new Og(Ag.bs,this.R)},t.prototype.Bo=function(t){return new Vg},t.prototype.terminate=function(){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(vo.c)(e,t),e.prototype.initialize=function(e){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,mg(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Cv(this.Ko.syncEngine)];case 4:return n.sent(),[4,mm(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return ig(this.persistence,new ng,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Rp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Jp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bp.withCacheSize(this.cacheSizeBytes):bp.DEFAULT;return new Qp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Gg(),Kg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Vg},e}(Iv),Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(vo.c)(e,t),e.prototype.initialize=function(e){return Object(vo.b)(this,void 0,void 0,function(){var n,r=this;return Object(vo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Lg?(this.sharedClientState.syncEngine={ui:gv.bind(null,n),ai:wv.bind(null,n),hi:_v.bind(null,n),fn:bv.bind(null,n),ci:pv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(vo.b)(r,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return[4,mv(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Gg();if(!Lg.yt(e))throw new Gc(zc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Lg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Tv),Sv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n=this;return Object(vo.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Jm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hv.bind(null,this.syncEngine),[4,Cm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Nm},t.prototype.createDatastore=function(t){var e=Wg(t.databaseInfo.databaseId),n=new zg(t.databaseInfo);return function(t,e,n){return new Jg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Jm(s.syncEngine,t,0)},o=Bg.yt()?new Bg:new Ug,new tm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Km(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(vo.b)(this,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return e=tl(t),$c("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,nm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Av=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Dv=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ld,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(vo.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Vm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(vo.b)(this,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n=this;return Object(vo.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Gc(zc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(vo.d)(this,function(u){switch(u.label){case 0:return n=tl(t),r=Qf(n.R)+"/documents",i={documents:e.map(function(t){return Gf(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Zc(!!e.found);var n=Kf(t,e.found.name),r=qf(e.found.updateTime),i=new ql({mapValue:{fields:e.found.fields}});return zl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Zc(!!e.missing),Zc(!!e.readTime);var n=Kf(t,e.missing),r=qf(e.readTime);return zl.newNoDocument(n,r)}(t,e):Jc()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Zc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new af(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e=this;return Object(vo.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Sl.fromPath(n);e.mutations.push(new uf(r,e.precondition(r)))}),[4,function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return n=tl(t),r=Qf(n.R)+"/documents",i={writes:e.map(function(t){return Zf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Jc();e=al.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gc(zc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Gh.updateTime(e):Gh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(al.min()))throw new Gc(zc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gh.updateTime(e)}return Gh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),kv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new $g(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(vo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(vo.d)(this,function(r){return t=new Dv(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Il(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!lf(e)}return!1},t}(),xv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Dg.UNAUTHENTICATED,this.clientId=nl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(vo.b)(r,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return $c("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Gc(zc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ld;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(vo.b)(t,void 0,void 0,function(){var t,n;return Object(vo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Sm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Nv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(vo.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),$c("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(vo.b)(i,void 0,void 0,function(){return Object(vo.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,og(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Pv(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r;return Object(vo.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,jv(t)];case 1:return n=i.sent(),$c("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(vo.b)(this,void 0,void 0,function(){var n,r;return Object(vo.d)(this,function(i){switch(i.label){case 0:return(n=tl(t)).asyncQueue.verifyOperationInProgress(),$c("RemoteStore","RemoteStore received new credentials"),r=cm(n),n.Or.add(3),[4,nm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,em(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function jv(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:($c("FirestoreClient","Using default OfflineComponentProvider"),[4,Nv(t,new Iv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Rv(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:($c("FirestoreClient","Using default OnlineComponentProvider"),[4,Pv(t,new Sv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Fv(t){return jv(t).then(function(t){return t.persistence})}function Mv(t){return jv(t).then(function(t){return t.localStore})}function Lv(t){return Rv(t).then(function(t){return t.remoteStore})}function Vv(t){return Rv(t).then(function(t){return t.syncEngine})}function Uv(t){return Object(vo.b)(this,void 0,void 0,function(){var e,n;return Object(vo.d)(this,function(r){switch(r.label){case 0:return[4,Rv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Wm.bind(null,e.syncEngine),n.onUnlisten=Qm.bind(null,e.syncEngine),n)]}})})}function Bv(t,e,n){var r=this;void 0===n&&(n={});var i=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(r,void 0,void 0,function(){var r;return Object(vo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Av({next:function(o){e.enqueueAndForget(function(){return jm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Gc(zc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Gc(zc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Lm(dh(n.path),o,{includeMetadataChanges:!0,so:!0});return Pm(t,s)},[4,Uv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function qv(t,e,n){var r=this;void 0===n&&(n={});var i=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(r,void 0,void 0,function(){var r;return Object(vo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Av({next:function(n){e.enqueueAndForget(function(){return jm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Gc(zc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Lm(n,o,{includeMetadataChanges:!0,so:!0});return Pm(t,s)},[4,Uv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Hv=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},zv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gv=new Map,Kv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Wv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Dg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$v=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qv=function(){function t(t){var e=this;this.currentUser=Dg.UNAUTHENTICATED,this.oc=new Ld,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){$c("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):($c("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?($c("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Zc("string"==typeof n.accessToken),new Kv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(vo.b)(n,void 0,void 0,function(){return Object(vo.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Zc(null===t||"string"==typeof t),new Dg(t)},t}(),Yv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Dg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Xv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Yv(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Dg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Jv(t,e,n){if(!n)throw new Gc(zc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Zv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gc(zc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ty(t,e,n,r){if(!0===e&&!0===r)throw new Gc(zc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ey(t){if(!Sl.isDocumentKey(t))throw new Gc(zc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ny(t){if(Sl.isDocumentKey(t))throw new Gc(zc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ry(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Jc()}function iy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gc(zc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ry(t);throw new Gc(zc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function oy(t,e){if(e<=0)throw new Gc(zc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var sy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gc(zc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gc(zc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ty("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ay=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,t instanceof zv?(this._databaseId=t,this._credentials=new Wv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gc(zc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zv(t.options.projectId)}(t),this._credentials=new Qv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Gc(zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Gc(zc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Wv;switch(t.type){case"gapi":var e=t.client;return Zc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Gc(zc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Gv.get(this))&&($c("ComponentProvider","Removing Datastore"),Gv.delete(this),t.terminate()),Promise.resolve();var t},t}(),uy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ly(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),cy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,dh(r))||this)._path=r,i.type="collection",i}return Object(vo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new uy(this.firestore,null,new Sl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(cy);function hy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Po.h)(t),Jv("collection","path",e),t instanceof ay)return ny(n=fl.fromString.apply(fl,Object(vo.g)([e],r))),new ly(t,null,n);if(!(t instanceof uy||t instanceof ly))throw new Gc(zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ny(n=fl.fromString.apply(fl,Object(vo.g)([t.path],r)).child(fl.fromString(e))),new ly(t.firestore,null,n)}function fy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Po.h)(t),1===arguments.length&&(e=nl.u()),Jv("doc","path",e),t instanceof ay)return ey(n=fl.fromString.apply(fl,Object(vo.g)([e],r))),new uy(t,null,new Sl(n));if(!(t instanceof uy||t instanceof ly))throw new Gc(zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ey(n=t._path.child(fl.fromString.apply(fl,Object(vo.g)([e],r)))),new uy(t.firestore,t instanceof ly?t.converter:null,new Sl(n))}function dy(t,e){return t=Object(Po.h)(t),e=Object(Po.h)(e),(t instanceof uy||t instanceof ly)&&(e instanceof uy||e instanceof ly)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function py(t,e){return t=Object(Po.h)(t),e=Object(Po.h)(e),t instanceof cy&&e instanceof cy&&t.firestore===e.firestore&&Eh(t._query,e._query)&&t.converter===e.converter}var gy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new $g(this,"async_queue_retry"),this.Tc=function(){var e=Kg();e&&$c("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Kg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Kg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(vo.b)(this,void 0,void 0,function(){var t,e=this;return Object(vo.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!zd(t=n.sent()))throw t;return $c("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Qc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Om.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Jc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(vo.b)(this,void 0,void 0,function(){var t;return Object(vo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function my(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ld,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new gy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(vo.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||by(this),this._firestoreClient.terminate()},e}(ay);function yy(t){return t._firestoreClient||by(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function by(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Hv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new xv(t._credentials,t._queue,r)}function wy(t,e,n){var r=this,i=new Ld;return t.asyncQueue.enqueue(function(){return Object(vo.b)(r,void 0,void 0,function(){var r;return Object(vo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Nv(t,n)];case 1:return o.sent(),[4,Pv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===zc.FAILED_PRECONDITION||t.code===zc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _y(t){if(t._initialized||t._terminated)throw new Gc(zc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ey=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gc(zc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Cy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ml.fromBase64String(e))}catch(e){throw new Gc(zc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ml.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Iy=function(t){this._methodName=t},Ty=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gc(zc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gc(zc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return rl(this._lat,t._lat)||rl(this._long,t._long)},t}(),Oy=/^__.*__$/,Sy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new tf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zh(t,this.data,e,this.fieldTransforms)},t}(),Ay=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new tf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Dy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jc()}}var ky=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Yy(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(Dy(this.Cc)&&Oy.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),xy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Wg(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new ky({Cc:t,methodName:e,Bc:n,path:pl.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ny(t){var e=t._freezeSettings(),n=Wg(t._databaseId);return new xy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Py(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Ky("Data must be an object, but it was:",s,r);var a,u,c=zy(r,s);if(o.merge)a=new gl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Wy(e,f[h],n);if(!s.contains(d))throw new Gc(zc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Xy(l,d)||l.push(d)}a=new gl(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Sy(new ql(c),a,u)}var jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Iy);function Ry(t,e,n){return new ky({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype._toFieldTransform=function(t){return new Hh(t.path,new Rh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Iy),My=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(vo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ry(this,t,!0),n=this.Uc.map(function(t){return Hy(t,e)}),r=new Fh(n);return new Hh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Iy),Ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(vo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ry(this,t,!0),n=this.Uc.map(function(t){return Hy(t,e)}),r=new Lh(n);return new Hh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Iy),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(vo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Uh(t.R,kh(t.R,this.Qc));return new Hh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Iy);function Uy(t,e,n,r){var i=t.qc(1,e,n);Ky("Data must be an object, but it was:",i,r);var o=[],s=ql.empty();cl(r,function(t,r){var a=Qy(e,t,n);r=Object(Po.h)(r);var u=i.$c(a);if(r instanceof jy)o.push(a);else{var c=Hy(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new gl(o);return new Ay(s,a,i.fieldTransforms)}function By(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Wy(e,r,n)],u=[i];if(o.length%2!=0)throw new Gc(zc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Wy(e,o[c])),u.push(o[c+1]);for(var l=[],h=ql.empty(),f=a.length-1;f>=0;--f)if(!Xy(l,a[f])){var d=a[f],p=u[f];p=Object(Po.h)(p);var g=s.$c(d);if(p instanceof jy)l.push(d);else{var m=Hy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new gl(l);return new Ay(h,v,s.fieldTransforms)}function qy(t,e,n,r){return void 0===r&&(r=!1),Hy(n,t.qc(r?4:3,e))}function Hy(t,e){if(Gy(t=Object(Po.h)(t)))return Ky("Unsupported field value:",e,t),zy(t,e);if(t instanceof Iy)return function(t,e){if(!Dy(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Hy(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Po.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=sl.fromDate(t);return{timestampValue:Vf(e.R,n)}}if(t instanceof sl)return n=new sl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Vf(e.R,n)};if(t instanceof Ty)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cy)return{bytesValue:Uf(e.R,t._byteString)};if(t instanceof uy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Hf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+ry(t))}(t,e)}function zy(t,e){var n={};return ll(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(t,function(t,r){var i=Hy(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Gy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof sl||t instanceof Ty||t instanceof Cy||t instanceof uy||t instanceof Iy)}function Ky(t,e,n){if(!Gy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ry(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Wy(t,e,n){if((e=Object(Po.h)(e))instanceof Ey)return e._internalPath;if("string"==typeof e)return Qy(t,e);throw Yy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var $y=new RegExp("[~\\*/\\[\\]]");function Qy(t,e,n){if(e.search($y)>=0)throw Yy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ey.bind.apply(Ey,Object(vo.g)([void 0],e.split(".")))))._internalPath}catch(r){throw Yy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Yy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Gc(zc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Xy(t,e){return t.some(function(t){return t.isEqual(e)})}var Jy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new uy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Zy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(tb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jy);function tb(t,e){return"string"==typeof e?Qy(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}var eb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),nb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(vo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(tb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Jy),rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(nb),ib=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new eb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new rb(n._firestore,n._userDataWriter,r.key,r,new eb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gc(zc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new rb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new eb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new rb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new eb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ob(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jc()}}function sb(t,e){return t instanceof nb&&e instanceof nb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ib&&e instanceof ib&&t._firestore===e._firestore&&py(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function ab(t){if(gh(t)&&0===t.explicitOrderBy.length)throw new Gc(zc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ub=function(){};function cb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(vo.c)(e,t),e.prototype._apply=function(t){var e=Ny(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Gc(zc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){vb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(mb(r,t,l[c]));a={arrayValue:{values:u}}}else a=mb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||vb(s,o),a=qy(n,"where",s,"in"===o||"not-in"===o);var h=Yl.create(i,o,a);return function(t,e){if(e.g()){var n=vh(t);if(null!==n&&!n.isEqual(e.field))throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=mh(t);null!==r&&yb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Gc(zc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new cy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ub),hb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(vo.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ah(e,n);return function(t,e){if(null===mh(t)){var n=vh(t);null!==n&&yb(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new cy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new hh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ub),fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(vo.c)(e,t),e.prototype._apply=function(t){return new cy(t.firestore,t.converter,_h(t._query,this.zc,this.Hc))},e}(ub),db=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(vo.c)(e,t),e.prototype._apply=function(t){var e=gb(t,this.type,this.Jc,this.Yc);return new cy(t.firestore,t.converter,function(t,e){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ub),pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(vo.c)(e,t),e.prototype._apply=function(t){var e=gb(t,this.type,this.Jc,this.Yc);return new cy(t.firestore,t.converter,function(t,e){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ub);function gb(t,e,n,r){if(n[0]=Object(Po.h)(n[0]),n[0]instanceof Jy)return function(t,e,n,r,i){if(!r)throw new Gc(zc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=bh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Rl(e,r.key));else{var c=r.data.field(u.field);if(_l(c))throw new Gc(zc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new oh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ny(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Gc(zc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!yh(t)&&-1!==c.indexOf("/"))throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(fl.fromString(c));if(!Sl.isDocumentKey(l))throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Sl(l);a.push(Rl(e,h))}else{var f=qy(n,r,c);a.push(f)}}return new oh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function mb(t,e,n){if("string"==typeof(n=Object(Po.h)(n))){if(""===n)throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yh(e)&&-1!==n.indexOf("/"))throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(fl.fromString(n));if(!Sl.isDocumentKey(r))throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Rl(t,new Sl(r))}if(n instanceof uy)return Rl(t,n._key);throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ry(n)+".")}function vb(t,e){if(!Array.isArray(t)||0===t.length)throw new Gc(zc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gc(zc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yb(t,e,n){if(!n.isEqual(e))throw new Gc(zc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var bb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Al(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Jc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return cl(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Ty(bl(t.latitude),bl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=El(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Cl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=yl(t);return new sl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=fl.fromString(t);Zc(pd(n));var r=new zv(n.get(1),n.get(3)),i=new Sl(n.popFirst(5));return r.isEqual(e)||Qc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function wb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _b=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(vo.c)(e,t),e.prototype.convertBytes=function(t){return new Cy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uy(this.firestore,null,e)},e}(bb),Eb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ny(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Cb(t,this._firestore),i=wb(r.converter,e,n),o=Py(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Gh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Cb(t,this._firestore);return o="string"==typeof(e=Object(Po.h)(e))||e instanceof Ey?By(this._dataReader,"WriteBatch.update",s._key,e,n,r):Uy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Gh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Cb(t,this._firestore);return this._mutations=this._mutations.concat(new af(e._key,Gh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Gc(zc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cb(t,e){if((t=Object(Po.h)(t)).firestore!==e)throw new Gc(zc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ib=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(vo.c)(e,t),e.prototype.convertBytes=function(t){return new Cy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uy(this.firestore,null,e)},e}(bb);function Tb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=iy(t,uy);var o=iy(t.firestore,vy),s=Ny(o);return Sb(o,[("string"==typeof(e=Object(Po.h)(e))||e instanceof Ey?By(s,"updateDoc",t._key,e,n,r):Uy(s,"updateDoc",t._key,e)).toMutation(t._key,Gh.exists(!0))])}function Ob(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Po.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||my(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(my(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof uy)c=iy(t.firestore,vy),l=dh(t._key.path),u={next:function(e){i[a]&&i[a](Ab(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=iy(t,cy);c=iy(d.firestore,vy),l=d._query;var p=new Ib(c);u={next:function(t){i[a]&&i[a](new ib(c,p,d,t))},error:i[a+1],complete:i[a+2]},ab(t._query)}return function(t,e,n,r){var i=this,o=new Av(r),s=new Lm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(i,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return e=Pm,[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(i,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return e=jm,[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(yy(c),l,h,u)}function Sb(t,e){return function(t,e){var n=this,r=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(n,void 0,void 0,function(){var n;return Object(vo.d)(this,function(i){switch(i.label){case 0:return n=Ym,[4,Vv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(yy(t),e)}function Ab(t,e,n){var r=n.docs.get(e._key),i=new Ib(t);return new nb(t,i,e._key,r,new eb(n.hasPendingWrites,n.fromCache),e.converter)}var Db=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(vo.c)(e,t),e.prototype.get=function(e){var n=this,r=Cb(e,this._firestore),i=new Ib(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new nb(n._firestore,i,r._key,t._document,new eb(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ny(t)}return t.prototype.get=function(t){var e=this,n=Cb(t,this._firestore),r=new _b(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Jc();var i=t[0];if(i.isFoundDocument())return new Jy(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Jy(e._firestore,r,n._key,null,n.converter);throw Jc()})},t.prototype.set=function(t,e,n){var r=Cb(t,this._firestore),i=wb(r.converter,e,n),o=Py(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Cb(t,this._firestore);return o="string"==typeof(e=Object(Po.h)(e))||e instanceof Ey?By(this._dataReader,"Transaction.update",s._key,e,n,r):Uy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Cb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function kb(){if("undefined"==typeof Uint8Array)throw new Gc(zc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xb(){if("undefined"==typeof atob)throw new Gc(zc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Nb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return xb(),new t(Cy.fromBase64String(e))},t.fromUint8Array=function(e){return kb(),new t(Cy.fromUint8Array(e))},t.prototype.toBase64=function(){return xb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return kb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Pb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_y(t=iy(t,vy));var n=yy(t),r=t._freezeSettings(),i=new Sv;return wy(n,i,new Tv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_y(t=iy(t,vy));var e=yy(t),n=t._freezeSettings(),r=new Sv;return wy(e,r,new Ov(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Gc(zc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ld;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(vo.b)(e,void 0,void 0,function(){var e;return Object(vo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(vo.b)(this,void 0,void 0,function(){return Object(vo.d)(this,function(e){switch(e.label){case 0:return Bd.yt()?[4,Bd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Jp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),jb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof zv||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Yc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=iy(t,ay))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Yc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(Po.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Gc(zc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new $v(new Kv(o,new Dg(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(vo.b)(e,void 0,void 0,function(){var e,n;return Object(vo.d)(this,function(r){switch(r.label){case 0:return[4,Fv(t)];case 1:return e=r.sent(),[4,Lv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=tl(t);return e.Or.delete(0),em(e)}(n))]}})})})}(yy(iy(this._delegate,vy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(vo.b)(e,void 0,void 0,function(){var e,n;return Object(vo.d)(this,function(r){switch(r.label){case 0:return[4,Fv(t)];case 1:return e=r.sent(),[4,Lv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(vo.b)(this,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return(e=tl(t)).Or.add(0),[4,nm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(yy(iy(this._delegate,vy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ty("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(e,void 0,void 0,function(){var e;return Object(vo.d)(this,function(r){switch(r.label){case 0:return e=nv,[4,Vv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(yy(iy(this._delegate,vy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Av(e);return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(n,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tl(t).Gr.add(e),e.next()},[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(n,void 0,void 0,function(){var e;return Object(vo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tl(t).Gr.delete(e)},[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(yy(t=iy(t,vy)),my(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Gc(zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new $b(this,hy(this._delegate,t))}catch(t){throw Ub(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Vb(this,fy(this._delegate,t))}catch(t){throw Ub(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Gb(this,function(t,e){if(t=iy(t,ay),Jv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gc(zc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cy(t,null,function(t){return new hh(fl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ub(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(n,void 0,void 0,function(){var n;return Object(vo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Rv(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new kv(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(yy(t),function(n){return e(new Db(t,n))})}(this._delegate,function(n){return t(new Fb(e,n))})},t.prototype.batch=function(){var t=this;return yy(this._delegate),new Mb(new Eb(this._delegate,function(e){return Sb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Gc(zc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Gc(zc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Rb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(vo.c)(e,t),e.prototype.convertBytes=function(t){return new Nb(new Cy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Vb.tu(e,this.firestore,null)},e}(bb),Fb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Rb(t)}return t.prototype.get=function(t){var e=this,n=Qb(t);return this._delegate.get(n).then(function(t){return new Hb(e._firestore,new nb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Qb(t);return n?(Zv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Qb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(vo.g)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Qb(t);return this._delegate.delete(e),this},t}(),Mb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Qb(t);return n?(Zv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Qb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(vo.g)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Qb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Lb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new rb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Rb(e),n),i.set(n,o)),o},t}();Lb.nu=new WeakMap;var Vb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Rb(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Gc(zc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new uy(n._delegate,r,new Sl(e)))},t.tu=function(e,n,r){return new t(n,new uy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $b(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new $b(this.firestore,hy(this._delegate,t))}catch(t){throw Ub(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Po.h)(t))instanceof uy&&dy(this._delegate,t)},t.prototype.set=function(t,e){e=Zv("DocumentReference.set",e);try{return function(t,e,n){t=iy(t,uy);var r=iy(t.firestore,vy),i=wb(t.converter,e,n);return Sb(r,[Py(Ny(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Gh.none())])}(this._delegate,t,e)}catch(t){throw Ub(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Tb(this._delegate,t):Tb.apply(void 0,Object(vo.g)([this._delegate,t,e],n))}catch(t){throw Ub(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Sb(iy((t=this._delegate).firestore,vy),[new af(t._key,Gh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Bb(e),i=qb(e,function(e){return new Hb(t.firestore,new nb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Ob(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iy(t,uy);var e=iy(t.firestore,vy),n=yy(e),r=new Ib(e);return function(t,e){var n=this,r=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(n,void 0,void 0,function(){var n;return Object(vo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i;return Object(vo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=tl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Gc(zc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Sm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Mv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new nb(e,r,t._key,n,new eb(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=iy(t,uy);var e=iy(t.firestore,vy);return Bv(yy(e),t._key,{source:"server"}).then(function(n){return Ab(e,t,n)})}(this._delegate):function(t){t=iy(t,uy);var e=iy(t.firestore,vy);return Bv(yy(e),t._key).then(function(n){return Ab(e,t,n)})}(this._delegate)).then(function(t){return new Hb(e.firestore,new nb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Lb.eu(this.firestore,e):null))},t}();function Ub(t,e,n){return t.message=t.message.replace(e,n),t}function Bb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!my(r))return r}return{}}function qb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=my(t[0])?t[0]:my(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Vb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return sb(this._delegate,t._delegate)},t}(),zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vo.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Hb),Gb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Rb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,cb(this._delegate,function(t,e,n){var r=e,i=tb("where",t);return new lb(i,r,n)}(e,n,r)))}catch(e){throw Ub(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,cb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=tb("orderBy",t);return new hb(r,n)}(e,n)))}catch(e){throw Ub(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,cb(this._delegate,function(t){return oy("limit",t),new fb("limit",t,"F")}(e)))}catch(e){throw Ub(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,cb(this._delegate,function(t){return oy("limitToLast",t),new fb("limitToLast",t,"L")}(e)))}catch(e){throw Ub(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Ub(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Ub(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Ub(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Ub(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return py(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iy(t,cy);var e=iy(t.firestore,vy),n=yy(e),r=new Ib(e);return function(t,e){var n=this,r=new Ld;return t.asyncQueue.enqueueAndForget(function(){return Object(vo.b)(n,void 0,void 0,function(){var n;return Object(vo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(vo.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(vo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,dg(t,e,!0)];case 1:return a=u.sent(),r=new Hm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Sm(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Mv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new ib(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=iy(t,cy);var e=iy(t.firestore,vy),n=yy(e),r=new Ib(e);return qv(n,t._query,{source:"server"}).then(function(n){return new ib(e,r,t,n)})}(this._delegate):function(t){t=iy(t,cy);var e=iy(t.firestore,vy),n=yy(e),r=new Ib(e);return ab(t._query),qv(n,t._query).then(function(n){return new ib(e,r,t,n)})}(this._delegate)).then(function(t){return new Wb(e.firestore,new ib(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Bb(e),i=qb(e,function(e){return new Wb(t.firestore,new ib(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ob(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Lb.eu(this.firestore,e):null))},t}(),Kb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new zb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Wb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Gb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new zb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Kb(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new zb(n._firestore,r))})},t.prototype.isEqual=function(t){return sb(this._delegate,t._delegate)},t}(),$b=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(vo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Vb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Vb(this.firestore,void 0===t?fy(this._delegate):fy(this._delegate,t))}catch(t){throw Ub(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=iy(t.firestore,vy),r=fy(t),i=wb(t.converter,e);return Sb(n,[Py(Ny(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Gh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Vb(e.firestore,t)})},e.prototype.isEqual=function(t){return dy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Lb.eu(this.firestore,t):null))},e}(Gb);function Qb(t){return iy(t,uy)}var Yb,Xb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ey.bind.apply(Ey,Object(vo.g)([void 0],t)))}return t.documentId=function(){return new t(pl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Po.h)(t))instanceof Ey&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Jb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Fy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new jy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new My("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ly("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Vy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Zb=n("/6Yf"),tw={Firestore:jb,GeoPoint:Ty,Timestamp:sl,Blob:Nb,Transaction:Fb,WriteBatch:Mb,DocumentReference:Vb,DocumentSnapshot:Hb,Query:Gb,QueryDocumentSnapshot:zb,QuerySnapshot:Wb,CollectionReference:$b,FieldPath:Xb,FieldValue:Jb,setLogLevel:function(t){Kc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Zb.a("firestore",function(t){return function(t,e){return new jb(t,new vy(t,e),new Pb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},tw)))})(Yb=No.a),Yb.registerVersion("@firebase/firestore","2.3.7");var ew=n("VRyK");function nw(t,e){return e?Ae(()=>t,e):Ae(()=>t)}var rw=n("tf+s");const iw=new r.r("angularfire2.auth.use-emulator"),ow=new r.r("angularfire2.auth.settings"),sw=new r.r("angularfire2.auth.tenant-id"),aw=new r.r("angularfire2.auth.langugage-code"),uw=new r.r("angularfire2.auth.use-device-language"),cw=new r.r("angularfire.auth.persistence");let lw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ko.d(i),f=Object(ko.h)(h),d=new oe.a,p=Object(ie.a)(void 0).pipe(Object(bo.b)(h.outsideAngular),Ae(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(null,"6nsN")))),Object(Oe.a)(()=>Object(ko.g)(t,i,e)),Object(Oe.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ko.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Co({bufferSize:1,refCount:!1}));if(Ct(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ie.a)(null);else{p.pipe(on()).subscribe();const t=p.pipe(Ae(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Co({bufferSize:1,refCount:!1})),e=t=>new pe.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ae(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ae(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(nw(n),Object(rw.a)(h.outsideAngular),Object(bo.b)(h.insideAngular)),this.user=t.pipe(nw(r),Object(rw.a)(h.outsideAngular),Object(bo.b)(h.insideAngular)),this.idToken=this.user.pipe(Ae(t=>t?Object(re.a)(t.getIdToken()):Object(ie.a)(null))),this.idTokenResult=this.user.pipe(Ae(t=>t?Object(re.a)(t.getIdTokenResult()):Object(ie.a)(null))),this.credential=Object(ew.a)(t,d,this.authState.pipe(Ve(t=>!t))).pipe(Object(Oe.a)(t=>(null==t?void 0:t.user)?t:null),Object(rw.a)(h.outsideAngular),Object(bo.b)(h.insideAngular))}return Object(ko.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ko.c),r.Tb(ko.b,8),r.Tb(r.C),r.Tb(r.A),r.Tb(iw,8),r.Tb(ow,8),r.Tb(sw,8),r.Tb(aw,8),r.Tb(uw,8),r.Tb(cw,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Tb(ko.c),r.Tb(ko.b,8),r.Tb(r.C),r.Tb(r.A),r.Tb(iw,8),r.Tb(ow,8),r.Tb(sw,8),r.Tb(aw,8),r.Tb(uw,8),r.Tb(cw,8))},token:t,providedIn:"any"}),t})();Object(ko.e)(lw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let hw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[lw]}),t})();function fw(t,e){return function(t,e=Io.a){return new pe.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function dw(t,e){return fw(t,e).pipe(Object(Oe.a)(t=>({payload:t,type:"query"})))}function pw(t,e){return dw(t,e).pipe(Re(void 0),To(),Object(Oe.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function gw(t,e,n){return pw(t,n).pipe(Fe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return mw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return mw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ao(void 0,void 0)),Object(Oe.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function mw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function vw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class yw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=pw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Re(void 0),To(),Ve(([t,e])=>e.length>0||!t),Object(Oe.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vw(t);return gw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(re.a)(this.query.get(t)).pipe(Object(bo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new bw(this.ref.doc(t),this.afs)}}class bw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Tw(n,e);return new yw(r,i,this.afs)}snapshotChanges(){return fw(this.ref,this.afs.schedulers.outsideAngular).pipe(Re(void 0),To(),Object(Oe.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Oe.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(re.a)(this.ref.get(t)).pipe(Object(bo.b)(this.afs.schedulers.insideAngular))}}class ww{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?pw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ve(t=>t.length>0),this.afs.keepUnstableUntilFirst):pw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vw(t);return gw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(re.a)(this.query.get(t)).pipe(Object(bo.b)(this.afs.schedulers.insideAngular))}}const _w=new r.r("angularfire2.enableFirestorePersistence"),Ew=new r.r("angularfire2.firestore.persistenceSettings"),Cw=new r.r("angularfire2.firestore.settings"),Iw=new r.r("angularfire2.firestore.use-emulator");function Tw(t,e=(t=>t)){return{query:e(t),ref:t}}let Ow=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ko.d(o),this.keepUnstableUntilFirst=Object(ko.h)(this.schedulers);const c=Object(ko.g)(t,o,e);!xo.a.auth&&u&&Object(ko.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ko.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Ct(i)){const e=()=>{try{return Object(re.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Yb){return"undefined"!=typeof console&&console.warn(Yb),Object(ie.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ie.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Tw(n,e),o=this.schedulers.ngZone.run(()=>r);return new yw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ww(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new bw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ko.c),r.Tb(ko.b,8),r.Tb(_w,8),r.Tb(Cw,8),r.Tb(r.C),r.Tb(r.A),r.Tb(Ew,8),r.Tb(Iw,8),r.Tb(iw,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Tb(ko.c),r.Tb(ko.b,8),r.Tb(_w,8),r.Tb(Cw,8),r.Tb(r.C),r.Tb(r.A),r.Tb(Ew,8),r.Tb(Iw,8),r.Tb(iw,8))},token:t,providedIn:"any"}),t})(),Sw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:_w,useValue:!0},{provide:Ew,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Ow]}),t})(),Aw=(()=>{class t{constructor(t){this.afs=t,this.customersRef=this.afs.collection("customers",t=>t.orderBy("firstName","asc")),this.customers$=this.customersRef.valueChanges({idField:"id"}).pipe(Co(1))}remove(t){return this.customersRef.doc(t).delete()}add(t){return this.customersRef.add(t)}getAll(){return this.customers$}getById(t){return this.customersRef.doc(t).valueChanges({idField:"id"})}update(t){var{id:e}=t,n=Object(vo.f)(t,["id"]);this.customersRef.doc(e).update(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Ow))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dw(t,e){if(1&t&&(r.Pb(0,"table",8),r.Pb(1,"tbody"),r.Pb(2,"tr"),r.Pb(3,"td"),r.Pb(4,"b"),r.nc(5,"First Name: "),r.Ob(),r.Ob(),r.Pb(6,"td"),r.nc(7),r.Ob(),r.Ob(),r.Pb(8,"tr"),r.Pb(9,"td"),r.Pb(10,"b"),r.nc(11,"Last Name: "),r.Ob(),r.Ob(),r.Pb(12,"td"),r.nc(13),r.Ob(),r.Ob(),r.Pb(14,"tr"),r.Pb(15,"td"),r.Pb(16,"b"),r.nc(17,"Email: "),r.Ob(),r.Ob(),r.Pb(18,"td"),r.Pb(19,"a",9),r.nc(20),r.Ob(),r.Ob(),r.Ob(),r.Pb(21,"tr"),r.Pb(22,"td"),r.Pb(23,"b"),r.nc(24,"Phone: "),r.Ob(),r.Ob(),r.Pb(25,"td"),r.Pb(26,"a",9),r.nc(27),r.Ob(),r.Ob(),r.Ob(),r.Pb(28,"tr"),r.Pb(29,"td"),r.Pb(30,"b"),r.nc(31,"Address: "),r.Ob(),r.Ob(),r.Pb(32,"td"),r.nc(33),r.Ob(),r.Ob(),r.Pb(34,"tr"),r.Pb(35,"td"),r.Pb(36,"b"),r.nc(37,"Notes: "),r.Ob(),r.Ob(),r.Pb(38,"td"),r.nc(39),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.ngIf;r.Bb(7),r.oc(t.firstName),r.Bb(6),r.oc(t.lastName),r.Bb(6),r.dc("href","mailto:"+t.email,r.jc),r.Bb(1),r.pc(" ",t.email," "),r.Bb(6),r.dc("href","tel:"+t.phone,r.jc),r.Bb(1),r.pc(" ",t.phone," "),r.Bb(6),r.oc(t.address),r.Bb(6),r.oc(t.notes)}}function kw(t,e){1&t&&(r.Pb(0,"p"),r.Pb(1,"i"),r.nc(2,"loading..."),r.Ob(),r.Ob())}function xw(t,e){1&t&&(r.Pb(0,"p"),r.Pb(1,"i"),r.nc(2,"No such customer..."),r.Ob(),r.Ob())}let Nw=(()=>{class t{constructor(t,e){this.customer$=t.params.pipe(Ae(t=>e.getById(t.id)))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(mr),r.Mb(Aw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-customers-details"]],decls:13,vars:4,consts:[["title","review customer","description","review customer's details","icon","bi bi-person-circle"],[1,"mt-4"],[1,"row"],[1,"col-12"],["routerLink","..",1,"btn","btn-secondary"],["class","table table-bordered",4,"ngIf","ngIfElse"],["loading",""],["noCustomer",""],[1,"table","table-bordered"],[3,"href"]],template:function(t,e){if(1&t&&(r.Nb(0,"app-page-header",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"p"),r.Pb(5,"a",4),r.nc(6,"Back "),r.Ob(),r.Ob(),r.lc(7,Dw,40,8,"table",5),r.Zb(8,"async"),r.Ob(),r.Ob(),r.Ob(),r.lc(9,kw,3,0,"ng-template",null,6,r.mc),r.lc(11,xw,3,0,"ng-template",null,7,r.mc)),2&t){const t=r.hc(10);r.Bb(7),r.dc("ngIf",r.ac(8,2,e.customer$))("ngIfElse",t)}},directives:[uo,Li,lt],pipes:[yt],styles:[""]}),t})();var Pw=n("XoHu");function jw(t,e){return new pe.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(re.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Rw=new r.r("NgValueAccessor"),Fw={provide:Rw,useExisting:Object(r.U)(()=>Lw),multi:!0},Mw=new r.r("CompositionEventMode");let Lw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(Mw,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([Fw])]}),t})();function Vw(t){return null==t||0===t.length}const Uw=new r.r("NgValidators"),Bw=new r.r("NgAsyncValidators");function qw(t){return null}function Hw(t){return null!=t}function zw(t){const e=Object(r.sb)(t)?Object(re.a)(t):t;return Object(r.rb)(e),e}function Gw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Kw(t,e){return e.map(e=>e(t))}function Ww(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function $w(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Hw);return 0==e.length?null:function(t){return Gw(Kw(t,e))}}(Ww(t)):null}function Qw(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Hw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ce.a)(e))return jw(e,null);if(Object(Pw.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return jw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return jw(t=1===t.length&&Object(ce.a)(t[0])?t[0]:t,null).pipe(Object(Oe.a)(t=>e(...t)))}return jw(t,null)}(Kw(t,e).map(zw)).pipe(Object(Oe.a)(Gw))}}(Ww(t)):null}function Yw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Xw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$w(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Qw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),Jw=(()=>{class t extends Xw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Zw(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const Zw=r.Rb(Jw);class t_ extends Xw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class e_{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let n_=(()=>{class t extends e_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(t_,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})(),r_=(()=>{class t extends e_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jw,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function i_(t,e){s_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&a_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&a_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function o_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function s_(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Yw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Yw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();o_(e._rawValidators,n),o_(e._rawAsyncValidators,n)}}function a_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function u_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const c_="VALID",l_="INVALID",h_="PENDING",f_="DISABLED";function d_(t){return(v_(t)?t.validators:t)||null}function p_(t){return Array.isArray(t)?$w(t):t||null}function g_(t,e){return(v_(e)?e.asyncValidators:t)||null}function m_(t){return Array.isArray(t)?Qw(t):t||null}function v_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class y_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=p_(this._rawValidators),this._composedAsyncValidatorFn=m_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===c_}get invalid(){return this.status===l_}get pending(){return this.status==h_}get disabled(){return this.status===f_}get enabled(){return this.status!==f_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=p_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=m_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=h_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=f_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=c_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==c_&&this.status!==h_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?f_:c_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=h_,this._hasOwnPendingAsyncValidator=!0;const e=zw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof w_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof __&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?f_:this.errors?l_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(h_)?h_:this._anyControlsHaveStatus(l_)?l_:c_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){v_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class b_ extends y_{constructor(t=null,e,n){super(d_(e),g_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){u_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){u_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class w_ extends y_{constructor(t,e,n){super(d_(e),g_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof b_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class __ extends y_{constructor(t,e,n){super(d_(e),g_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof b_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const E_={provide:Jw,useExisting:Object(r.U)(()=>I_)},C_=(()=>Promise.resolve(null))();let I_=(()=>{class t extends Jw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new w_({},$w(t),Qw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){C_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),i_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){C_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),u_(this._directives,t)})}addFormGroup(t){C_.then(()=>{const e=this._findContainer(t.path),n=new w_({});(function(t,e){s_(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){C_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){C_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Uw,10),r.Mb(Bw,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([E_]),r.yb]}),t})();const T_={provide:t_,useExisting:Object(r.U)(()=>S_)},O_=(()=>Promise.resolve(null))();let S_=(()=>{class t extends t_{constructor(t,e,n,i){super(),this.control=new b_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Lw?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){i_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){O_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;O_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jw,9),r.Mb(Uw,10),r.Mb(Bw,10),r.Mb(Rw,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([T_]),r.yb,r.zb]}),t})(),A_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),D_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const k_={provide:Uw,useExisting:Object(r.U)(()=>x_),multi:!0};let x_=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return Vw(t.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Ab([k_])]}),t})();const N_={provide:Uw,useExisting:Object(r.U)(()=>P_),multi:!0};let P_=(()=>{class t{constructor(){this._validator=qw}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10),e=>{return Vw(e.value)||null==(n=e.value)||"number"!=typeof n.length?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null;var n})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.Ab([N_]),r.zb]}),t})();const j_={provide:Uw,useExisting:Object(r.U)(()=>R_),multi:!0};let R_=(()=>{class t{constructor(){this._validator=qw}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=function(t){if(!t)return qw;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Vw(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[r.Ab([j_]),r.zb]}),t})(),F_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[D_]]}),t})(),M_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[F_]}),t})();function L_(t,e){1&t&&(r.Pb(0,"div",31),r.nc(1," First name is required "),r.Ob())}function V_(t,e){if(1&t&&(r.Pb(0,"div",31),r.nc(1),r.Ob()),2&t){r.Yb();const t=r.hc(12);r.Bb(1),r.pc(" First name must be at least ",null==t.errors||null==t.errors.minlength?null:t.errors.minlength.requiredLength," characters long ")}}function U_(t,e){1&t&&(r.Pb(0,"div",31),r.nc(1," Last name is required "),r.Ob())}function B_(t,e){if(1&t&&(r.Pb(0,"div",31),r.nc(1),r.Ob()),2&t){r.Yb();const t=r.hc(21);r.Bb(1),r.pc(" Last name must be at least ",null==t.errors||null==t.errors.minlength?null:t.errors.minlength.requiredLength," characters long ")}}function q_(t,e){1&t&&(r.Pb(0,"div",31),r.nc(1," Email is required "),r.Ob())}function H_(t,e){1&t&&(r.Pb(0,"div",31),r.nc(1," A valid email address must be provided "),r.Ob())}function z_(t,e){1&t&&(r.Pb(0,"div",31),r.nc(1," Phone is required "),r.Ob())}function G_(t,e){if(1&t&&(r.Pb(0,"div",31),r.nc(1),r.Ob()),2&t){r.Yb();const t=r.hc(40);r.Bb(1),r.pc(" ",null==t.errors||null==t.errors.pattern?null:t.errors.pattern.actualValue," is not a valid phone number ")}}const K_=function(t,e){return{"is-valid":t,"is-invalid":e}};let W_=(()=>{class t{constructor(t,e,n){this.customersService=t,this.routerService=e,this.activatedRouteService=n,this.form={firstName:"",lastName:"",email:"",phone:"",address:"",notes:""}}onSubmit({valid:t}){return Object(vo.b)(this,void 0,void 0,function*(){t&&(yield this.customersService.update(this.form),this.routerService.navigate(["../.."]))})}ngOnInit(){this.activatedRouteService.params.pipe(Ae(t=>this.customersService.getById(t.id)),Ne(1)).subscribe(t=>this.form=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Aw),r.Mb(Fi),r.Mb(mr))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-customers-edit"]],decls:59,vars:31,consts:[["title","add customer","description","add a new customer","icon","bi bi-person-plus"],[1,"row","mt-5"],[1,"col-12"],["novalidate","","autocomplete","off",3,"ngSubmit"],["customerForm","ngForm"],[1,"row","justify-content-center"],[1,"col-md-5","mb-3"],["for","firstName"],[1,"text-danger"],["type","text","required","","minlength","2","id","firstName","name","firstName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fnf","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","required","","minlength","2","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["lnf","ngModel"],["for","email"],["type","text","required","","pattern","^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$","id","email","name","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["ef","ngModel"],["for","phone"],["type","text","required","","pattern","^0[2-9]\\d{7,8}$","id","phone","name","phone",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["pf","ngModel"],[1,"col-md-10","mb-3"],["for","customerAddress"],["name","address","id","customerAddress","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["af","ngModel"],["for","customerNotes"],["name","notes","id","customerNotes","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["nf","ngModel"],[1,"fixed-bottom","bg-light","p-3","text-center"],["routerLink","../..",1,"btn","btn-secondary"],["type","submit","name","submit","value","Update",1,"btn","btn-primary","ms-3",3,"disabled"],[1,"invalid-feedback"]],template:function(t,e){if(1&t){const t=r.Qb();r.Nb(0,"app-page-header",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"form",3,4),r.Wb("ngSubmit",function(){r.ic(t);const n=r.hc(4);return e.onSubmit(n)}),r.Pb(5,"div",5),r.Pb(6,"div",6),r.Pb(7,"label",7),r.Pb(8,"span",8),r.nc(9,"*"),r.Ob(),r.nc(10," First Name "),r.Ob(),r.Pb(11,"input",9,10),r.Wb("ngModelChange",function(t){return e.form.firstName=t}),r.Ob(),r.lc(13,L_,2,0,"div",11),r.lc(14,V_,2,1,"div",11),r.Ob(),r.Pb(15,"div",6),r.Pb(16,"label",12),r.Pb(17,"span",8),r.nc(18,"*"),r.Ob(),r.nc(19," Last Name "),r.Ob(),r.Pb(20,"input",13,14),r.Wb("ngModelChange",function(t){return e.form.lastName=t}),r.Ob(),r.lc(22,U_,2,0,"div",11),r.lc(23,B_,2,1,"div",11),r.Ob(),r.Ob(),r.Pb(24,"div",5),r.Pb(25,"div",6),r.Pb(26,"label",15),r.Pb(27,"span",8),r.nc(28,"*"),r.Ob(),r.nc(29," Email "),r.Ob(),r.Pb(30,"input",16,17),r.Wb("ngModelChange",function(t){return e.form.email=t}),r.Ob(),r.lc(32,q_,2,0,"div",11),r.lc(33,H_,2,0,"div",11),r.Ob(),r.Pb(34,"div",6),r.Pb(35,"label",18),r.Pb(36,"span",8),r.nc(37,"*"),r.Ob(),r.nc(38," Phone "),r.Ob(),r.Pb(39,"input",19,20),r.Wb("ngModelChange",function(t){return e.form.phone=t}),r.Ob(),r.lc(41,z_,2,0,"div",11),r.lc(42,G_,2,1,"div",11),r.Ob(),r.Ob(),r.Pb(43,"div",5),r.Pb(44,"div",21),r.Pb(45,"label",22),r.nc(46,"Address"),r.Ob(),r.Pb(47,"textarea",23,24),r.Wb("ngModelChange",function(t){return e.form.address=t}),r.Ob(),r.Ob(),r.Ob(),r.Pb(49,"div",5),r.Pb(50,"div",21),r.Pb(51,"label",25),r.nc(52,"Notes"),r.Ob(),r.Pb(53,"textarea",26,27),r.Wb("ngModelChange",function(t){return e.form.notes=t}),r.Ob(),r.Ob(),r.Ob(),r.Pb(55,"div",28),r.Pb(56,"a",29),r.nc(57,"Cancel"),r.Ob(),r.Nb(58,"input",30),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.hc(4),n=r.hc(12),i=r.hc(21),o=r.hc(31),s=r.hc(40);r.Bb(11),r.dc("ngModel",e.form.firstName)("ngClass",r.fc(19,K_,n.touched&&n.valid,n.touched&&n.invalid)),r.Bb(2),r.dc("ngIf",null==n.errors?null:n.errors.required),r.Bb(1),r.dc("ngIf",null==n.errors?null:n.errors.minlength),r.Bb(6),r.dc("ngModel",e.form.lastName)("ngClass",r.fc(22,K_,i.touched&&i.valid,i.touched&&i.invalid)),r.Bb(2),r.dc("ngIf",null==i.errors?null:i.errors.required),r.Bb(1),r.dc("ngIf",null==i.errors?null:i.errors.minlength),r.Bb(7),r.dc("ngModel",e.form.email)("ngClass",r.fc(25,K_,o.touched&&o.valid,o.touched&&o.invalid)),r.Bb(2),r.dc("ngIf",null==o.errors?null:o.errors.required),r.Bb(1),r.dc("ngIf",null==o.errors?null:o.errors.pattern),r.Bb(6),r.dc("ngModel",e.form.phone)("ngClass",r.fc(28,K_,s.touched&&s.valid,s.touched&&s.invalid)),r.Bb(2),r.dc("ngIf",null==s.errors?null:s.errors.required),r.Bb(1),r.dc("ngIf",null==s.errors?null:s.errors.pattern),r.Bb(5),r.dc("ngModel",e.form.address),r.Bb(6),r.dc("ngModel",e.form.notes),r.Bb(5),r.dc("disabled",t.invalid)}},directives:[uo,A_,r_,I_,Lw,x_,P_,n_,S_,st,lt,R_,Li],styles:[""]}),t})();function $_(t,e){1&t&&(r.Pb(0,"div",32),r.nc(1," First name is required "),r.Ob())}function Q_(t,e){if(1&t&&(r.Pb(0,"div",32),r.nc(1),r.Ob()),2&t){r.Yb();const t=r.hc(12);r.Bb(1),r.pc(" First name must be at least ",null==t.errors||null==t.errors.minlength?null:t.errors.minlength.requiredLength," characters long ")}}function Y_(t,e){1&t&&(r.Pb(0,"div",32),r.nc(1," Last name is required "),r.Ob())}function X_(t,e){if(1&t&&(r.Pb(0,"div",32),r.nc(1),r.Ob()),2&t){r.Yb();const t=r.hc(21);r.Bb(1),r.pc(" Last name must be at least ",null==t.errors||null==t.errors.minlength?null:t.errors.minlength.requiredLength," characters long ")}}function J_(t,e){1&t&&(r.Pb(0,"div",32),r.nc(1," Email is required "),r.Ob())}function Z_(t,e){1&t&&(r.Pb(0,"div",32),r.nc(1," A valid email address must be provided "),r.Ob())}function tE(t,e){1&t&&(r.Pb(0,"div",32),r.nc(1," Phone is required "),r.Ob())}function eE(t,e){if(1&t&&(r.Pb(0,"div",32),r.nc(1),r.Ob()),2&t){r.Yb();const t=r.hc(40);r.Bb(1),r.pc(" ",null==t.errors||null==t.errors.pattern?null:t.errors.pattern.actualValue," is not a valid phone number ")}}const nE=function(t,e){return{"is-valid":t,"is-invalid":e}};let rE=(()=>{class t{constructor(t,e){this.customersService=t,this.routerService=e,this.form={firstName:"",lastName:"",email:"",phone:"",address:"",notes:""}}onSubmit({valid:t}){return Object(vo.b)(this,void 0,void 0,function*(){t&&(yield this.customersService.add(this.form),this.routerService.navigate([".."]))})}reset(t){t.resetForm({firstName:"",lastName:"",email:"",phone:"",address:"",notes:""})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Aw),r.Mb(Fi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-customers-new"]],decls:60,vars:31,consts:[["title","add customer","description","add a new customer","icon","bi bi-person-plus"],[1,"row","mt-5"],[1,"col-12"],["novalidate","","autocomplete","off",3,"ngSubmit"],["customerForm","ngForm"],[1,"row","justify-content-center"],[1,"col-md-5","mb-3"],["for","firstName"],[1,"text-danger"],["type","text","required","","minlength","2","id","firstName","name","firstName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fnf","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","required","","minlength","2","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["lnf","ngModel"],["for","email"],["type","text","required","","pattern","^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$","id","email","name","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["ef","ngModel"],["for","phone"],["type","text","required","","pattern","^0[2-9]\\d{7,8}$","id","phone","name","phone",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["pf","ngModel"],[1,"col-md-10","mb-3"],["for","customerAddress"],["name","address","id","customerAddress","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["af","ngModel"],["for","customerNotes"],["name","notes","id","customerNotes","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["nf","ngModel"],[1,"fixed-bottom","bg-light","p-3","text-center"],["routerLink","..",1,"btn","btn-secondary"],["type","button","value","reset",1,"btn","btn-secondary","ms-3",3,"click"],["type","submit","name","submit","value","Save",1,"btn","btn-primary","ms-3",3,"disabled"],[1,"invalid-feedback"]],template:function(t,e){if(1&t){const t=r.Qb();r.Nb(0,"app-page-header",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"form",3,4),r.Wb("ngSubmit",function(){r.ic(t);const n=r.hc(4);return e.onSubmit(n)}),r.Pb(5,"div",5),r.Pb(6,"div",6),r.Pb(7,"label",7),r.Pb(8,"span",8),r.nc(9,"*"),r.Ob(),r.nc(10," First Name "),r.Ob(),r.Pb(11,"input",9,10),r.Wb("ngModelChange",function(t){return e.form.firstName=t}),r.Ob(),r.lc(13,$_,2,0,"div",11),r.lc(14,Q_,2,1,"div",11),r.Ob(),r.Pb(15,"div",6),r.Pb(16,"label",12),r.Pb(17,"span",8),r.nc(18,"*"),r.Ob(),r.nc(19," Last Name "),r.Ob(),r.Pb(20,"input",13,14),r.Wb("ngModelChange",function(t){return e.form.lastName=t}),r.Ob(),r.lc(22,Y_,2,0,"div",11),r.lc(23,X_,2,1,"div",11),r.Ob(),r.Ob(),r.Pb(24,"div",5),r.Pb(25,"div",6),r.Pb(26,"label",15),r.Pb(27,"span",8),r.nc(28,"*"),r.Ob(),r.nc(29," Email "),r.Ob(),r.Pb(30,"input",16,17),r.Wb("ngModelChange",function(t){return e.form.email=t}),r.Ob(),r.lc(32,J_,2,0,"div",11),r.lc(33,Z_,2,0,"div",11),r.Ob(),r.Pb(34,"div",6),r.Pb(35,"label",18),r.Pb(36,"span",8),r.nc(37,"*"),r.Ob(),r.nc(38," Phone "),r.Ob(),r.Pb(39,"input",19,20),r.Wb("ngModelChange",function(t){return e.form.phone=t}),r.Ob(),r.lc(41,tE,2,0,"div",11),r.lc(42,eE,2,1,"div",11),r.Ob(),r.Ob(),r.Pb(43,"div",5),r.Pb(44,"div",21),r.Pb(45,"label",22),r.nc(46,"Address"),r.Ob(),r.Pb(47,"textarea",23,24),r.Wb("ngModelChange",function(t){return e.form.address=t}),r.Ob(),r.Ob(),r.Ob(),r.Pb(49,"div",5),r.Pb(50,"div",21),r.Pb(51,"label",25),r.nc(52,"Notes"),r.Ob(),r.Pb(53,"textarea",26,27),r.Wb("ngModelChange",function(t){return e.form.notes=t}),r.Ob(),r.Ob(),r.Ob(),r.Pb(55,"div",28),r.Pb(56,"a",29),r.nc(57,"Cancel"),r.Ob(),r.Pb(58,"input",30),r.Wb("click",function(){r.ic(t);const n=r.hc(4);return e.reset(n)}),r.Ob(),r.Nb(59,"input",31),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.hc(4),n=r.hc(12),i=r.hc(21),o=r.hc(31),s=r.hc(40);r.Bb(11),r.dc("ngModel",e.form.firstName)("ngClass",r.fc(19,nE,n.touched&&n.valid,n.touched&&n.invalid)),r.Bb(2),r.dc("ngIf",null==n.errors?null:n.errors.required),r.Bb(1),r.dc("ngIf",null==n.errors?null:n.errors.minlength),r.Bb(6),r.dc("ngModel",e.form.lastName)("ngClass",r.fc(22,nE,i.touched&&i.valid,i.touched&&i.invalid)),r.Bb(2),r.dc("ngIf",null==i.errors?null:i.errors.required),r.Bb(1),r.dc("ngIf",null==i.errors?null:i.errors.minlength),r.Bb(7),r.dc("ngModel",e.form.email)("ngClass",r.fc(25,nE,o.touched&&o.valid,o.touched&&o.invalid)),r.Bb(2),r.dc("ngIf",null==o.errors?null:o.errors.required),r.Bb(1),r.dc("ngIf",null==o.errors?null:o.errors.pattern),r.Bb(6),r.dc("ngModel",e.form.phone)("ngClass",r.fc(28,nE,s.touched&&s.valid,s.touched&&s.invalid)),r.Bb(2),r.dc("ngIf",null==s.errors?null:s.errors.required),r.Bb(1),r.dc("ngIf",null==s.errors?null:s.errors.pattern),r.Bb(5),r.dc("ngModel",e.form.address),r.Bb(6),r.dc("ngModel",e.form.notes),r.Bb(6),r.dc("disabled",t.invalid)}},directives:[uo,A_,r_,I_,Lw,x_,P_,n_,S_,st,lt,R_,Li],styles:[""]}),t})(),iE=(()=>{class t{transform(t,e,n){return null==t?void 0:t.filter(t=>t[e].includes(n))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"filterArrayOfCustomers",type:t,pure:!0}),t})();const oE=function(t){return["./",t,"edit"]},sE=function(t){return["./",t]};function aE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.nc(2),r.Pb(3,"a",16),r.Nb(4,"i",17),r.Ob(),r.Pb(5,"a",18),r.Wb("click",function(){r.ic(t);const n=e.$implicit;return r.Yb(3).remove(n.id)}),r.Nb(6,"i",19),r.Ob(),r.Ob(),r.Pb(7,"td"),r.Pb(8,"a",16),r.nc(9),r.Ob(),r.Ob(),r.Pb(10,"td"),r.nc(11),r.Ob(),r.Pb(12,"td"),r.Pb(13,"a",20),r.nc(14),r.Ob(),r.Ob(),r.Pb(15,"td"),r.Pb(16,"a",20),r.nc(17),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit,n=e.index;r.Bb(2),r.pc(" ",n+1,". "),r.Bb(1),r.dc("routerLink",r.ec(9,oE,t.id)),r.Bb(5),r.dc("routerLink",r.ec(11,sE,t.id)),r.Bb(1),r.pc(" ",t.firstName," "),r.Bb(2),r.pc(" ",t.lastName," "),r.Bb(2),r.dc("href","mailto:"+t.email,r.jc),r.Bb(1),r.pc(" ",t.email," "),r.Bb(2),r.dc("href","tel:"+t.phone,r.jc),r.Bb(1),r.pc(" ",t.phone," ")}}function uE(t,e){if(1&t&&(r.Pb(0,"table",14),r.Pb(1,"thead"),r.Pb(2,"tr"),r.Pb(3,"th"),r.nc(4,"#No."),r.Ob(),r.Pb(5,"th"),r.nc(6,"First Name"),r.Ob(),r.Pb(7,"th"),r.nc(8,"Last Name"),r.Ob(),r.Pb(9,"th"),r.nc(10,"Email"),r.Ob(),r.Pb(11,"th"),r.nc(12,"Phone"),r.Ob(),r.Ob(),r.Ob(),r.Pb(13,"tbody"),r.lc(14,aE,18,13,"tr",15),r.Ob(),r.Ob()),2&t){const t=r.Yb().ngIf;r.Bb(14),r.dc("ngForOf",t)}}function cE(t,e){if(1&t&&(r.Pb(0,"div"),r.lc(1,uE,15,1,"table",13),r.Ob()),2&t){const t=e.ngIf;r.Yb();const n=r.hc(17);r.Bb(1),r.dc("ngIf",t.length)("ngIfElse",n)}}function lE(t,e){1&t&&r.nc(0," loading... ")}function hE(t,e){1&t&&(r.Pb(0,"p"),r.Pb(1,"i"),r.nc(2,"No customers..."),r.Ob(),r.Ob())}let fE=(()=>{class t{constructor(t){this.customersService=t,this.phoneTerm="",this.customers$=this.customersService.getAll()}remove(t){confirm("Are you sure you want to delete?")&&this.customersService.remove(t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Aw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-customers"]],decls:18,vars:9,consts:[["title","customers","icon","bi bi-emoji-expressionless-fill","description","list of customers"],[1,"row","mt-4"],[1,"col-8"],["type","text","name","phoneTerm","placeholder","Search customer by phone number..",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"float-end"],["routerLink","./new",1,"btn","btn-primary"],[1,"bi","bi-person-plus"],[1,"row","mt-3"],[1,"col-12"],[4,"ngIf","ngIfElse"],["loading",""],["noCustomers",""],["class","table table-bordered",4,"ngIf","ngIfElse"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"ms-3",3,"click"],[1,"bi","bi-trash-fill"],[3,"href"]],template:function(t,e){if(1&t&&(r.Nb(0,"app-page-header",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"input",3),r.Wb("ngModelChange",function(t){return e.phoneTerm=t}),r.Ob(),r.Ob(),r.Pb(4,"div",4),r.Pb(5,"span",5),r.Pb(6,"a",6),r.Nb(7,"i",7),r.nc(8," Add New Customer "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(9,"div",8),r.Pb(10,"div",9),r.lc(11,cE,2,2,"div",10),r.Zb(12,"filterArrayOfCustomers"),r.Zb(13,"async"),r.Ob(),r.Ob(),r.lc(14,lE,1,0,"ng-template",null,11,r.mc),r.lc(16,hE,3,0,"ng-template",null,12,r.mc)),2&t){const t=r.hc(15);r.Bb(3),r.dc("ngModel",e.phoneTerm),r.Bb(8),r.dc("ngIf",r.cc(12,3,r.ac(13,7,e.customers$),"phone",e.phoneTerm))("ngIfElse",t)}},directives:[uo,Lw,n_,S_,Li,lt,ut],pipes:[iE,yt],styles:[""]}),t})();n("6nsN");let dE=(()=>{class t{constructor(t){this.afa=t,this.user$=this.afa.authState,this.user$.subscribe(t=>{this.user=t,this.isLogged=Boolean(t)})}createUser(t,e){return this.afa.createUserWithEmailAndPassword(t,e)}loginWithEmail(t,e){return this.afa.createUserWithEmailAndPassword(t,e)}loginWithGoogle(){return this.afa.signInWithRedirect(new xo.a.auth.GoogleAuthProvider)}logout(){return this.afa.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(lw))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pE=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}clickHandler(t){return Object(vo.b)(this,void 0,void 0,function*(){t.preventDefault(),yield this.authService.logout(),this.router.navigate(["/login"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dE),r.Mb(Fi))},t.\u0275dir=r.Hb({type:t,selectors:[["","appLogout",""]],hostBindings:function(t,e){1&t&&r.Wb("click",function(t){return e.clickHandler(t)})}}),t})(),gE=(()=>{class t{constructor(t){this.authService=t,this.user$=this.authService.user$}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dE))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-navbar"]],decls:23,vars:3,consts:[["aria-label","Fourth navbar example",1,"navbar","navbar-expand-md","navbar-dark","bg-dark","sticky-top","shadow"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"bi","bi-chevron-double-up"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExample04","aria-controls","navbarsExample04","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExample04",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-md-0"],[1,"nav-item","dropdown"],["href","#","id","dropdown04","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown04",1,"dropdown-menu","end-0",2,"left","unset"],["href","#",1,"dropdown-item"],[1,"bi","bi-gear-fill"],["appLogout","",1,"dropdown-item"],[1,"bi","bi-box-arrow-right"]],template:function(t,e){if(1&t&&(r.Pb(0,"nav",0),r.Pb(1,"div",1),r.Pb(2,"a",2),r.nc(3," Royal "),r.Nb(4,"i",3),r.nc(5," CRM "),r.Ob(),r.Pb(6,"button",4),r.Nb(7,"span",5),r.Ob(),r.Pb(8,"div",6),r.Pb(9,"ul",7),r.Pb(10,"li",8),r.Pb(11,"a",9),r.nc(12),r.Zb(13,"async"),r.Ob(),r.Pb(14,"ul",10),r.Pb(15,"li"),r.Pb(16,"a",11),r.Nb(17,"i",12),r.nc(18," My Preferences "),r.Ob(),r.Ob(),r.Pb(19,"li"),r.Pb(20,"a",13),r.Nb(21,"i",14),r.nc(22," Sign Out "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t){let t=null;r.Bb(12),r.pc(" ",null==(t=r.ac(13,1,e.user$))?null:t.email," ")}},directives:[pE],pipes:[yt],styles:[""]}),t})();function mE(t,e){if(1&t&&(r.Pb(0,"li",2),r.Pb(1,"a",3),r.Nb(2,"i"),r.Pb(3,"span",4),r.nc(4),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.Bb(1),r.dc("routerLink",t.link),r.Bb(1),r.Db(t.icon),r.Bb(2),r.oc(t.title)}}let vE=(()=>{class t{constructor(){this.navItems=[{title:"customers",icon:"bi bi-briefcase-fill",link:"customers"},{title:"contacts",icon:"bi bi-people-fill",link:"contacts"},{title:"leads",icon:"bi bi-signpost-split",link:"leads"},{title:"reports",icon:"bi bi-file-earmark-bar-graph",link:"reports"},{title:"integrations",icon:"bi bi-layers-fill",link:"integrations"},{title:"year end sale",icon:"bi bi-flag-fill",link:"year-end-sale"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-sidenav"]],decls:2,vars:1,consts:[[1,"nav","flex-column","pt-4","bg-dark"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","text-white",3,"routerLink"],[1,"ms-3"]],template:function(t,e){1&t&&(r.Pb(0,"ul",0),r.lc(1,mE,5,4,"li",1),r.Ob()),2&t&&(r.Bb(1),r.dc("ngForOf",e.navItems))},directives:[ut,Li,Ui],styles:["ul[_ngcontent-%COMP%]{height:95vh}.active[_ngcontent-%COMP%]{background-color:gray}"]}),t})(),yE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-dashboard"]],decls:10,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","pl-0","g-0"],[1,"col-10"]],template:function(t,e){1&t&&(r.Pb(0,"header"),r.Nb(1,"app-navbar"),r.Ob(),r.Pb(2,"main"),r.Pb(3,"div",0),r.Pb(4,"div",1),r.Pb(5,"div",2),r.Nb(6,"app-sidenav"),r.Ob(),r.Pb(7,"div",3),r.Nb(8,"router-outlet"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Nb(9,"footer"))},directives:[gE,vE,Bi],styles:[""]}),t})(),bE=(()=>{class t{constructor(t){this.authService=t}clickHandler(t){t.preventDefault(),this.authService.loginWithGoogle()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dE))},t.\u0275dir=r.Hb({type:t,selectors:[["","appSignWithGoogle",""]],hostBindings:function(t,e){1&t&&r.Wb("click",function(t){return e.clickHandler(t)})}}),t})();function wE(t,e){if(1&t&&(r.Pb(0,"div",18),r.nc(1),r.Ob()),2&t){const t=r.Yb();r.Bb(1),r.pc(" ",t.error," ")}}const _E=function(t,e){return{"is-invalid":t,"is-valid":e}};let EE=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.form={email:"",password:""},this.error=""}onSubmit({valid:t}){return Object(vo.b)(this,void 0,void 0,function*(){if(t){this.error="";try{yield this.authService.loginWithEmail(this.form.email,this.form.password),this.router.navigate(["/dashboard"])}catch(e){this.error=e.message}}})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dE),r.Mb(Fi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],decls:31,vars:12,consts:[[1,"row"],[1,"col-8","m-auto"],["novalidate","","autocomplete","off",3,"ngSubmit"],["loginForm","ngForm"],[1,"text-center","mb-4"],[1,"h3","mb-3","font-weight-normal"],[1,"bi","bi-chevron-double-up"],[1,"form-group","mb-4"],[1,"form-group"],["name","email","required","","type","email","placeholder","john@doe.com","id","email","autocomplete","username",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["emailF","ngModel"],[1,"invalid-feedback"],["name","password","required","","type","password","id","password","autocomplete","current-password",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["passwordF","ngModel"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],["appSignWithGoogle","",1,"btn","btn-lg","btn-primary","btn-block"],[1,"mt-5","mb-3","text-muted","text-center"],[1,"text-danger"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"form",2,3),r.Wb("ngSubmit",function(){r.ic(t);const n=r.hc(3);return e.onSubmit(n)}),r.Pb(4,"div",4),r.Pb(5,"h1",5),r.nc(6," COMPANY "),r.Nb(7,"i",6),r.nc(8," CRM "),r.Ob(),r.Pb(9,"p"),r.nc(10,"Login with your account"),r.Ob(),r.Ob(),r.Pb(11,"div",7),r.Pb(12,"div",8),r.Pb(13,"input",9,10),r.Wb("ngModelChange",function(t){return e.form.email=t}),r.Ob(),r.Pb(15,"div",11),r.nc(16,"Valid email is required"),r.Ob(),r.Ob(),r.Ob(),r.Pb(17,"div",7),r.Pb(18,"div",8),r.Pb(19,"input",12,13),r.Wb("ngModelChange",function(t){return e.form.password=t}),r.Ob(),r.Pb(21,"div",11),r.nc(22,"Password is required"),r.Ob(),r.Ob(),r.Ob(),r.lc(23,wE,2,1,"div",14),r.Pb(24,"button",15),r.nc(25," Sign in "),r.Ob(),r.Ob(),r.Nb(26,"hr"),r.Pb(27,"button",16),r.nc(28," Log in with Google "),r.Ob(),r.Pb(29,"p",17),r.nc(30,"\xa9 2019-2020"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.hc(3),n=r.hc(14),i=r.hc(20);r.Bb(13),r.dc("ngModel",e.form.email)("ngClass",r.fc(6,_E,n.invalid&&n.touched,n.touched&&n.valid)),r.Bb(6),r.dc("ngModel",e.form.password)("ngClass",r.fc(9,_E,i.invalid&&i.touched,i.touched&&i.valid)),r.Bb(4),r.dc("ngIf",e.error),r.Bb(1),r.dc("disabled",t.invalid)}},directives:[A_,r_,I_,Lw,x_,n_,S_,st,lt,bE],styles:[""]}),t})(),CE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-page-not-found"]],decls:1,vars:0,consts:[["title","page not found","icon","bi bi-exclamation-lg","description","the page you are looking for is not found - Error 404."]],template:function(t,e){1&t&&r.Nb(0,"app-page-header",0)},directives:[uo],styles:[""]}),t})(),IE=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.user$.pipe(Object(Oe.a)(t=>"/login"===e.url?!t||this.router.parseUrl("/dashboard"):!!t||this.router.parseUrl("/login")))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(dE),r.Tb(Fi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TE=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:EE,canActivate:[IE]},{path:"dashboard",component:yE,canActivate:[IE],children:[{path:"",redirectTo:"/dashboard/customers",pathMatch:"full"},{path:"customers",component:fE},{path:"customers/new",component:rE},{path:"customers/:id",component:Nw},{path:"customers/:id/edit",component:W_},{path:"contacts",component:mo}]},{path:"page-not-found",component:CE},{path:"**",redirectTo:"/page-not-found",pathMatch:"full"}];let OE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Xi.forRoot(TE)],Xi]}),t})();class SE{}class AE{}class DE{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof DE?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new DE;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof DE?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class kE{encodeKey(t){return xE(t)}encodeValue(t){return xE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function xE(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class NE{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new kE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new NE({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function PE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function jE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function RE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class FE{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new DE),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new NE,this.urlWithParams=e}serializeBody(){return null===this.body?null:PE(this.body)||jE(this.body)||RE(this.body)||"string"==typeof this.body?this.body:this.body instanceof NE?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RE(this.body)?null:jE(this.body)?this.body.type||null:PE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof NE?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new FE(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var ME=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class LE{constructor(t,e=200,n="OK"){this.headers=t.headers||new DE,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class VE extends LE{constructor(t={}){super(t),this.type=ME.ResponseHeader}clone(t={}){return new VE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class UE extends LE{constructor(t={}){super(t),this.type=ME.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new UE({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class BE extends LE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function qE(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let HE=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof FE)r=t;else{let i,o;i=n.headers instanceof DE?n.headers:new DE(n.headers),n.params&&(o=n.params instanceof NE?n.params:new NE({fromObject:n.params})),r=new FE(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(ie.a)(r).pipe(Ke(t=>this.handler.handle(t)));if(t instanceof FE||"events"===n.observe)return i;const o=i.pipe(Ve(t=>t instanceof UE));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Oe.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Oe.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Oe.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Oe.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new NE).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,qE(n,e))}post(t,e,n={}){return this.request("POST",t,qE(n,e))}put(t,e,n={}){return this.request("PUT",t,qE(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(SE))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class zE{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const GE=new r.r("HTTP_INTERCEPTORS");let KE=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const WE=/^\)\]\}',?\n/;class $E{}let QE=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),YE=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pe.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new DE(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new VE({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(WE,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new UE({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new BE({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new BE({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:ME.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:ME.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:ME.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($E))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const XE=new r.r("XSRF_COOKIE_NAME"),JE=new r.r("XSRF_HEADER_NAME");class ZE{}let tC=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ot(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s),r.Tb(r.C),r.Tb(XE))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),eC=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ZE),r.Tb(JE))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),nC=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(GE,[]);this.chain=t.reduceRight((t,e)=>new zE(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(AE),r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),rC=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:eC,useClass:KE}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:XE,useValue:e.cookieName}:[],e.headerName?{provide:JE,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[eC,{provide:GE,useExisting:eC,multi:!0},{provide:ZE,useClass:tC},{provide:XE,useValue:"XSRF-TOKEN"},{provide:JE,useValue:"X-XSRF-TOKEN"}]}),t})(),iC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[HE,{provide:SE,useClass:nC},YE,{provide:AE,useExisting:YE},QE,{provide:$E,useExisting:QE}],imports:[[rC.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const oC={apiKey:"AIzaSyBp8qEm2dOXLcBA1i8lA58ubIY0YlSwKxw",authDomain:"naor-royal-crm.firebaseapp.com",projectId:"naor-royal-crm",storageBucket:"naor-royal-crm.appspot.com",messagingSenderId:"601787310830",appId:"1:601787310830:web:e7453acaeac4e3a110c9ff"};let sC=(()=>{class t{constructor(){this.title="royal-crm"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:[Bi],styles:[""]}),t})(),aC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[sC]}),t.\u0275inj=r.Jb({providers:[],imports:[[ne,OE,iC,M_,ko.a.initializeApp(oC),hw,Sw]]}),t})();Object(r.T)(),te().bootstrapModule(aC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);